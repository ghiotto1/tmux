# Purpose
The provided code is a C header file, `bitstring.h`, which defines a set of macros for managing bitstrings. A bitstring is a sequence of bits that can be manipulated at the bit level, and this file provides a collection of macros to allocate, test, set, clear, and manipulate bits within such a sequence. The file defines a type `bitstr_t` as an unsigned char, which serves as the basic unit for the bitstring operations. The macros include functionality for calculating the size of a bitstring (`bitstr_size`), allocating memory for a bitstring (`bit_alloc`), and declaring a bitstring on the stack (`bit_decl`). Additionally, it provides macros for testing (`bit_test`), setting (`bit_set`), and clearing (`bit_clear`) individual bits, as well as for setting and clearing ranges of bits (`bit_nset`, `bit_nclear`). It also includes macros to find the first clear bit (`bit_ffc`) and the first set bit (`bit_ffs`) in a bitstring.

This header file is designed to be included in other C source files, providing a public API for bitstring manipulation. The macros are implemented using efficient bitwise operations, allowing for compact and fast manipulation of bits. The file includes internal macros for calculating the byte and bit mask for a given bit position, which are used by the external macros to perform the necessary operations. The code is derived from software contributed to Berkeley by Paul Vixie and has been modified for compatibility and bug fixes. The header file is part of the OpenBSD and NetBSD projects, as indicated by the version control comments at the top of the file.
