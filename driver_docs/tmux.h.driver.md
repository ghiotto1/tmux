# Purpose
This C header file, `tmux.h`, is part of the source code for `tmux`, a terminal multiplexer that allows users to manage multiple terminal sessions from a single window. The file serves as a comprehensive declaration of the various data structures, constants, macros, and function prototypes used throughout the `tmux` application. It defines a wide range of components, including structures for managing sessions, windows, panes, and client connections, as well as enumerations and macros for handling terminal input, key bindings, and screen attributes.

The file is integral to the `tmux` codebase, providing the necessary declarations for implementing the application's core functionalities, such as session management, window layout, and user interaction. It includes definitions for handling terminal capabilities, mouse events, and key codes, as well as utilities for managing options, environment variables, and job processes. Additionally, the file outlines the interfaces for various modules, such as those for handling input, output, and screen drawing, making it a central component for developers working on extending or maintaining the `tmux` application.
# Imports and Dependencies

---
- `sys/time.h`
- `sys/uio.h`
- `limits.h`
- `stdarg.h`
- `stdio.h`
- `termios.h`
- `wchar.h`
- `utempter.h`
- `compat.h`
- `tmux-protocol.h`
- `xmalloc.h`


# Global Variables

---
### environ
- **Type**: `char **`
- **Description**: The `environ` variable is a pointer to an array of strings, where each string represents an environment variable in the format 'KEY=VALUE'. It is declared as an external variable, meaning it is defined elsewhere, typically by the operating system or runtime environment.
- **Use**: This variable is used to access and manipulate the environment variables of the process.


---
### __packed
- **Type**: `struct grid_cell_entry`
- **Description**: The `struct grid_cell_entry` is a packed data structure used to represent a cell in a grid. It contains a union that can either store an offset as an unsigned integer or a nested structure with attributes for color and data. Additionally, it has a flags field to store various status flags for the cell.
- **Use**: This structure is used to efficiently store and manage grid cell data with minimal memory overhead due to its packed attribute.


---
### global_options
- **Type**: ``struct options *``
- **Description**: `global_options` is a pointer to a `struct options`, which is a data structure used to store configuration options for the application. This structure is likely used to manage various settings and preferences that can be applied globally across the application.
- **Use**: This variable is used to access and modify global configuration options for the application.


---
### global_s_options
- **Type**: `struct options*`
- **Description**: `global_s_options` is a global variable that is a pointer to a `struct options`. This structure is likely used to store configuration or settings related to a specific aspect of the application, possibly session-related options given the naming convention.
- **Use**: This variable is used to access and manipulate global session options throughout the application.


---
### global_w_options
- **Type**: `struct options*`
- **Description**: `global_w_options` is a global variable that is a pointer to a `struct options`. This structure is likely used to store configuration options or settings for a particular component or module in the software.
- **Use**: This variable is used to access and manage window-specific options or settings globally across the application.


---
### global_environ
- **Type**: `struct environ*`
- **Description**: `global_environ` is a pointer to a structure of type `environ`, which is used to manage environment variables within the application. This structure likely contains entries representing environment variables and their values, and may include additional metadata or flags.
- **Use**: This variable is used to access and manipulate the environment variables globally across the application.


---
### start_time
- **Type**: `struct timeval`
- **Description**: The `start_time` variable is a global variable of type `struct timeval`, which is typically used to represent a specific point in time with second and microsecond precision. It is declared as an external variable, indicating that it is defined elsewhere, possibly in another source file.
- **Use**: This variable is used to store the start time of a particular event or process, allowing for time calculations or measurements.


---
### socket_path
- **Type**: `const char*`
- **Description**: The `socket_path` variable is a global constant pointer to a character string that represents the path to a socket used by the application. It is declared as an external variable, indicating that its definition is likely found in another source file.
- **Use**: This variable is used to specify the location of the socket file for inter-process communication.


---
### shell_command
- **Type**: ``const char *``
- **Description**: The `shell_command` is a global constant character pointer that holds a string representing the default shell command to be used by the application. It is declared as an external variable, indicating that its definition is likely found in another source file.
- **Use**: This variable is used to store and provide access to the default shell command for executing shell-related operations within the application.


---
### ptm_fd
- **Type**: `int`
- **Description**: `ptm_fd` is a global integer variable declared as an external variable, indicating it is defined elsewhere in the program. It likely represents a file descriptor for a pseudo-terminal master (PTM).
- **Use**: This variable is used to manage and interact with a pseudo-terminal master in the program.


---
### shell_argv0
- **Type**: `function pointer`
- **Description**: `shell_argv0` is a function pointer that takes a `const char *` and an `int` as arguments and returns a `char *`. It is declared as an external function, suggesting it is defined elsewhere in the program or in a linked library.
- **Use**: This function is likely used to manipulate or retrieve the shell's argument vector, specifically the first argument (argv[0]), which typically contains the name of the program.


---
### sig2name
- **Type**: `function`
- **Description**: The `sig2name` function is a global function that takes an integer as an argument and returns a constant character pointer. It is likely used to convert a signal number to its corresponding signal name as a string.
- **Use**: This function is used to map signal numbers to their respective signal names in string format.


---
### find_cwd
- **Type**: `function`
- **Description**: The `find_cwd` function is a global function that returns a constant character pointer. It is likely used to retrieve the current working directory of the process.
- **Use**: This function is used to obtain the current working directory as a string.


---
### find_home
- **Type**: `function`
- **Description**: `find_home` is a function that returns a constant character pointer. It is likely used to retrieve the home directory path of the current user or environment.
- **Use**: This function is used to obtain the home directory path, which can be utilized in various parts of the program where the home directory is needed.


---
### getversion
- **Type**: ``const char *``
- **Description**: The `getversion` variable is a function that returns a constant character pointer. This function is likely used to retrieve a version string of the software or library it is part of.
- **Use**: This variable is used to obtain the version information of the software.


---
### proc_start
- **Type**: `function pointer`
- **Description**: `proc_start` is a function pointer that returns a pointer to a `tmuxproc` structure and takes a single `const char *` argument. This function is likely used to initialize or start a new tmux process with a given name or identifier.
- **Use**: This function pointer is used to start a new tmux process, returning a pointer to the process structure for further manipulation or control.


---
### proc_add_peer
- **Type**: `struct tmuxpeer *`
- **Description**: The `proc_add_peer` function is a global function that returns a pointer to a `struct tmuxpeer`. It is used to add a peer to a `tmuxproc` process, which is part of the tmux server-client communication mechanism.
- **Use**: This function is used to establish a new peer connection within a tmux process, allowing for message handling through a specified callback.


---
### cfg_finished
- **Type**: `int`
- **Description**: The `cfg_finished` variable is an external integer that likely serves as a flag to indicate whether a configuration process has been completed. It is declared as an external variable, suggesting it is defined elsewhere in the program.
- **Use**: This variable is used to track the completion status of a configuration process, allowing other parts of the program to check if the configuration has been finalized.


---
### cfg_client
- **Type**: ``struct client *``
- **Description**: `cfg_client` is a global variable that is a pointer to a `struct client`. This structure likely represents a client in the context of the software, which could be a user or a connection to a service.
- **Use**: This variable is used to reference a specific client instance throughout the program, allowing various functions to interact with or modify the client's state.


---
### cfg_files
- **Type**: `char **`
- **Description**: `cfg_files` is a global variable that is a pointer to an array of strings, where each string represents a configuration file path. It is used in conjunction with `cfg_nfiles`, which indicates the number of configuration files in the array.
- **Use**: This variable is used to store and access the paths of configuration files that the program will process.


---
### cfg_nfiles
- **Type**: `u_int`
- **Description**: The `cfg_nfiles` variable is a global variable of type `u_int` (unsigned integer). It is declared as an external variable, indicating that it is defined elsewhere in the program.
- **Use**: This variable is used to store the number of configuration files that are being processed or managed.


---
### cfg_quiet
- **Type**: `int`
- **Description**: The `cfg_quiet` variable is a global integer that is declared as an external variable, indicating it is defined elsewhere in the program. It is likely used to control the verbosity of configuration-related operations, where a non-zero value might suppress output or logging.
- **Use**: This variable is used to determine whether configuration operations should run quietly, without producing output.


# Data Structures

---
### tty_code_code
- **Type**: `enum`
- **Members**:
    - `TTYC_ACSC`: Represents the ACS (Alternate Character Set) capability.
    - `TTYC_AM`: Indicates if automatic margins are supported.
    - `TTYC_AX`: Represents the AX (Alternate Character Set) capability.
    - `TTYC_BCE`: Indicates if background color erase is supported.
    - `TTYC_BEL`: Represents the BEL (Bell) capability.
    - `TTYC_BIDI`: Indicates if bidirectional text is supported.
    - `TTYC_BLINK`: Represents the BLINK capability.
    - `TTYC_BOLD`: Indicates if bold text is supported.
    - `TTYC_CIVIS`: Represents the capability to make the cursor invisible.
    - `TTYC_CLEAR`: Represents the capability to clear the screen.
    - `TTYC_CLMG`: Indicates if clear margins are supported.
    - `TTYC_CMG`: Represents the capability to change margins.
    - `TTYC_CNORM`: Indicates if normal cursor is supported.
    - `TTYC_COLORS`: Represents the number of colors supported.
    - `TTYC_CR`: Represents the carriage return capability.
    - `TTYC_CS`: Indicates if change screen is supported.
    - `TTYC_CSR`: Represents the capability to change cursor position.
    - `TTYC_CUB`: Represents the capability to move the cursor left.
    - `TTYC_CUB1`: Indicates the capability to move the cursor left by one.
    - `TTYC_CUD`: Represents the capability to move the cursor down.
    - `TTYC_CUD1`: Indicates the capability to move the cursor down by one.
    - `TTYC_CUF`: Represents the capability to move the cursor forward.
    - `TTYC_CUF1`: Indicates the capability to move the cursor forward by one.
    - `TTYC_CUP`: Represents the capability to position the cursor.
    - `TTYC_CUU`: Represents the capability to move the cursor up.
    - `TTYC_CUU1`: Indicates the capability to move the cursor up by one.
    - `TTYC_CVVIS`: Represents the capability to make the cursor visible.
    - `TTYC_DCH`: Represents the capability to delete characters.
    - `TTYC_DCH1`: Indicates the capability to delete one character.
    - `TTYC_DIM`: Represents the capability to dim text.
    - `TTYC_DL`: Represents the capability to delete lines.
    - `TTYC_DL1`: Indicates the capability to delete one line.
    - `TTYC_DSBP`: Represents the capability to disable the scrollback.
    - `TTYC_DSEKS`: Indicates the capability to disable the escape sequences.
    - `TTYC_DSFCS`: Represents the capability to disable the function keys.
    - `TTYC_DSMG`: Indicates the capability to disable the mouse.
    - `TTYC_E3`: Represents the capability for E3.
    - `TTYC_ECH`: Represents the capability to erase characters.
    - `TTYC_ED`: Represents the capability to erase the display.
    - `TTYC_EL`: Represents the capability to erase the line.
    - `TTYC_EL1`: Indicates the capability to erase one line.
    - `TTYC_ENACS`: Represents the capability to enable alternate character set.
    - `TTYC_ENBP`: Indicates the capability to enable background processing.
    - `TTYC_ENEKS`: Represents the capability to enable escape sequences.
    - `TTYC_ENFCS`: Indicates the capability to enable function keys.
    - `TTYC_ENMG`: Represents the capability to enable mouse.
    - `TTYC_FSL`: Represents the capability for FSL.
    - `TTYC_HLS`: Represents the capability for HLS.
    - `TTYC_HOME`: Represents the capability to move to home position.
    - `TTYC_HPA`: Represents the capability to set horizontal position.
    - `TTYC_ICH`: Represents the capability to insert characters.
    - `TTYC_ICH1`: Indicates the capability to insert one character.
    - `TTYC_IL`: Represents the capability to insert lines.
    - `TTYC_IL1`: Indicates the capability to insert one line.
    - `TTYC_INDN`: Represents the capability to indent.
    - `TTYC_INVIS`: Represents the capability to make text invisible.
    - `TTYC_KCBT`: Represents the capability for KCBT.
    - `TTYC_KCUB1`: Indicates the capability for KCUB1.
    - `TTYC_KCUD1`: Indicates the capability for KCUD1.
    - `TTYC_KCUF1`: Indicates the capability for KCUF1.
    - `TTYC_KCUU1`: Indicates the capability for KCUU1.
    - `TTYC_KDC2`: Represents the capability for KDC2.
    - `TTYC_KDC3`: Represents the capability for KDC3.
    - `TTYC_KDC4`: Represents the capability for KDC4.
    - `TTYC_KDC5`: Represents the capability for KDC5.
    - `TTYC_KDC6`: Represents the capability for KDC6.
    - `TTYC_KDC7`: Represents the capability for KDC7.
    - `TTYC_KDCH1`: Indicates the capability for KDCH1.
    - `TTYC_KDN2`: Represents the capability for KDN2.
    - `TTYC_KDN3`: Represents the capability for KDN3.
    - `TTYC_KDN4`: Represents the capability for KDN4.
    - `TTYC_KDN5`: Represents the capability for KDN5.
    - `TTYC_KDN6`: Represents the capability for KDN6.
    - `TTYC_KDN7`: Represents the capability for KDN7.
    - `TTYC_KEND`: Represents the capability for KEND.
    - `TTYC_KEND2`: Represents the capability for KEND2.
    - `TTYC_KEND3`: Represents the capability for KEND3.
    - `TTYC_KEND4`: Represents the capability for KEND4.
    - `TTYC_KEND5`: Represents the capability for KEND5.
    - `TTYC_KEND6`: Represents the capability for KEND6.
    - `TTYC_KEND7`: Represents the capability for KEND7.
    - `TTYC_KF1`: Represents the capability for function key 1.
    - `TTYC_KF10`: Represents the capability for function key 10.
    - `TTYC_KF11`: Represents the capability for function key 11.
    - `TTYC_KF12`: Represents the capability for function key 12.
    - `TTYC_KF13`: Represents the capability for function key 13.
    - `TTYC_KF14`: Represents the capability for function key 14.
    - `TTYC_KF15`: Represents the capability for function key 15.
    - `TTYC_KF16`: Represents the capability for function key 16.
    - `TTYC_KF17`: Represents the capability for function key 17.
    - `TTYC_KF18`: Represents the capability for function key 18.
    - `TTYC_KF19`: Represents the capability for function key 19.
    - `TTYC_KF2`: Represents the capability for function key 2.
    - `TTYC_KF20`: Represents the capability for function key 20.
    - `TTYC_KF21`: Represents the capability for function key 21.
    - `TTYC_KF22`: Represents the capability for function key 22.
    - `TTYC_KF23`: Represents the capability for function key 23.
    - `TTYC_KF24`: Represents the capability for function key 24.
    - `TTYC_KF25`: Represents the capability for function key 25.
    - `TTYC_KF26`: Represents the capability for function key 26.
    - `TTYC_KF27`: Represents the capability for function key 27.
    - `TTYC_KF28`: Represents the capability for function key 28.
    - `TTYC_KF29`: Represents the capability for function key 29.
    - `TTYC_KF3`: Represents the capability for function key 3.
    - `TTYC_KF30`: Represents the capability for function key 30.
    - `TTYC_KF31`: Represents the capability for function key 31.
    - `TTYC_KF32`: Represents the capability for function key 32.
    - `TTYC_KF33`: Represents the capability for function key 33.
    - `TTYC_KF34`: Represents the capability for function key 34.
    - `TTYC_KF35`: Represents the capability for function key 35.
    - `TTYC_KF36`: Represents the capability for function key 36.
    - `TTYC_KF37`: Represents the capability for function key 37.
    - `TTYC_KF38`: Represents the capability for function key 38.
    - `TTYC_KF39`: Represents the capability for function key 39.
    - `TTYC_KF4`: Represents the capability for function key 4.
    - `TTYC_KF40`: Represents the capability for function key 40.
    - `TTYC_KF41`: Represents the capability for function key 41.
    - `TTYC_KF42`: Represents the capability for function key 42.
    - `TTYC_KF43`: Represents the capability for function key 43.
    - `TTYC_KF44`: Represents the capability for function key 44.
    - `TTYC_KF45`: Represents the capability for function key 45.
    - `TTYC_KF46`: Represents the capability for function key 46.
    - `TTYC_KF47`: Represents the capability for function key 47.
    - `TTYC_KF48`: Represents the capability for function key 48.
    - `TTYC_KF49`: Represents the capability for function key 49.
    - `TTYC_KF5`: Represents the capability for function key 5.
    - `TTYC_KF50`: Represents the capability for function key 50.
    - `TTYC_KF51`: Represents the capability for function key 51.
    - `TTYC_KF52`: Represents the capability for function key 52.
    - `TTYC_KF53`: Represents the capability for function key 53.
    - `TTYC_KF54`: Represents the capability for function key 54.
    - `TTYC_KF55`: Represents the capability for function key 55.
    - `TTYC_KF56`: Represents the capability for function key 56.
    - `TTYC_KF57`: Represents the capability for function key 57.
    - `TTYC_KF58`: Represents the capability for function key 58.
    - `TTYC_KF59`: Represents the capability for function key 59.
    - `TTYC_KF6`: Represents the capability for function key 6.
    - `TTYC_KF60`: Represents the capability for function key 60.
    - `TTYC_KF61`: Represents the capability for function key 61.
    - `TTYC_KF62`: Represents the capability for function key 62.
    - `TTYC_KF63`: Represents the capability for function key 63.
    - `TTYC_KF7`: Represents the capability for function key 7.
    - `TTYC_KF8`: Represents the capability for function key 8.
    - `TTYC_KF9`: Represents the capability for function key 9.
    - `TTYC_KHOM2`: Represents the capability for KHOM2.
    - `TTYC_KHOM3`: Represents the capability for KHOM3.
    - `TTYC_KHOM4`: Represents the capability for KHOM4.
    - `TTYC_KHOM5`: Represents the capability for KHOM5.
    - `TTYC_KHOM6`: Represents the capability for KHOM6.
    - `TTYC_KHOM7`: Represents the capability for KHOM7.
    - `TTYC_KHOME`: Represents the capability for KHOME.
    - `TTYC_KIC2`: Represents the capability for KIC2.
    - `TTYC_KIC3`: Represents the capability for KIC3.
    - `TTYC_KIC4`: Represents the capability for KIC4.
    - `TTYC_KIC5`: Represents the capability for KIC5.
    - `TTYC_KIC6`: Represents the capability for KIC6.
    - `TTYC_KIC7`: Represents the capability for KIC7.
    - `TTYC_KICH1`: Represents the capability for KICH1.
    - `TTYC_KIND`: Represents the capability for KIND.
    - `TTYC_KLFT2`: Represents the capability for KLFT2.
    - `TTYC_KLFT3`: Represents the capability for KLFT3.
    - `TTYC_KLFT4`: Represents the capability for KLFT4.
    - `TTYC_KLFT5`: Represents the capability for KLFT5.
    - `TTYC_KLFT6`: Represents the capability for KLFT6.
    - `TTYC_KLFT7`: Represents the capability for KLFT7.
    - `TTYC_KMOUS`: Represents the capability for KMOUS.
    - `TTYC_KNP`: Represents the capability for KNP.
    - `TTYC_KNXT2`: Represents the capability for KNXT2.
    - `TTYC_KNXT3`: Represents the capability for KNXT3.
    - `TTYC_KNXT4`: Represents the capability for KNXT4.
    - `TTYC_KNXT5`: Represents the capability for KNXT5.
    - `TTYC_KNXT6`: Represents the capability for KNXT6.
    - `TTYC_KNXT7`: Represents the capability for KNXT7.
    - `TTYC_KPP`: Represents the capability for KPP.
    - `TTYC_KPRV2`: Represents the capability for KPRV2.
    - `TTYC_KPRV3`: Represents the capability for KPRV3.
    - `TTYC_KPRV4`: Represents the capability for KPRV4.
    - `TTYC_KPRV5`: Represents the capability for KPRV5.
    - `TTYC_KPRV6`: Represents the capability for KPRV6.
    - `TTYC_KPRV7`: Represents the capability for KPRV7.
    - `TTYC_KRI`: Represents the capability for KRI.
    - `TTYC_KRIT2`: Represents the capability for KRIT2.
    - `TTYC_KRIT3`: Represents the capability for KRIT3.
    - `TTYC_KRIT4`: Represents the capability for KRIT4.
    - `TTYC_KRIT5`: Represents the capability for KRIT5.
    - `TTYC_KRIT6`: Represents the capability for KRIT6.
    - `TTYC_KRIT7`: Represents the capability for KRIT7.
    - `TTYC_KUP2`: Represents the capability for KUP2.
    - `TTYC_KUP3`: Represents the capability for KUP3.
    - `TTYC_KUP4`: Represents the capability for KUP4.
    - `TTYC_KUP5`: Represents the capability for KUP5.
    - `TTYC_KUP6`: Represents the capability for KUP6.
    - `TTYC_KUP7`: Represents the capability for KUP7.
    - `TTYC_MS`: Represents the capability for MS.
    - `TTYC_NOBR`: Represents the capability for NOBR.
    - `TTYC_OL`: Represents the capability for OL.
    - `TTYC_OP`: Represents the capability for OP.
    - `TTYC_RECT`: Represents the capability for RECT.
    - `TTYC_REV`: Represents the capability for REV.
    - `TTYC_RGB`: Represents the capability for RGB.
    - `TTYC_RI`: Represents the capability for RI.
    - `TTYC_RIN`: Represents the capability for RIN.
    - `TTYC_RMACS`: Represents the capability for RMACS.
    - `TTYC_RMCUP`: Represents the capability for RMCUP.
    - `TTYC_RMKX`: Represents the capability for RMKX.
    - `TTYC_SE`: Represents the capability for SE.
    - `TTYC_SETAB`: Represents the capability to set background color.
    - `TTYC_SETAF`: Represents the capability to set foreground color.
    - `TTYC_SETAL`: Represents the capability to set alternate line.
    - `TTYC_SETRGBB`: Represents the capability to set RGB background.
    - `TTYC_SETRGBF`: Represents the capability to set RGB foreground.
    - `TTYC_SETULC`: Represents the capability to set underline color.
    - `TTYC_SETULC1`: Represents the capability to set underline color 1.
    - `TTYC_SGR0`: Represents the capability to reset SGR.
    - `TTYC_SITM`: Represents the capability for SITM.
    - `TTYC_SMACS`: Represents the capability for SMACS.
    - `TTYC_SMCUP`: Represents the capability for SMCUP.
    - `TTYC_SMKX`: Represents the capability for SMKX.
    - `TTYC_SMOL`: Represents the capability for SMOL.
    - `TTYC_SMSO`: Represents the capability for SMSO.
    - `TTYC_SMUL`: Represents the capability for SMUL.
    - `TTYC_SMULX`: Represents the capability for SMULX.
    - `TTYC_SMXX`: Represents the capability for SMXX.
    - `TTYC_SXL`: Represents the capability for SXL.
    - `TTYC_SS`: Represents the capability for SS.
    - `TTYC_SWD`: Represents the capability for SWD.
    - `TTYC_SYNC`: Represents the capability for SYNC.
    - `TTYC_TC`: Represents the capability for TC.
    - `TTYC_TSL`: Represents the capability for TSL.
    - `TTYC_U8`: Represents the capability for U8.
    - `TTYC_VPA`: Represents the capability for VPA.
    - `TTYC_XT`: Represents the capability for XT.
- **Description**: The `tty_code_code` enum defines a set of terminal capabilities that can be used to control various aspects of terminal behavior, such as cursor movement, text formatting, and screen manipulation. Each enumerator corresponds to a specific capability, allowing for flexible terminal control in applications.


---
### utf8_data
- **Type**: `struct`
- **Members**:
    - `data`: An array of `u_char` to hold UTF-8 encoded character data.
    - `have`: A `u_char` indicating how many bytes of the UTF-8 character are currently available.
    - `size`: A `u_char` representing the total size of the UTF-8 character.
    - `width`: A `u_char` that indicates the width of the character, set to 0xff if the character is invalid.
- **Description**: The `utf8_data` structure is designed to represent a single UTF-8 character, encapsulating its encoded data, the number of bytes currently available, the total size of the character, and its visual width. This structure is essential for handling UTF-8 characters in applications that require precise character representation, especially in text processing and rendering contexts.


---
### utf8_state
- **Type**: `enum`
- **Members**:
    - `UTF8_MORE`: Indicates that more UTF-8 bytes are expected.
    - `UTF8_DONE`: Indicates that a complete UTF-8 character has been successfully processed.
    - `UTF8_ERROR`: Indicates that an error occurred while processing UTF-8 data.
- **Description**: The `utf8_state` enum defines the possible states for processing UTF-8 encoded characters, allowing the system to track whether it is still receiving bytes for a character, has successfully completed a character, or encountered an error during decoding.


---
### colour_palette
- **Type**: `struct`
- **Members**:
    - `fg`: An integer representing the foreground color.
    - `bg`: An integer representing the background color.
    - `palette`: A pointer to an array of integers representing a custom color palette.
    - `default_palette`: A pointer to an array of integers representing the default color palette.
- **Description**: The `colour_palette` structure is designed to manage color settings for a terminal or graphical interface, containing fields for foreground and background colors, as well as pointers to custom and default color palettes.


---
### grid_cell
- **Type**: `struct`
- **Members**:
    - `data`: Contains UTF-8 character data.
    - `attr`: Stores attributes for the grid cell.
    - `flags`: Holds various flags related to the cell.
    - `fg`: Represents the foreground color.
    - `bg`: Represents the background color.
    - `us`: Stores underline style information.
    - `link`: Holds a link identifier for the cell.
- **Description**: The `grid_cell` structure represents a single cell in a grid, encapsulating information about the cell's content, attributes, colors, and additional properties such as links and flags. It includes a nested `utf8_data` structure to handle UTF-8 character data, along with fields for foreground and background colors, attributes, and flags that control the cell's appearance and behavior.


---
### grid_extd_entry
- **Type**: `struct`
- **Members**:
    - `data`: A single UTF-8 character.
    - `attr`: Attributes associated with the character.
    - `flags`: Flags indicating special properties of the entry.
    - `fg`: Foreground color index.
    - `bg`: Background color index.
    - `us`: Underlined style index.
    - `link`: Link to another entry or resource.
- **Description**: The `grid_extd_entry` structure represents an extended entry in a grid, containing a UTF-8 character along with its associated attributes, color indices, and flags. This structure is used to manage the visual representation of characters in a terminal or text interface, allowing for detailed styling and linking of characters.


---
### grid_cell_entry
- **Type**: `struct`
- **Members**:
    - `offset`: An unsigned integer representing an offset.
    - `data`: A structure containing attributes for character display.
    - `attr`: An unsigned character representing the character's attributes.
    - `fg`: An unsigned character representing the foreground color.
    - `bg`: An unsigned character representing the background color.
    - `data`: An unsigned character representing the character data.
    - `flags`: An unsigned character representing various flags for the cell.
- **Description**: The `grid_cell_entry` structure represents a single cell in a grid, which can either store an offset or character data along with its attributes such as foreground and background colors. It utilizes a union to allow for flexible storage of either an offset or a set of character attributes, making it suitable for applications that require efficient representation of grid cells in a terminal or graphical interface.


---
### grid_line
- **Type**: `struct`
- **Members**:
    - `celldata`: Pointer to an array of `grid_cell_entry` structures representing the cell data.
    - `cellused`: The number of cells currently used in the line.
    - `cellsize`: The total allocated size for the cell data.
    - `extddata`: Pointer to an array of `grid_extd_entry` structures for extended cell data.
    - `extdsize`: The size of the extended data.
    - `flags`: Integer flags for various properties of the grid line.
    - `time`: Timestamp indicating the last modification time of the grid line.
- **Description**: The `grid_line` structure represents a single line in a grid, containing cell data and extended cell data. It includes pointers to arrays of cell entries, metadata about the number of used and allocated cells, and flags for additional properties. The structure also tracks the last modification time, allowing for time-based operations or history management.


---
### grid
- **Type**: `struct`
- **Members**:
    - `flags`: An integer representing various flags for the grid.
    - `sx`: The width of the grid in cells.
    - `sy`: The height of the grid in cells.
    - `hscrolled`: The number of lines that have been scrolled in the history.
    - `hsize`: The size of the history buffer.
    - `hlimit`: The limit on the number of lines in the history.
    - `linedata`: A pointer to an array of `grid_line` structures representing the lines of the grid.
- **Description**: The `grid` structure represents a two-dimensional grid of cells used for rendering text in a terminal emulator. It maintains the dimensions of the grid, scrolling history, and an array of lines, each containing cell data. The `flags` member allows for various configurations, such as enabling history scrolling. The grid is essential for managing the display of text and handling user interactions in a terminal environment.


---
### grid_reader
- **Type**: `struct`
- **Members**:
    - `gd`: Pointer to a `grid` structure representing the grid being read.
    - `cx`: Unsigned integer representing the current x-coordinate of the cursor.
    - `cy`: Unsigned integer representing the current y-coordinate of the cursor.
- **Description**: The `grid_reader` structure is designed to facilitate reading from a grid, maintaining the current cursor position within the grid. It contains a pointer to a `grid` structure, which holds the grid data, and two unsigned integers, `cx` and `cy`, which track the cursor's current position in the x and y dimensions, respectively.


---
### style_align
- **Type**: `enum`
- **Members**:
    - `STYLE_ALIGN_DEFAULT`: Default alignment style.
    - `STYLE_ALIGN_LEFT`: Aligns content to the left.
    - `STYLE_ALIGN_CENTRE`: Centers the content.
    - `STYLE_ALIGN_RIGHT`: Aligns content to the right.
    - `STYLE_ALIGN_ABSOLUTE_CENTRE`: Aligns content to the absolute center.
- **Description**: The `style_align` enum defines various alignment styles for content, allowing for flexible positioning such as left, center, right, and absolute center, which can be utilized in styling user interfaces.


---
### style_list
- **Type**: `enum`
- **Members**:
    - `STYLE_LIST_OFF`: Represents the off state of the style list.
    - `STYLE_LIST_ON`: Represents the on state of the style list.
    - `STYLE_LIST_FOCUS`: Indicates the focus state of the style list.
    - `STYLE_LIST_LEFT_MARKER`: Designates the left marker in the style list.
    - `STYLE_LIST_RIGHT_MARKER`: Designates the right marker in the style list.
- **Description**: The `style_list` enum defines a set of constants that represent various states and markers for styling elements in a user interface, allowing for easy reference and management of these styles within the application.


---
### style_range_type
- **Type**: `enum`
- **Members**:
    - `STYLE_RANGE_NONE`: Indicates no specific style range.
    - `STYLE_RANGE_LEFT`: Indicates a style range for the left side.
    - `STYLE_RANGE_RIGHT`: Indicates a style range for the right side.
    - `STYLE_RANGE_PANE`: Indicates a style range for a specific pane.
    - `STYLE_RANGE_WINDOW`: Indicates a style range for a specific window.
    - `STYLE_RANGE_SESSION`: Indicates a style range for a specific session.
    - `STYLE_RANGE_USER`: Indicates a style range defined by the user.
- **Description**: The `style_range_type` is an enumeration that defines various types of style ranges used in a terminal multiplexer context, allowing for the specification of styles that can be applied to different components such as panes, windows, and sessions.


---
### style_range
- **Type**: `struct`
- **Members**:
    - `type`: Indicates the type of style range.
    - `argument`: An unsigned integer argument associated with the style range.
    - `string`: A character array to hold a string related to the style range.
    - `start`: An unsigned integer representing the start position of the range.
    - `end`: An unsigned integer representing the end position of the range, not included.
    - `entry`: A linked list entry for managing multiple style ranges.
- **Description**: The `style_range` structure defines a range of styles that can be applied to a text segment, including its type, associated argument, and a string representation. It includes fields for specifying the start and end positions of the range, as well as a linked list entry for managing multiple `style_range` instances.


---
### style_default_type
- **Type**: `enum`
- **Members**:
    - `STYLE_DEFAULT_BASE`: Represents the base style default.
    - `STYLE_DEFAULT_PUSH`: Indicates a push style default.
    - `STYLE_DEFAULT_POP`: Indicates a pop style default.
- **Description**: The `style_default_type` enum defines three constants that represent different default styles used in the application, allowing for a clear distinction between base, push, and pop styles.


---
### style
- **Type**: `struct`
- **Members**:
    - `gc`: A `grid_cell` structure representing the graphical cell attributes.
    - `ignore`: An integer flag to indicate whether to ignore certain styles.
    - `fill`: An integer value specifying the fill style.
    - `align`: An enumeration indicating the alignment of the style.
    - `list`: An enumeration indicating the list style.
    - `range_type`: An enumeration indicating the type of range for the style.
    - `range_argument`: An unsigned integer representing an argument for the range.
    - `range_string`: A character array for storing a string related to the range.
    - `width`: An integer representing the width of the style.
    - `pad`: An integer representing padding for the style.
    - `default_type`: An enumeration indicating the default type of the style.
- **Description**: The `style` structure encapsulates various attributes related to the styling of grid cells in a terminal interface. It includes graphical cell attributes, alignment options, fill styles, and range specifications, allowing for flexible and customizable visual representation in terminal applications. The structure also supports padding and width adjustments, making it suitable for various display contexts.


---
### image
- **Type**: `struct`
- **Members**:
    - `s`: Pointer to a `screen` structure representing the screen context for the image.
    - `data`: Pointer to a `sixel_image` structure containing the image data.
    - `fallback`: String representing a fallback image or data if the primary image cannot be displayed.
    - `px`: Unsigned integer representing the pixel width of the image.
    - `py`: Unsigned integer representing the pixel height of the image.
    - `sx`: Unsigned integer representing the source width of the image.
    - `sy`: Unsigned integer representing the source height of the image.
    - `all_entry`: Entry for linking this image in a global list of images.
    - `entry`: Entry for linking this image in a specific list.
- **Description**: The `image` structure is designed to represent an image in a terminal application, encapsulating details such as the screen context, image data, dimensions, and fallback options. It includes pointers to a `screen` structure and a `sixel_image` structure, which together allow for the rendering of images in a terminal environment. The structure also maintains dimensions for the image and provides entries for managing linked lists of images.


---
### screen_cursor_style
- **Type**: `enum`
- **Members**:
    - `SCREEN_CURSOR_DEFAULT`: Represents the default cursor style.
    - `SCREEN_CURSOR_BLOCK`: Represents a block cursor style.
    - `SCREEN_CURSOR_UNDERLINE`: Represents an underline cursor style.
    - `SCREEN_CURSOR_BAR`: Represents a vertical bar cursor style.
- **Description**: The `screen_cursor_style` enum defines various styles for the cursor in a terminal screen, allowing for customization of the cursor's appearance during text input or display. The available styles include a default style, a block style, an underline style, and a vertical bar style, providing flexibility for user preferences or application requirements.


---
### screen
- **Type**: `struct`
- **Members**:
    - `title`: A pointer to a string representing the title of the screen.
    - `path`: A pointer to a string representing the path associated with the screen.
    - `titles`: A pointer to a `screen_titles` structure containing titles for the screen.
    - `grid`: A pointer to a `grid` structure that holds the grid data for the screen.
    - `cx`: An unsigned integer representing the cursor's x-coordinate.
    - `cy`: An unsigned integer representing the cursor's y-coordinate.
    - `cstyle`: An enumeration representing the current cursor style.
    - `default_cstyle`: An enumeration representing the default cursor style.
    - `ccolour`: An integer representing the current cursor color.
    - `default_ccolour`: An integer representing the default cursor color.
    - `rupper`: An unsigned integer representing the top of the scroll region.
    - `rlower`: An unsigned integer representing the bottom of the scroll region.
    - `mode`: An integer representing the current mode of the screen.
    - `default_mode`: An integer representing the default mode of the screen.
    - `saved_cx`: An unsigned integer representing the saved cursor's x-coordinate.
    - `saved_cy`: An unsigned integer representing the saved cursor's y-coordinate.
    - `saved_grid`: A pointer to a `grid` structure representing the saved grid.
    - `saved_cell`: A `grid_cell` structure representing the saved cell.
    - `saved_flags`: An integer representing the saved flags.
    - `tabs`: A pointer to a `bitstr_t` structure representing tab settings.
    - `sel`: A pointer to a `screen_sel` structure representing the screen selection.
    - `images`: A structure representing images, enabled if SIXEL support is compiled.
    - `write_list`: A pointer to a `screen_write_cline` structure representing the write list.
    - `hyperlinks`: A pointer to a `hyperlinks` structure representing hyperlinks.
- **Description**: The `screen` structure represents a virtual screen in a terminal multiplexer, encapsulating various attributes such as the title, path, cursor position, cursor style, scroll region, and grid data. It also maintains state information for saved cursor positions, modes, and selections, as well as support for images and hyperlinks, allowing for rich text display and interaction within the terminal environment.


---
### screen_write_ctx
- **Type**: `struct`
- **Members**:
    - `wp`: Pointer to a `window_pane` structure representing the associated window pane.
    - `s`: Pointer to a `screen` structure representing the screen context.
    - `flags`: Integer flags for controlling screen write behavior.
    - `init_ctx_cb`: Callback function for initializing the screen write context.
    - `arg`: Pointer to user-defined argument for the callback.
    - `item`: Pointer to a `screen_write_citem` structure representing the current item being written.
    - `scrolled`: Unsigned integer representing the number of lines scrolled.
    - `bg`: Unsigned integer representing the background color.
- **Description**: The `screen_write_ctx` structure is used to manage the context for writing to a screen in a terminal multiplexer environment. It holds references to the associated window pane and screen, as well as flags to control the writing behavior, a callback for initialization, and additional parameters for managing the writing process. This structure facilitates the organization and execution of screen output operations, ensuring that the correct context and settings are applied during screen updates.


---
### box_lines
- **Type**: `enum`
- **Members**:
    - `BOX_LINES_DEFAULT`: Represents the default box line style.
    - `BOX_LINES_SINGLE`: Represents a single line box style.
    - `BOX_LINES_DOUBLE`: Represents a double line box style.
    - `BOX_LINES_HEAVY`: Represents a heavy line box style.
    - `BOX_LINES_SIMPLE`: Represents a simple line box style.
    - `BOX_LINES_ROUNDED`: Represents a rounded box line style.
    - `BOX_LINES_PADDED`: Represents a padded box line style.
    - `BOX_LINES_NONE`: Indicates no box lines.
- **Description**: The `box_lines` enum defines various styles for box borders that can be used in a terminal user interface. Each enumerator represents a different visual style for drawing box lines, allowing for customization of the appearance of UI elements.


---
### pane_lines
- **Type**: `enum`
- **Members**:
    - `PANE_LINES_SINGLE`: Represents a single line pane.
    - `PANE_LINES_DOUBLE`: Represents a double line pane.
    - `PANE_LINES_HEAVY`: Represents a heavy line pane.
    - `PANE_LINES_SIMPLE`: Represents a simple line pane.
    - `PANE_LINES_NUMBER`: Defines the total number of pane line types.
- **Description**: The `pane_lines` enum defines various styles of pane borders that can be used in a terminal multiplexer, allowing for customization of the visual appearance of pane borders in the user interface.


---
### screen_redraw_ctx
- **Type**: `struct`
- **Members**:
    - `c`: Pointer to a `client` structure representing the associated client.
    - `statuslines`: Unsigned integer representing the number of status lines.
    - `statustop`: Integer indicating the position of the status line.
    - `pane_status`: Integer representing the status of the pane.
    - `pane_lines`: Enumeration indicating the type of pane lines.
    - `pane_scrollbars`: Integer indicating the visibility of pane scrollbars.
    - `pane_scrollbars_pos`: Integer indicating the position of the pane scrollbars.
    - `no_pane_gc`: A `grid_cell` structure representing the graphics context when no pane is present.
    - `no_pane_gc_set`: Integer indicating whether the no pane graphics context is set.
    - `sx`: Unsigned integer representing the screen width.
    - `sy`: Unsigned integer representing the screen height.
    - `ox`: Unsigned integer representing the original x offset.
    - `oy`: Unsigned integer representing the original y offset.
- **Description**: The `screen_redraw_ctx` structure is used to maintain the context for redrawing the screen in a terminal multiplexer. It holds information about the associated client, the number of status lines, pane status, and dimensions of the screen, as well as graphical context settings for when no pane is present. This structure is essential for managing the visual representation of terminal panes and their interactions.


---
### menu_item
- **Type**: `struct`
- **Members**:
    - `name`: A pointer to a string representing the name of the menu item.
    - `key`: A `key_code` representing the key associated with the menu item.
    - `command`: A pointer to a string representing the command to be executed when the menu item is selected.
- **Description**: The `menu_item` structure represents an individual item in a menu, containing a name, a key code for keyboard shortcuts, and a command that is executed when the item is selected. This structure is useful for creating interactive menus in applications, allowing users to navigate and execute commands efficiently.


---
### menu
- **Type**: `struct`
- **Members**:
    - `title`: A pointer to a string representing the title of the menu.
    - `items`: A pointer to an array of `menu_item` structures representing the items in the menu.
    - `count`: An unsigned integer representing the number of items in the menu.
    - `width`: An unsigned integer representing the width of the menu.
- **Description**: The `menu` structure represents a menu in a user interface, containing a title, an array of menu items, and metadata such as the count of items and the width of the menu. Each menu item is defined by the `menu_item` structure, which includes the item's name, associated key, and command to execute when selected.


---
### window_mode
- **Type**: `struct`
- **Members**:
    - `name`: A pointer to a string representing the name of the window mode.
    - `default_format`: A pointer to a string representing the default format for the window mode.
    - `init`: A function pointer to initialize the window mode.
    - `free`: A function pointer to free resources associated with the window mode.
    - `resize`: A function pointer to handle resizing of the window mode.
    - `update`: A function pointer to update the window mode.
    - `key`: A function pointer to handle key events in the window mode.
    - `key_table`: A function pointer that returns the key table for the window mode.
    - `command`: A function pointer to execute commands in the window mode.
    - `formats`: A function pointer to handle format trees in the window mode.
    - `get_screen`: A function pointer to retrieve the screen associated with the window mode.
- **Description**: The `window_mode` structure defines a set of functions and properties that represent a specific mode for a window in a terminal multiplexer. It includes function pointers for initializing, freeing, resizing, updating, and handling key events, as well as properties for the mode's name and default format. This structure allows for flexible management of different window modes, enabling the terminal multiplexer to switch between various operational contexts.


---
### window_mode_entry
- **Type**: `struct`
- **Members**:
    - `wp`: Pointer to a `window_pane` structure representing the current window pane.
    - `swp`: Pointer to a `window_pane` structure representing the secondary window pane.
    - `mode`: Pointer to a `window_mode` structure defining the current mode of the window.
    - `data`: Pointer to user-defined data associated with the window mode.
    - `screen`: Pointer to a `screen` structure representing the screen context.
    - `prefix`: An unsigned integer representing a prefix key for commands.
    - `entry`: A `TAILQ_ENTRY` structure for linking `window_mode_entry` instances in a queue.
- **Description**: The `window_mode_entry` structure is used to represent the state of a window in a terminal multiplexer, encapsulating information about the current window pane, its associated mode, user data, and screen context. It allows for the management of multiple window modes, facilitating the handling of user input and display updates in a structured manner.


---
### window_pane_offset
- **Type**: `struct`
- **Members**:
    - `used`: Indicates the number of bytes used in the pane buffer.
- **Description**: The `window_pane_offset` structure is used to track the amount of data that has been utilized in a pane's buffer, specifically storing the count of bytes that have been used.


---
### window_pane_resize
- **Type**: `struct`
- **Members**:
    - `sx`: The current width of the window pane.
    - `sy`: The current height of the window pane.
    - `osx`: The original width of the window pane before resizing.
    - `osy`: The original height of the window pane before resizing.
    - `entry`: A linked list entry for managing multiple resize requests.
- **Description**: The `window_pane_resize` structure is used to represent the dimensions of a window pane in a terminal multiplexer, specifically tracking both the current and original sizes. It includes fields for the current size (`sx`, `sy`) and the original size (`osx`, `osy`), as well as a linked list entry (`entry`) to facilitate the management of multiple resize requests in a queue.


---
### window_pane
- **Type**: `struct`
- **Members**:
    - `id`: Unique identifier for the window pane.
    - `active_point`: Indicates the active point within the pane.
    - `window`: Pointer to the associated `window` structure.
    - `options`: Pointer to the `options` structure for configuration.
    - `layout_cell`: Pointer to the current layout cell.
    - `saved_layout_cell`: Pointer to the saved layout cell.
    - `sx`: Width of the pane.
    - `sy`: Height of the pane.
    - `xoff`: X offset of the pane.
    - `yoff`: Y offset of the pane.
    - `flags`: Flags indicating the state of the pane.
    - `sb_slider_y`: Y position of the scrollbar slider.
    - `sb_slider_h`: Height of the scrollbar slider.
    - `argc`: Argument count for the pane.
    - `argv`: Array of argument strings for the pane.
    - `shell`: Shell associated with the pane.
    - `cwd`: Current working directory of the pane.
    - `pid`: Process ID of the pane.
    - `tty`: Terminal name associated with the pane.
    - `status`: Status of the pane.
    - `dead_time`: Time when the pane was marked as dead.
    - `fd`: File descriptor for the pane.
    - `event`: Pointer to the associated buffer event.
    - `offset`: Offset structure for the pane.
    - `base_offset`: Base offset for the pane.
    - `resize_queue`: Queue for pending pane resize requests.
    - `resize_timer`: Timer for handling pane resize events.
    - `ictx`: Input context for the pane.
    - `cached_gc`: Cached grid cell for rendering.
    - `cached_active_gc`: Cached active grid cell for rendering.
    - `palette`: Colour palette used in the pane.
    - `pipe_fd`: File descriptor for the pipe.
    - `pipe_event`: Event associated with the pipe.
    - `pipe_offset`: Offset structure for the pipe.
    - `screen`: Pointer to the screen structure.
    - `base`: Base screen structure.
    - `status_screen`: Screen for displaying status.
    - `status_size`: Size of the status screen.
    - `modes`: List of modes associated with the pane.
    - `searchstr`: Search string for the pane.
    - `searchregex`: Flag indicating if the search string is a regex.
    - `border_gc_set`: Flag indicating if border graphics context is set.
    - `border_gc`: Graphics context for the border.
    - `control_bg`: Background colour for control.
    - `control_fg`: Foreground colour for control.
    - `scrollbar_style`: Style for the scrollbar.
    - `entry`: Link in the list of all panes.
    - `sentry`: Link in the list of last visited panes.
    - `tree_entry`: Entry for the red-black tree of panes.
- **Description**: The `window_pane` structure represents a single pane within a window in a terminal multiplexer. It contains various attributes such as its dimensions, position, associated window, options, and state flags. The structure also manages input and output contexts, handles resizing, and maintains a list of modes and graphical contexts for rendering. This allows for complex interactions and visual representation of terminal sessions.


---
### window
- **Type**: `struct`
- **Members**:
    - `id`: Unique identifier for the window.
    - `latest`: Pointer to the latest event or data associated with the window.
    - `name`: Name of the window.
    - `name_event`: Event structure for handling name changes.
    - `name_time`: Timestamp for the last name change.
    - `alerts_timer`: Timer event for managing alerts.
    - `offset_timer`: Timer event for managing offsets.
    - `activity_time`: Timestamp for the last activity in the window.
    - `active`: Pointer to the currently active pane in the window.
    - `last_panes`: List of last used panes.
    - `panes`: List of all panes in the window.
    - `lastlayout`: Identifier for the last layout used.
    - `layout_root`: Pointer to the root layout cell.
    - `saved_layout_root`: Pointer to the saved layout root.
    - `old_layout`: String representing the old layout.
    - `sx`: Width of the window in character cells.
    - `sy`: Height of the window in character cells.
    - `manual_sx`: Manually set width of the window.
    - `manual_sy`: Manually set height of the window.
    - `xpixel`: Width of the window in pixels.
    - `ypixel`: Height of the window in pixels.
    - `new_sx`: New width of the window in character cells.
    - `new_sy`: New height of the window in character cells.
    - `new_xpixel`: New width of the window in pixels.
    - `new_ypixel`: New height of the window in pixels.
    - `fill_character`: Pointer to the character used for filling the window.
    - `flags`: Flags representing the state of the window.
    - `alerts_queued`: Count of alerts queued for the window.
    - `alerts_entry`: Entry for managing alerts in a linked list.
    - `options`: Pointer to the options associated with the window.
    - `references`: Count of references to the window.
    - `winlinks`: List of winlinks associated with the window.
    - `entry`: Red-black tree entry for managing windows.
- **Description**: The `window` structure represents a window in a terminal multiplexer, encapsulating various attributes such as its dimensions, state, active pane, layout information, and event handling. It includes fields for managing alerts, timers, and references to associated panes and options, allowing for dynamic resizing and interaction within a terminal environment.


---
### winlink
- **Type**: `struct`
- **Members**:
    - `idx`: An integer representing the index of the winlink.
    - `session`: A pointer to the associated `session` structure.
    - `window`: A pointer to the associated `window` structure.
    - `flags`: An integer representing various flags for the winlink.
    - `entry`: A red-black tree entry for managing winlinks.
    - `wentry`: A tail queue entry for managing winlinks in a list.
    - `sentry`: A tail queue entry for managing winlinks in a separate list.
- **Description**: The `winlink` structure represents a link between a session and a window in a terminal multiplexer, allowing for the management of multiple windows within a session. It contains an index, pointers to the associated session and window, flags for various states (like alerts and activity), and entries for maintaining order in red-black trees and tail queues.


---
### layout_type
- **Type**: `enum`
- **Members**:
    - `LAYOUT_LEFTRIGHT`: Layout type for left-to-right arrangement.
    - `LAYOUT_TOPBOTTOM`: Layout type for top-to-bottom arrangement.
    - `LAYOUT_WINDOWPANE`: Layout type for window pane arrangement.
- **Description**: The `layout_type` enum defines the different layout arrangements available for panes in a terminal multiplexer, allowing for flexible organization of window panes either horizontally (left-to-right), vertically (top-to-bottom), or in a window pane style.


---
### layout_cell
- **Type**: `struct layout_cell`
- **Members**:
    - `type`: An enumeration indicating the layout type.
    - `parent`: A pointer to the parent `layout_cell`.
    - `sx`: The width of the cell.
    - `sy`: The height of the cell.
    - `xoff`: The x-offset of the cell.
    - `yoff`: The y-offset of the cell.
    - `wp`: A pointer to the associated `window_pane`.
    - `cells`: A list of child `layout_cell` structures.
    - `entry`: A queue entry for linking `layout_cell` instances.
- **Description**: The `layout_cell` structure represents a cell in a layout, which can contain a window pane and may have child cells. It includes properties for its dimensions, offsets, and a reference to its parent cell, allowing for hierarchical layouts. The structure also supports a linked list of child cells for managing complex layouts.


---
### environ_entry
- **Type**: `struct`
- **Members**:
    - `name`: A pointer to a string representing the name of the environment variable.
    - `value`: A pointer to a string representing the value of the environment variable.
    - `flags`: An integer representing flags associated with the environment variable, such as visibility.
    - `entry`: A red-black tree entry structure for maintaining a sorted list of environment entries.
- **Description**: The `environ_entry` structure represents an environment variable with its name, value, and associated flags. It is designed to be used in a red-black tree, allowing efficient insertion, deletion, and lookup of environment variables. The `flags` field can be used to indicate special properties of the variable, such as whether it is hidden.


---
### session_group
- **Type**: `struct`
- **Members**:
    - `name`: A pointer to a constant character string representing the name of the session group.
    - `sessions`: A doubly linked list head for managing a list of `session` structures associated with this group.
    - `entry`: A red-black tree entry structure for maintaining the session group in a balanced tree.
- **Description**: The `session_group` structure is designed to represent a collection of sessions in a terminal multiplexer environment. It contains a name for the group, a linked list of sessions that belong to this group, and an entry for maintaining the group in a red-black tree, allowing for efficient searching and management of session groups.


---
### session
- **Type**: `struct`
- **Members**:
    - `id`: A unique identifier for the session.
    - `name`: The name of the session.
    - `cwd`: The current working directory of the session.
    - `creation_time`: The time when the session was created.
    - `last_attached_time`: The last time a client attached to the session.
    - `activity_time`: The last time there was activity in the session.
    - `last_activity_time`: The time of the last recorded activity.
    - `lock_timer`: Timer for session locking.
    - `curw`: Pointer to the current window link.
    - `lastw`: Stack of last window links.
    - `windows`: List of windows associated with the session.
    - `statusat`: Status line position.
    - `statuslines`: Number of status lines.
    - `options`: Pointer to session-specific options.
    - `flags`: Flags indicating session state.
    - `attached`: Count of attached clients.
    - `tio`: Terminal I/O settings.
    - `environ`: Environment variables for the session.
    - `references`: Reference count for the session.
    - `gentry`: Entry for the session in a global list.
    - `entry`: Red-black tree entry for session management.
- **Description**: The `session` structure represents a user session in a terminal multiplexer, encapsulating various attributes such as session ID, name, current working directory, timestamps for creation and activity, and associated windows. It also maintains state information like the number of attached clients, session options, and flags for session management, allowing for efficient handling of multiple terminal sessions.


---
### mouse_event
- **Type**: `struct`
- **Members**:
    - `valid`: Indicates if the mouse event is valid.
    - `ignore`: Flag to ignore the event.
    - `key`: Stores the key code associated with the event.
    - `statusat`: Status line index at the time of the event.
    - `statuslines`: Number of status lines.
    - `x`: X coordinate of the mouse event.
    - `y`: Y coordinate of the mouse event.
    - `b`: Button mask indicating which mouse buttons were pressed.
    - `lx`: Logical X coordinate.
    - `ly`: Logical Y coordinate.
    - `lb`: Logical button mask.
    - `ox`: Original X coordinate before any transformations.
    - `oy`: Original Y coordinate before any transformations.
    - `s`: State of the mouse event.
    - `w`: Width of the mouse event area.
    - `wp`: Width of the pane.
    - `sgr_type`: Type of SGR (Select Graphic Rendition) associated with the event.
    - `sgr_b`: Additional SGR information.
- **Description**: The `mouse_event` structure is designed to encapsulate all relevant information regarding mouse events in a terminal application. It includes fields for the event's validity, coordinates, button states, and additional parameters related to the terminal's status lines and graphical rendering. This structure is essential for handling user interactions through mouse input, allowing the application to respond appropriately to various mouse actions.


---
### key_event
- **Type**: `struct`
- **Members**:
    - `key`: Represents the key code associated with the event.
    - `m`: Contains mouse event details.
    - `buf`: Pointer to a buffer for additional event data.
    - `len`: Length of the buffer.
- **Description**: The `key_event` structure encapsulates information about a keyboard event, including the key code, associated mouse event details, and a buffer for additional data, along with its length.


---
### tty_term
- **Type**: `struct`
- **Members**:
    - `name`: A pointer to a string representing the terminal's name.
    - `tty`: A pointer to a `tty` structure representing the terminal.
    - `features`: An integer representing the features supported by the terminal.
    - `acs`: An array for alternate character set mappings.
    - `codes`: A pointer to a `tty_code` structure containing terminal capabilities.
    - `flags`: An integer representing various flags for terminal capabilities.
    - `entry`: A linked list entry for managing multiple `tty_term` structures.
- **Description**: The `tty_term` structure defines a terminal's characteristics and capabilities, including its name, associated `tty` structure, supported features, alternate character set mappings, terminal capabilities, and various flags. It is designed to facilitate the management of terminal types in a terminal multiplexer environment, allowing for the dynamic handling of different terminal capabilities.


---
### tty
- **Type**: `struct`
- **Members**:
    - `client`: Pointer to the associated `client` structure.
    - `start_timer`: Event structure for managing the start timer.
    - `clipboard_timer`: Event structure for managing clipboard operations.
    - `last_requests`: Timestamp of the last requests made.
    - `sx`: Width of the terminal in character cells.
    - `sy`: Height of the terminal in character cells.
    - `xpixel`: Width of a cell in pixels.
    - `ypixel`: Height of a cell in pixels.
    - `cx`: Current cursor x position.
    - `cy`: Current cursor y position.
    - `cstyle`: Style of the screen cursor.
    - `ccolour`: Colour of the cursor.
    - `oflag`: Flag indicating if the drawing area is larger than the terminal.
    - `oox`: Offset x position for the drawing area.
    - `ooy`: Offset y position for the drawing area.
    - `osx`: Original width of the terminal.
    - `osy`: Original height of the terminal.
    - `mode`: Current mode of the terminal.
    - `fg`: Foreground colour.
    - `bg`: Background colour.
    - `rlower`: Lower boundary of the scroll region.
    - `rupper`: Upper boundary of the scroll region.
    - `rleft`: Left boundary of the scroll region.
    - `rright`: Right boundary of the scroll region.
    - `event_in`: Event structure for input events.
    - `in`: Buffer for incoming data.
    - `event_out`: Event structure for output events.
    - `out`: Buffer for outgoing data.
    - `timer`: Event structure for managing timers.
    - `discarded`: Count of discarded data.
    - `tio`: Terminal I/O settings.
    - `cell`: Current grid cell structure.
    - `last_cell`: Last grid cell structure.
    - `flags`: Flags for various terminal states.
    - `term`: Pointer to the terminal definition.
    - `mouse_last_x`: Last x position of the mouse.
    - `mouse_last_y`: Last y position of the mouse.
    - `mouse_last_b`: Last button pressed on the mouse.
    - `mouse_drag_flag`: Flag indicating if mouse dragging is active.
    - `mouse_scrolling_flag`: Flag indicating if mouse scrolling is active.
    - `mouse_slider_mpos`: Mouse slider position.
    - `mouse_drag_update`: Callback for mouse drag updates.
    - `mouse_drag_release`: Callback for mouse drag release.
    - `key_timer`: Event structure for key events.
    - `key_tree`: Pointer to the key tree structure.
- **Description**: The `tty` structure represents a terminal interface in the application, encapsulating various properties and states related to the terminal's display, input handling, and event management. It includes fields for managing the terminal's size, cursor position, drawing area, input/output buffers, and event timers, as well as flags for different operational modes and cursor styles. This structure is essential for handling terminal interactions and rendering output in a terminal-based application.


---
### tty_ctx
- **Type**: `struct tty_ctx`
- **Members**:
    - `s`: Pointer to a `screen` structure representing the screen context.
    - `redraw_cb`: Callback function for redrawing the terminal.
    - `set_client_cb`: Callback function for setting the client context.
    - `arg`: Pointer to user-defined argument for callbacks.
    - `cell`: Pointer to a `grid_cell` structure representing the current cell.
    - `wrapped`: Integer indicating if the line is wrapped.
    - `num`: Unsigned integer for tracking a specific number.
    - `ptr`: Generic pointer for additional data.
    - `ptr2`: Another generic pointer for additional data.
    - `allow_invisible_panes`: Integer flag indicating if commands can be sent to invisible panes.
    - `ocx`: Unsigned integer for the original cursor x position.
    - `ocy`: Unsigned integer for the original cursor y position.
    - `orupper`: Unsigned integer for the original upper scroll region.
    - `orlower`: Unsigned integer for the original lower scroll region.
    - `xoff`: Unsigned integer for the x offset of the target region.
    - `yoff`: Unsigned integer for the y offset of the target region.
    - `rxoff`: Unsigned integer for the right x offset of the target region.
    - `ryoff`: Unsigned integer for the right y offset of the target region.
    - `sx`: Unsigned integer for the width of the target region.
    - `sy`: Unsigned integer for the height of the target region.
    - `bg`: Unsigned integer for the background color used for clearing.
    - `defaults`: Default `grid_cell` structure for colors and attributes.
    - `palette`: Pointer to a `colour_palette` structure for color management.
    - `bigger`: Integer flag indicating if the containing region is larger.
    - `wox`: Unsigned integer for the x offset of the containing region.
    - `woy`: Unsigned integer for the y offset of the containing region.
    - `wsx`: Unsigned integer for the width of the containing region.
    - `wsy`: Unsigned integer for the height of the containing region.
- **Description**: The `tty_ctx` structure encapsulates the context for terminal operations, including screen management, cursor positioning, and color settings. It contains pointers to callback functions for redrawing and client management, as well as various attributes that define the state of the terminal, such as the current cell, offsets, and visibility settings for panes. This structure is essential for managing the terminal's graphical output and user interactions.


---
### message_entry
- **Type**: `struct`
- **Members**:
    - `msg`: A pointer to a character string representing the message.
    - `msg_num`: An unsigned integer representing the message number.
    - `msg_time`: A `struct timeval` representing the time the message was created.
    - `entry`: A `TAILQ_ENTRY` for linking this message entry in a queue.
- **Description**: The `message_entry` structure is designed to store individual messages along with their associated metadata, including the message content, a unique message number, the timestamp of when the message was created, and a link for maintaining a doubly-linked list of message entries using the `TAILQ` macros.


---
### args_type
- **Type**: `enum`
- **Members**:
    - `ARGS_NONE`: Indicates no arguments are present.
    - `ARGS_STRING`: Indicates that the argument is a string.
    - `ARGS_COMMANDS`: Indicates that the argument consists of commands.
- **Description**: The `args_type` enum defines the types of arguments that can be processed, allowing for differentiation between no arguments, string arguments, and command arguments in a command-line interface context.


---
### args_value
- **Type**: `struct`
- **Members**:
    - `type`: An enumeration indicating the type of argument.
    - `string`: A pointer to a string if the type is ARGS_STRING.
    - `cmdlist`: A pointer to a list of commands if the type is ARGS_COMMANDS.
    - `cached`: A cached string representation of the argument value.
    - `entry`: A linked list entry for managing multiple `args_value` instances.
- **Description**: The `args_value` structure is designed to hold different types of argument values used in command parsing, allowing for either a string or a list of commands to be stored based on the specified `args_type`. It includes a union to efficiently manage memory by storing either a string or a command list, along with a cached representation for quick access and a linked list entry for integration into larger data structures.


---
### args_parse_type
- **Type**: `enum`
- **Members**:
    - `ARGS_PARSE_INVALID`: Indicates an invalid argument parsing type.
    - `ARGS_PARSE_STRING`: Indicates that the argument is expected to be a string.
    - `ARGS_PARSE_COMMANDS_OR_STRING`: Indicates that the argument can be either commands or a string.
    - `ARGS_PARSE_COMMANDS`: Indicates that the argument is expected to be commands.
- **Description**: The `args_parse_type` enum defines various types of argument parsing states used in command-line argument processing, allowing the system to differentiate between invalid inputs, string inputs, and command inputs.


---
### args_parse
- **Type**: `struct`
- **Members**:
    - `template`: A pointer to a constant character string that serves as a template for argument parsing.
    - `lower`: An integer representing the lower bound for argument values.
    - `upper`: An integer representing the upper bound for argument values.
    - `cb`: A callback function pointer of type `args_parse_cb` used for custom argument parsing.
- **Description**: The `args_parse` structure is designed to facilitate the parsing of command-line arguments by defining a template, specifying valid ranges for argument values, and allowing for custom parsing logic through a callback function. This structure is particularly useful in command-line applications where argument validation and processing are required.


---
### cmd_find_type
- **Type**: `enum`
- **Members**:
    - `CMD_FIND_PANE`: Represents a command to find a pane.
    - `CMD_FIND_WINDOW`: Represents a command to find a window.
    - `CMD_FIND_SESSION`: Represents a command to find a session.
- **Description**: The `cmd_find_type` enum defines constants used to specify the type of command find operation in a terminal multiplexer, allowing the system to differentiate between finding panes, windows, and sessions.


---
### cmd_find_state
- **Type**: `struct cmd_find_state`
- **Members**:
    - `flags`: An integer representing various flags for the command find state.
    - `current`: A pointer to the current `cmd_find_state` structure.
    - `s`: A pointer to the associated `session` structure.
    - `wl`: A pointer to the associated `winlink` structure.
    - `w`: A pointer to the associated `window` structure.
    - `wp`: A pointer to the associated `window_pane` structure.
    - `idx`: An integer index for identifying the state.
- **Description**: The `cmd_find_state` structure is used to maintain the state of command finding operations within a terminal multiplexer. It contains pointers to various related structures such as `session`, `winlink`, `window`, and `window_pane`, as well as flags to control the behavior of the command finding process. The `current` pointer allows for tracking the current state in a potentially recursive or iterative command finding context, while the `idx` field serves as an index for identifying specific instances of the command find state.


---
### cmd_list
- **Type**: `struct`
- **Members**:
    - `references`: Counts the number of references to this command list.
    - `group`: Indicates the group to which this command list belongs.
    - `list`: Pointer to a list of commands.
- **Description**: The `cmd_list` structure is designed to manage a list of commands in a command-line interface. It contains an integer `references` to track how many references exist to this command list, a `group` identifier of type `u_int` to categorize the command list, and a pointer to a `cmds` structure that holds the actual list of commands. This structure is essential for organizing and executing commands efficiently within the application.


---
### cmd_retval
- **Type**: `enum`
- **Members**:
    - `CMD_RETURN_ERROR`: Indicates an error occurred.
    - `CMD_RETURN_NORMAL`: Indicates normal operation.
    - `CMD_RETURN_WAIT`: Indicates that the command is waiting.
    - `CMD_RETURN_STOP`: Indicates that the command has stopped.
- **Description**: The `cmd_retval` enum defines the possible return values for command execution in the system, allowing for standardized handling of command outcomes such as errors, normal completion, waiting states, and stopping conditions.


---
### cmd_parse_status
- **Type**: `enum`
- **Members**:
    - `CMD_PARSE_ERROR`: Indicates a parsing error occurred.
    - `CMD_PARSE_SUCCESS`: Indicates the command was parsed successfully.
- **Description**: The `cmd_parse_status` enum defines the possible outcomes of a command parsing operation, with two values: `CMD_PARSE_ERROR` for indicating an error during parsing and `CMD_PARSE_SUCCESS` for indicating successful parsing.


---
### cmd_parse_result
- **Type**: `struct`
- **Members**:
    - `status`: Indicates the result of the command parsing process.
    - `cmdlist`: A pointer to a list of commands parsed from the input.
    - `error`: A string that holds any error message encountered during parsing.
- **Description**: The `cmd_parse_result` structure is used to encapsulate the outcome of parsing a command input in a command-line interface. It contains a status field indicating whether the parsing was successful or if an error occurred, a pointer to a list of commands that were successfully parsed, and an error message string that provides details about any issues encountered during the parsing process.


---
### cmd_parse_input
- **Type**: `struct`
- **Members**:
    - `flags`: An integer representing various command parsing options.
    - `file`: A pointer to a string representing the file name from which commands are parsed.
    - `line`: An unsigned integer indicating the line number in the file.
    - `item`: A pointer to a `cmdq_item` structure representing the command queue item.
    - `c`: A pointer to a `client` structure representing the client associated with the command.
    - `fs`: A `cmd_find_state` structure representing the state of command finding.
- **Description**: The `cmd_parse_input` structure is used to encapsulate the input parameters for command parsing in a command-line interface. It includes flags for controlling the parsing behavior, a file name and line number for context, and references to the command queue item and client involved in the command execution. This structure facilitates the management of command parsing state and options.


---
### cmd_entry_flag
- **Type**: `struct`
- **Members**:
    - `flag`: A character representing a specific command flag.
    - `type`: An enumeration indicating the type of command find operation.
    - `flags`: An integer representing additional flags associated with the command entry.
- **Description**: The `cmd_entry_flag` structure is used to define a command entry with a specific flag, type, and additional flags. It contains a character for the flag, an enumeration to specify the type of command find operation, and an integer for any additional flags that may be relevant to the command's execution or behavior.


---
### cmd_entry
- **Type**: `struct`
- **Members**:
    - `name`: A pointer to a string representing the command name.
    - `alias`: A pointer to a string representing an alias for the command.
    - `args`: An `args_parse` structure that defines the arguments for the command.
    - `usage`: A pointer to a string that describes how to use the command.
    - `source`: A `cmd_entry_flag` structure representing the source of the command.
    - `target`: A `cmd_entry_flag` structure representing the target of the command.
    - `flags`: An integer representing various flags associated with the command.
    - `exec`: A function pointer to the command execution function.
- **Description**: The `cmd_entry` structure defines a command in the system, encapsulating its name, alias, argument parsing rules, usage instructions, source and target flags, associated flags, and a function pointer for executing the command. This structure is essential for managing commands within the application, allowing for flexible command definitions and execution.


---
### status_line_entry
- **Type**: `struct`
- **Members**:
    - `expanded`: A pointer to a character array representing the expanded status line entry.
    - `ranges`: A `style_ranges` structure that holds style information for different segments of the status line.
- **Description**: The `status_line_entry` structure is used to represent an entry in a status line, containing an expanded string and associated style ranges. It allows for dynamic styling of different parts of the status line, enabling customization of how information is displayed to the user.


---
### status_line
- **Type**: `struct`
- **Members**:
    - `timer`: An `event` structure that manages timing events for the status line.
    - `screen`: A `screen` structure representing the display area for the status line.
    - `active`: A pointer to the currently active `screen` structure.
    - `references`: An integer tracking the number of references to this status line.
    - `style`: A `grid_cell` structure defining the visual style of the status line.
    - `entries`: An array of `status_line_entry` structures, limited to `STATUS_LINES_LIMIT`, representing individual entries in the status line.
- **Description**: The `status_line` structure is designed to manage the status line in a terminal multiplexer, encapsulating the necessary components such as timing events, display screens, visual styles, and multiple entries. It includes a timer for event handling, a screen for rendering, a reference counter for memory management, and an array of entries that can be displayed in the status line, allowing for dynamic updates and styling.


---
### prompt_type
- **Type**: `enum`
- **Members**:
    - `PROMPT_TYPE_COMMAND`: Represents a command prompt type.
    - `PROMPT_TYPE_SEARCH`: Represents a search prompt type.
    - `PROMPT_TYPE_TARGET`: Represents a target prompt type.
    - `PROMPT_TYPE_WINDOW_TARGET`: Represents a window target prompt type.
    - `PROMPT_TYPE_INVALID`: Indicates an invalid prompt type.
- **Description**: The `prompt_type` enum defines various types of prompts that can be used in a terminal multiplexer context, allowing the system to differentiate between command prompts, search prompts, target prompts, and window target prompts, with a specific value for invalid types.


---
### client_file
- **Type**: `struct`
- **Members**:
    - `c`: Pointer to a `client` structure representing the client associated with the file.
    - `peer`: Pointer to a `tmuxpeer` structure representing the peer connection.
    - `tree`: Pointer to a `client_files` structure representing a tree of client files.
    - `references`: Integer representing the number of references to this client file.
    - `stream`: Integer representing the stream identifier for the client file.
    - `path`: Pointer to a string representing the file path.
    - `buffer`: Pointer to an `evbuffer` structure for buffering data.
    - `event`: Pointer to a `bufferevent` structure for handling events.
    - `fd`: Integer representing the file descriptor associated with the client file.
    - `error`: Integer representing any error status related to the client file.
    - `closed`: Integer indicating whether the client file is closed.
    - `cb`: Callback function pointer of type `client_file_cb` for handling file events.
    - `data`: Pointer to user-defined data associated with the client file.
    - `entry`: Red-black tree entry for managing client files.
- **Description**: The `client_file` structure represents a file associated with a client in a terminal multiplexer environment. It contains various members that manage the client's connection, file path, event handling, and buffering. The structure is designed to facilitate communication between the client and the server, allowing for efficient data transfer and management of client sessions.


---
### client_window
- **Type**: `struct`
- **Members**:
    - `window`: An unsigned integer representing the window identifier.
    - `pane`: A pointer to a `window_pane` structure representing the associated pane.
    - `sx`: An unsigned integer representing the width of the client window.
    - `sy`: An unsigned integer representing the height of the client window.
    - `entry`: A red-black tree entry for maintaining a sorted list of client windows.
- **Description**: The `client_window` structure represents a window associated with a client in a terminal multiplexer environment. It contains fields for the window identifier, a pointer to the associated pane, dimensions of the window, and a red-black tree entry for efficient management of multiple client windows. This structure is essential for handling the layout and interaction of windows within the client interface.


---
### overlay_ranges
- **Type**: `struct`
- **Members**:
    - `px`: An array of unsigned integers representing the positive overlay ranges.
    - `nx`: An array of unsigned integers representing the negative overlay ranges.
- **Description**: The `overlay_ranges` structure is designed to hold two arrays of unsigned integers, `px` and `nx`, which represent positive and negative overlay ranges respectively. This structure is limited to a maximum of `OVERLAY_MAX_RANGES` entries for each array, allowing for efficient management of overlay ranges in a graphical or terminal interface.


---
### client_theme
- **Type**: `enum`
- **Members**:
    - `THEME_UNKNOWN`: Represents an unknown theme.
    - `THEME_LIGHT`: Represents a light theme.
    - `THEME_DARK`: Represents a dark theme.
- **Description**: The `client_theme` enum defines three possible themes for a client interface: `THEME_UNKNOWN`, `THEME_LIGHT`, and `THEME_DARK`. This enum is used to categorize the visual appearance of the client based on the background color or user preference.


---
### client
- **Type**: `struct`
- **Members**:
    - `name`: Pointer to the client's name.
    - `peer`: Pointer to the associated `tmuxpeer` structure.
    - `queue`: Pointer to the command queue list.
    - `windows`: Structure holding the client's windows.
    - `control_state`: Pointer to the control state structure.
    - `pause_age`: Unsigned integer representing the pause duration.
    - `pid`: Process ID of the client.
    - `fd`: File descriptor for the client.
    - `out_fd`: Output file descriptor for the client.
    - `event`: Event structure for handling client events.
    - `retval`: Return value from client operations.
    - `creation_time`: Timestamp of when the client was created.
    - `activity_time`: Timestamp of the last activity of the client.
    - `last_activity_time`: Timestamp of the last recorded activity.
    - `environ`: Pointer to the environment variables.
    - `jobs`: Pointer to the job tree associated with the client.
    - `title`: Title of the client.
    - `path`: Path associated with the client.
    - `cwd`: Current working directory of the client.
    - `term_name`: Name of the terminal type.
    - `term_features`: Integer representing terminal features.
    - `term_type`: Type of the terminal.
    - `term_caps`: Array of terminal capabilities.
    - `term_ncaps`: Number of terminal capabilities.
    - `ttyname`: Name of the terminal device.
    - `tty`: Structure representing the terminal.
    - `written`: Size of data written by the client.
    - `discarded`: Size of data discarded by the client.
    - `redraw`: Size of data to be redrawn.
    - `repeat_timer`: Event structure for repeat actions.
    - `click_timer`: Event structure for click actions.
    - `click_button`: Button used for click events.
    - `click_event`: Mouse event structure for click actions.
    - `status`: Structure representing the status line.
    - `theme`: Enum representing the client's theme.
    - `flags`: Bitmask of various client flags.
    - `exit_type`: Enum indicating the exit type of the client.
    - `exit_msgtype`: Message type for exit notifications.
    - `exit_session`: Session associated with the exit.
    - `exit_message`: Message to display upon exit.
    - `keytable`: Pointer to the key table for the client.
    - `last_key`: Last key pressed by the client.
    - `redraw_panes`: Bitmask for redrawing panes.
    - `redraw_scrollbars`: Bitmask for redrawing scrollbars.
    - `message_ignore_keys`: Flag to ignore certain keys in messages.
    - `message_ignore_styles`: Flag to ignore certain styles in messages.
    - `message_string`: String for messages to be displayed.
    - `message_timer`: Event structure for message timing.
    - `prompt_string`: String for prompts.
    - `prompt_formats`: Pointer to the format tree for prompts.
    - `prompt_buffer`: Buffer for prompt input.
    - `prompt_last`: Last prompt string.
    - `prompt_index`: Index for the prompt.
    - `prompt_inputcb`: Callback for prompt input.
    - `prompt_freecb`: Callback for freeing prompt data.
    - `prompt_data`: Data associated with the prompt.
    - `prompt_hindex`: Array of indices for prompt history.
    - `prompt_mode`: Enum indicating the mode of the prompt.
    - `prompt_saved`: Saved prompt data.
    - `prompt_flags`: Flags for prompt behavior.
    - `prompt_type`: Enum indicating the type of prompt.
    - `prompt_cursor`: Cursor position in the prompt.
    - `session`: Pointer to the session associated with the client.
    - `last_session`: Pointer to the last session associated with the client.
    - `references`: Reference count for the client.
    - `pan_window`: Pointer to the pan window.
    - `pan_ox`: Offset in the x direction for the pan.
    - `pan_oy`: Offset in the y direction for the pan.
    - `overlay_check`: Callback for checking overlays.
    - `overlay_mode`: Callback for overlay mode.
    - `overlay_draw`: Callback for drawing overlays.
    - `overlay_key`: Callback for overlay key events.
    - `overlay_free`: Callback for freeing overlay data.
    - `overlay_resize`: Callback for resizing overlays.
    - `overlay_data`: Data associated with overlays.
    - `overlay_timer`: Event structure for overlay timing.
    - `files`: Structure holding client file information.
    - `source_file_depth`: Depth of source files.
    - `clipboard_panes`: Array of clipboard pane identifiers.
    - `clipboard_npanes`: Number of clipboard panes.
    - `entry`: Entry in the linked list of clients.
- **Description**: The `client` structure represents a client connection in a terminal multiplexer, encapsulating various attributes such as the client's name, associated peer, command queue, terminal properties, event handling, and state management. It includes fields for managing the client's windows, environment, input/output file descriptors, and timers for events like clicks and messages, as well as flags for different client states and behaviors.


---
### control_sub_type
- **Type**: `enum`
- **Members**:
    - `CONTROL_SUB_SESSION`: Represents a subscription to a specific session.
    - `CONTROL_SUB_PANE`: Represents a subscription to a specific pane.
    - `CONTROL_SUB_ALL_PANES`: Represents a subscription to all panes.
    - `CONTROL_SUB_WINDOW`: Represents a subscription to a specific window.
    - `CONTROL_SUB_ALL_WINDOWS`: Represents a subscription to all windows.
- **Description**: The `control_sub_type` enum defines various types of control subscriptions that can be used in a terminal multiplexer context, allowing for specific or broad subscriptions to sessions, panes, and windows.


---
### key_binding
- **Type**: `struct`
- **Members**:
    - `key`: Represents the key code associated with the binding.
    - `cmdlist`: Pointer to a list of commands associated with the key binding.
    - `note`: A string that provides additional information about the key binding.
    - `flags`: Integer flags that modify the behavior of the key binding.
    - `entry`: Red-black tree entry structure for maintaining a collection of key bindings.
- **Description**: The `key_binding` structure defines a mapping between a specific key and a command or set of commands in a terminal multiplexer environment. It includes a `key_code` to identify the key, a pointer to a `cmd_list` that holds the commands to be executed when the key is pressed, a `note` for additional context, and `flags` to specify options like repeat behavior. The structure also includes a red-black tree entry to facilitate efficient storage and retrieval of key bindings.


---
### key_table
- **Type**: `struct`
- **Members**:
    - `name`: A pointer to a string representing the name of the key table.
    - `activity_time`: A `struct timeval` representing the last activity time of the key table.
    - `key_bindings`: A `struct key_bindings` that holds the current key bindings.
    - `default_key_bindings`: A `struct key_bindings` that holds the default key bindings.
    - `references`: An unsigned integer that counts the number of references to this key table.
    - `entry`: An entry for a red-black tree that organizes key tables.
- **Description**: The `key_table` structure is designed to manage key bindings in a terminal multiplexer environment. It contains fields for the name of the key table, timestamps for activity tracking, and two sets of key bindings: one for the current configuration and another for the defaults. Additionally, it includes a reference count to manage the lifecycle of the key table and an entry point for integration into a red-black tree, allowing efficient organization and retrieval of key tables.


---
### options_value
- **Type**: `union`
- **Members**:
    - `string`: A pointer to a character string.
    - `number`: A 64-bit integer to store numeric values.
    - `style`: A `struct style` to define styling options.
    - `array`: A `struct options_array` to hold an array of options.
    - `cmdlist`: A pointer to a `struct cmd_list` for command lists.
- **Description**: The `options_value` union is a flexible data structure that can hold different types of values, including a string, a number, a style structure, an array of options, or a command list. This allows for versatile usage in configurations where options can vary in type, enabling the handling of various settings in a unified manner.


---
### options_table_type
- **Type**: `enum`
- **Members**:
    - `OPTIONS_TABLE_STRING`: Represents a string option type.
    - `OPTIONS_TABLE_NUMBER`: Represents a numeric option type.
    - `OPTIONS_TABLE_KEY`: Represents a key option type.
    - `OPTIONS_TABLE_COLOUR`: Represents a color option type.
    - `OPTIONS_TABLE_FLAG`: Represents a boolean flag option type.
    - `OPTIONS_TABLE_CHOICE`: Represents a choice option type.
    - `OPTIONS_TABLE_COMMAND`: Represents a command option type.
- **Description**: The `options_table_type` enum defines various types of options that can be used in a configuration system, allowing for different data types such as strings, numbers, keys, colors, flags, choices, and commands to be represented and processed accordingly.


---
### options_table_entry
- **Type**: `struct`
- **Members**:
    - `name`: Pointer to a string representing the name of the option.
    - `alternative_name`: Pointer to a string representing an alternative name for the option.
    - `type`: Enumeration indicating the type of the option.
    - `scope`: Integer representing the scope of the option.
    - `flags`: Integer representing various flags associated with the option.
    - `minimum`: Unsigned integer representing the minimum value for the option.
    - `maximum`: Unsigned integer representing the maximum value for the option.
    - `choices`: Pointer to an array of strings representing possible choices for the option.
    - `default_str`: Pointer to a string representing the default string value for the option.
    - `default_num`: Long long integer representing the default numeric value for the option.
    - `default_arr`: Pointer to an array of strings representing the default array value for the option.
    - `separator`: Pointer to a string representing the separator used in the option.
    - `pattern`: Pointer to a string representing a pattern for validating the option.
    - `text`: Pointer to a string providing a description or help text for the option.
    - `unit`: Pointer to a string representing the unit of measurement for the option.
- **Description**: The `options_table_entry` structure defines a single entry in an options table, encapsulating various attributes of an option such as its name, type, valid range, default values, and additional metadata. This structure is used to manage configuration options in a flexible manner, allowing for different types of options (e.g., strings, numbers, choices) and providing mechanisms for validation and default settings.


---
### options_name_map
- **Type**: `struct`
- **Members**:
    - `from`: A pointer to a string representing the original option name.
    - `to`: A pointer to a string representing the mapped option name.
- **Description**: The `options_name_map` structure is used to define a mapping between two option names, where `from` holds the original name and `to` holds the corresponding mapped name. This structure facilitates the translation or aliasing of option names in a configuration context.


---
### spawn_context
- **Type**: `struct`
- **Members**:
    - `item`: Pointer to a `cmdq_item` structure representing a command queue item.
    - `s`: Pointer to a `session` structure representing the current session.
    - `wl`: Pointer to a `winlink` structure representing the current window link.
    - `tc`: Pointer to a `client` structure representing the target client.
    - `wp0`: Pointer to a `window_pane` structure representing the first window pane.
    - `lc`: Pointer to a `layout_cell` structure representing the layout cell.
    - `name`: Pointer to a constant character string representing the name of the spawn context.
    - `argv`: Pointer to an array of character strings representing the arguments for the command.
    - `argc`: Integer representing the count of arguments.
    - `environ`: Pointer to an `environ` structure representing the environment variables.
    - `idx`: Integer representing the index of the spawn context.
    - `cwd`: Pointer to a constant character string representing the current working directory.
    - `flags`: Integer representing various flags for the spawn context.
- **Description**: The `spawn_context` structure is used to encapsulate the context for spawning new processes in a terminal multiplexer environment. It contains references to various components such as command queue items, sessions, window links, clients, and layout cells, along with command-line arguments and environment variables. The structure also includes flags to control the behavior of the spawn operation, such as whether to kill existing processes, detach from the terminal, or respawn processes.


---
### mode_tree_sort_criteria
- **Type**: `struct`
- **Members**:
    - `field`: An unsigned integer representing the sorting field.
    - `reversed`: An integer indicating whether the sorting order is reversed.
- **Description**: The `mode_tree_sort_criteria` structure is used to define the criteria for sorting in a mode tree, consisting of a field identifier and a flag to indicate if the sorting should be in reverse order.


# Function Declarations (Public API)

---
### checkshell<!-- {{#callable_declaration:checkshell}} -->
Checks if a given shell path is valid.
- **Description**: This function is used to validate a shell path by checking if it is a non-null string that starts with a '/' character, is not a shell itself, and is executable. It should be called when there is a need to ensure that a specified shell path is valid before using it in further operations. The function will return 0 for invalid inputs and 1 for a valid shell path.
- **Inputs**:
    - `shell`: A pointer to a string representing the shell path. It must not be null and should start with a '/' character. If the string is null or does not meet these criteria, the function will return 0.
- **Output**: Returns 1 if the shell path is valid and executable; otherwise, it returns 0.
- **See also**: [`checkshell`](tmux.c.driver.md#checkshell)  (Implementation)


---
### setblocking<!-- {{#callable_declaration:setblocking}} -->
Sets the blocking mode of a file descriptor.
- **Description**: This function is used to configure the blocking behavior of a file descriptor. It should be called with a valid file descriptor that has been opened for reading or writing. The `state` parameter determines whether the file descriptor should operate in blocking mode (when `state` is non-zero) or non-blocking mode (when `state` is zero). If the file descriptor is invalid or an error occurs while changing the mode, the function will not modify the file descriptor.
- **Inputs**:
    - `fd`: The file descriptor to modify. Must be a valid, open file descriptor.
    - `state`: An integer indicating the desired blocking state. A value of 0 sets the file descriptor to non-blocking mode, while any non-zero value sets it to blocking mode.
- **Output**: None
- **See also**: [`setblocking`](tmux.c.driver.md#setblocking)  (Implementation)


---
### shell_argv0<!-- {{#callable_declaration:shell_argv0}} -->
Returns the argv0 representation of a shell.
- **Description**: This function is used to generate the `argv0` string for a given shell, which is typically used in process creation. It should be called with a valid shell path and a flag indicating whether the shell is a login shell. The function extracts the shell name from the provided path and prefixes it with a '-' if the `is_login` flag is set. The caller is responsible for freeing the returned string.
- **Inputs**:
    - `shell`: A pointer to a null-terminated string representing the path to the shell. Must not be null.
    - `is_login`: An integer flag indicating whether the shell is a login shell. Valid values are 0 (not a login shell) and 1 (is a login shell).
- **Output**: Returns a pointer to a dynamically allocated string containing the shell name, optionally prefixed with a '-'. The caller must free this string when it is no longer needed.
- **See also**: [`shell_argv0`](tmux.c.driver.md#shell_argv0)  (Implementation)


---
### get_timer<!-- {{#callable_declaration:get_timer}} -->
Returns the current timer value in milliseconds.
- **Description**: This function retrieves the current time in milliseconds since an arbitrary point in the past, using a monotonic clock if available. It is suitable for measuring elapsed time in applications. If the monotonic clock is not available, it falls back to using the real-time clock. This function should be called when a precise time measurement is needed, and it does not require any prior initialization. The returned value is a 64-bit unsigned integer representing the time in milliseconds.
- **Inputs**:
    - None
- **Output**: Returns the current timer value as a 64-bit unsigned integer representing milliseconds.
- **See also**: [`get_timer`](tmux.c.driver.md#get_timer)  (Implementation)


---
### sig2name<!-- {{#callable_declaration:sig2name}} -->
Maps a signal number to its corresponding name.
- **Description**: This function is used to retrieve the name of a signal based on its signal number. It is particularly useful for converting signal numbers into human-readable names, which can aid in debugging or logging. The function should be called with a valid signal number, which must be greater than 0 and less than `NSIG`. If the signal number is valid, the function returns the corresponding signal name; otherwise, it returns a string representation of the signal number itself.
- **Inputs**:
    - `signo`: An integer representing the signal number. Valid values are greater than 0 and less than `NSIG`. If an invalid value is provided (e.g., less than or equal to 0 or greater than or equal to `NSIG`), the function will return a string representation of the number itself.
- **Output**: Returns a pointer to a string containing the name of the signal corresponding to the provided signal number. If the signal number is invalid, it returns a string representation of the number itself.
- **See also**: [`sig2name`](tmux.c.driver.md#sig2name)  (Implementation)


---
### find_cwd<!-- {{#callable_declaration:find_cwd}} -->
Finds the current working directory.
- **Description**: This function retrieves the current working directory of the calling process. It should be called when the current working directory is needed, and it will return a pointer to a statically allocated string containing the path. If the function fails to obtain the current working directory, it will return `NULL`. The function also checks the `PWD` environment variable; if it is set and valid, it will return that value only if it matches the actual working directory.
- **Inputs**:
    - None
- **Output**: Returns a pointer to a string containing the current working directory. If an error occurs, it returns `NULL`.
- **See also**: [`find_cwd`](tmux.c.driver.md#find_cwd)  (Implementation)


---
### find_home<!-- {{#callable_declaration:find_home}} -->
Finds the user's home directory.
- **Description**: This function retrieves the path to the user's home directory, which is typically set in the environment variable 'HOME'. If the 'HOME' variable is not set or is empty, it attempts to obtain the home directory from the system's user database using the current user's UID. It is important to note that this function should be called in a context where the user environment is properly initialized, as it relies on environment variables and user information. The returned value may be NULL if the home directory cannot be determined.
- **Inputs**:
    - None
- **Output**: Returns a pointer to a string containing the path to the home directory. If the home directory cannot be determined, it returns NULL.
- **See also**: [`find_home`](tmux.c.driver.md#find_home)  (Implementation)


---
### getversion<!-- {{#callable_declaration:getversion}} -->
Returns the version of the tmux software.
- **Description**: This function is used to retrieve the version string of the tmux software. It can be called at any time after the tmux environment has been initialized. The returned version string is a constant and should not be modified. It is useful for logging, debugging, or displaying the version information to users.
- **Inputs**:
    - None
- **Output**: Returns a pointer to a string containing the version of tmux. This string is constant and should not be freed or modified by the caller.
- **See also**: [`getversion`](tmux.c.driver.md#getversion)  (Implementation)


---
### proc_send<!-- {{#callable_declaration:proc_send}} -->
Sends a message to a peer.
- **Description**: This function is used to send a message of a specified type to a connected peer. It should be called only when the peer is in a valid state, meaning it should not be marked as 'bad'. The function takes a file descriptor and a buffer containing the message data, along with the length of the data. If the peer is marked as bad or if the message composition fails, the function will return an error. It is important to ensure that the buffer is valid and that the length does not exceed the expected size.
- **Inputs**:
    - `peer`: A pointer to a `tmuxpeer` structure representing the peer to which the message will be sent. Must not be null.
    - `type`: An enumeration value of type `msgtype` indicating the type of message to send. Valid values are defined in the protocol.
    - `fd`: An integer file descriptor that is associated with the message. This should be a valid file descriptor.
    - `buf`: A pointer to the data buffer containing the message to be sent. Must not be null.
    - `len`: The size of the data in bytes to be sent. Must be greater than zero.
- **Output**: Returns 0 on success, or -1 if an error occurs, such as if the peer is marked as bad or if the message composition fails.
- **See also**: [`proc_send`](proc.c.driver.md#proc_send)  (Implementation)


---
### proc_start<!-- {{#callable_declaration:proc_start}} -->
Starts a new process.
- **Description**: This function is used to start a new process with the specified name. It should be called when initializing a new process in the application. The function allocates memory for a `tmuxproc` structure and initializes it with the provided name. It is important to ensure that the name is a valid string and not null. The function will log the process start and may handle system information retrieval, but it does not return any error codes for invalid inputs.
- **Inputs**:
    - `name`: A pointer to a null-terminated string representing the name of the process to start. This parameter must not be null and should point to a valid string. If an invalid value is provided, the behavior is undefined.
- **Output**: Returns a pointer to a `tmuxproc` structure representing the newly started process. If the process could not be started, the behavior is undefined.
- **See also**: [`proc_start`](proc.c.driver.md#proc_start)  (Implementation)


---
### proc_loop<!-- {{#callable_declaration:proc_loop}} -->
Executes the event loop for a given process.
- **Description**: This function is intended to be called to start the event loop for a `tmuxproc` structure. It will repeatedly call the event loop until the process is marked for exit or until a callback function, if provided, returns a non-zero value. It is important to ensure that the `tmuxproc` has been properly initialized before calling this function. If the `loopcb` parameter is NULL, the loop will continue indefinitely until the `exit` flag of the `tmuxproc` is set.
- **Inputs**:
    - `tp`: A pointer to a `tmuxproc` structure representing the process to run the event loop for. Must not be null.
    - `loopcb`: A pointer to a callback function that returns an integer. If NULL, the loop will run indefinitely until the `exit` flag is set. If provided, the loop will continue until this callback returns a non-zero value.
- **Output**: None
- **See also**: [`proc_loop`](proc.c.driver.md#proc_loop)  (Implementation)


---
### proc_exit<!-- {{#callable_declaration:proc_exit}} -->
Exits a process and flushes its peer connections.
- **Description**: This function should be called when a process is ready to terminate. It ensures that all messages in the output buffers of the connected peers are sent before marking the process for exit. It is important to call this function to avoid data loss, especially in scenarios where the process communicates with multiple peers. The function does not return any value.
- **Inputs**:
    - `tp`: A pointer to a `struct tmuxproc` representing the process to be exited. This pointer must not be null, and it should point to a valid process structure. If the pointer is null, the behavior is undefined.
- **Output**: None
- **See also**: [`proc_exit`](proc.c.driver.md#proc_exit)  (Implementation)


---
### proc_set_signals<!-- {{#callable_declaration:proc_set_signals}} -->
Sets up signal handlers for a process.
- **Description**: This function configures signal handling for a given process structure. It should be called after initializing the process to ensure that the appropriate signal callbacks are set. The function sets the specified callback for handling signals and configures the process to ignore certain signals like `SIGPIPE`, `SIGTSTP`, `SIGTTIN`, `SIGTTOU`, and `SIGQUIT`. It also sets up handlers for signals such as `SIGINT`, `SIGHUP`, `SIGCHLD`, `SIGCONT`, `SIGTERM`, `SIGUSR1`, `SIGUSR2`, and `SIGWINCH`, which are essential for managing process behavior in response to these signals.
- **Inputs**:
    - `tp`: A pointer to a `struct tmuxproc` that represents the process for which the signal handlers are being set. Must not be null.
    - `signalcb`: A pointer to a callback function that takes an integer as an argument, which will be invoked when the specified signals are received. This callback can be null, but if provided, it must conform to the expected signature.
- **Output**: None
- **See also**: [`proc_set_signals`](proc.c.driver.md#proc_set_signals)  (Implementation)


---
### proc_clear_signals<!-- {{#callable_declaration:proc_clear_signals}} -->
Clears signal handlers for a tmux process.
- **Description**: This function is used to reset the signal handlers for a specified `tmuxproc` structure. It should be called when you want to ensure that the process is no longer handling signals in a custom manner, reverting to the default behavior. The `defaults` parameter determines whether to restore default signal handlers for common signals such as `SIGINT`, `SIGQUIT`, and others. It is important to call this function in a controlled environment where the `tmuxproc` has been properly initialized.
- **Inputs**:
    - `tp`: A pointer to a `tmuxproc` structure representing the process whose signal handlers are to be cleared. Must not be null.
    - `defaults`: An integer flag indicating whether to restore default signal handlers. Valid values are 0 (do not restore) and 1 (restore).
- **Output**: None
- **See also**: [`proc_clear_signals`](proc.c.driver.md#proc_clear_signals)  (Implementation)


---
### proc_add_peer<!-- {{#callable_declaration:proc_add_peer}} -->
Adds a new peer to a process.
- **Description**: This function is used to add a new peer connection to a specified process. It should be called after the process has been initialized and is ready to accept peer connections. The function takes a file descriptor for the peer connection and a callback function that will handle incoming messages. If the file descriptor is invalid or if the initialization of the message buffer fails, the function will handle the error appropriately. The added peer will be linked to the specified process, allowing for communication between them.
- **Inputs**:
    - `tp`: A pointer to the `tmuxproc` structure representing the process to which the peer will be added. Must not be null.
    - `fd`: An integer file descriptor for the peer connection. This must be a valid, open file descriptor.
    - `dispatchcb`: A pointer to a callback function that will be called to handle incoming messages. Must not be null.
    - `arg`: A pointer to user-defined data that will be passed to the callback function. Can be null.
- **Output**: Returns a pointer to the newly created `tmuxpeer` structure representing the added peer. If the function fails, it will not return a valid pointer.
- **See also**: [`proc_add_peer`](proc.c.driver.md#proc_add_peer)  (Implementation)


---
### proc_remove_peer<!-- {{#callable_declaration:proc_remove_peer}} -->
Removes a peer from the tmux session.
- **Description**: This function is used to remove a `tmuxpeer` from its parent session. It should be called when a peer is no longer needed, such as during disconnection or cleanup. The function will handle the necessary cleanup of resources associated with the peer, including removing it from the list of peers, deleting its associated events, and freeing its memory. It is important to ensure that the `peer` parameter is valid and points to an existing `tmuxpeer` structure.
- **Inputs**:
    - `peer`: A pointer to a `tmuxpeer` structure that represents the peer to be removed. This pointer must not be null and must point to a valid peer that is currently part of the session. If the pointer is invalid or the peer is not part of the session, the behavior is undefined.
- **Output**: This function does not return a value and does not modify any inputs directly. It performs cleanup operations and frees the memory associated with the `peer`.
- **See also**: [`proc_remove_peer`](proc.c.driver.md#proc_remove_peer)  (Implementation)


---
### proc_kill_peer<!-- {{#callable_declaration:proc_kill_peer}} -->
Marks a peer as bad.
- **Description**: This function is used to mark a specified peer as bad, which may be useful in scenarios where the peer is no longer reliable or has encountered an error. It should be called when the application determines that the peer can no longer be trusted to communicate correctly. There are no specific preconditions for calling this function, but it is expected that the `peer` parameter points to a valid `tmuxpeer` structure.
- **Inputs**:
    - `peer`: A pointer to a `tmuxpeer` structure representing the peer to be marked. This pointer must not be null, and it should point to a valid peer structure. If the pointer is null or invalid, the behavior of the function is undefined.
- **Output**: None
- **See also**: [`proc_kill_peer`](proc.c.driver.md#proc_kill_peer)  (Implementation)


---
### proc_flush_peer<!-- {{#callable_declaration:proc_flush_peer}} -->
Flushes the message buffer for a peer.
- **Description**: This function is used to ensure that all pending messages in the message buffer associated with a specified peer are sent. It should be called when you want to clear the buffer and send any messages that have been queued. The function does not return any value and does not modify the peer structure itself.
- **Inputs**:
    - `peer`: A pointer to a `struct tmuxpeer` representing the peer whose message buffer is to be flushed. This pointer must not be null.
- **Output**: None
- **See also**: [`proc_flush_peer`](proc.c.driver.md#proc_flush_peer)  (Implementation)


---
### proc_toggle_log<!-- {{#callable_declaration:proc_toggle_log}} -->
Toggles logging for a specified process.
- **Description**: This function is used to toggle the logging state for a process represented by the `tmuxproc` structure. It should be called when you want to enable or disable logging for the specified process. Ensure that the `tmuxproc` pointer is valid and points to an initialized process structure before calling this function.
- **Inputs**:
    - `tp`: A pointer to a `tmuxproc` structure representing the process for which logging should be toggled. This pointer must not be null and should point to a valid, initialized process structure.
- **Output**: None
- **See also**: [`proc_toggle_log`](proc.c.driver.md#proc_toggle_log)  (Implementation)


---
### proc_fork_and_daemon<!-- {{#callable_declaration:proc_fork_and_daemon}} -->
Creates a new process and daemonizes it.
- **Description**: This function is used to create a new process that runs as a daemon. It must be called in a context where forking is appropriate, such as after initialization of the application. The function sets up a socket pair for inter-process communication, and the child process will close one end of the socket and daemonize itself, while the parent process will close the other end. The file descriptor for the socket is returned through the provided pointer. If the function fails to create the socket pair or fork the process, it will terminate the application.
- **Inputs**:
    - `fd`: A pointer to an integer where the file descriptor of the socket will be stored. This must not be null, and the caller retains ownership of the memory.
- **Output**: Returns the process ID of the child process if successful, or 0 if called in the child process. If an error occurs during socket creation or forking, the application will terminate.
- **See also**: [`proc_fork_and_daemon`](proc.c.driver.md#proc_fork_and_daemon)  (Implementation)


---
### proc_get_peer_uid<!-- {{#callable_declaration:proc_get_peer_uid}} -->
Retrieves the user ID of a peer.
- **Description**: This function is used to obtain the user ID associated with a given peer connection. It should be called with a valid `tmuxpeer` structure that has been properly initialized. If the `peer` parameter is null, the behavior is undefined, and the function may lead to a crash or unexpected results.
- **Inputs**:
    - `peer`: A pointer to a `tmuxpeer` structure representing the peer connection. This pointer must not be null and should point to a valid, initialized `tmuxpeer` instance.
- **Output**: Returns the user ID (`uid_t`) of the specified peer. This value can be used for permission checks or logging purposes.
- **See also**: [`proc_get_peer_uid`](proc.c.driver.md#proc_get_peer_uid)  (Implementation)


---
### start_cfg<!-- {{#callable_declaration:start_cfg}} -->
Starts the configuration process.
- **Description**: This function is responsible for initiating the configuration loading process for the application. It should be called early in the application's lifecycle, typically before any commands are processed. The function loads configuration files specified in the global variable `cfg_files`, and it ensures that any commands from the initial client are queued to run after the configuration is fully loaded. If the `cfg_quiet` flag is set, the configuration will be loaded in quiet mode, suppressing output.
- **Inputs**:
    - None
- **Output**: None
- **See also**: [`start_cfg`](cfg.c.driver.md#start_cfg)  (Implementation)


---
### load_cfg<!-- {{#callable_declaration:load_cfg}} -->
Loads a configuration file.
- **Description**: This function is used to load a configuration file specified by the `path` parameter. It should be called when the application needs to read and apply settings from a configuration file. The function expects the `client` and `cmdq_item` parameters to be valid, and it may modify the `new_item` pointer to point to a newly created command item based on the parsed configuration. If the file cannot be opened or if there are parsing errors, appropriate error handling is performed, and the function returns an error code.
- **Inputs**:
    - `path`: A string representing the path to the configuration file. Must not be null. If the file does not exist and the `flags` parameter includes `CMD_PARSE_QUIET`, the function will return 0 without an error.
    - `c`: A pointer to a `struct client` representing the client context. Must not be null.
    - `item`: A pointer to a `struct cmdq_item` that represents the command queue item. Can be null.
    - `current`: A pointer to a `struct cmd_find_state` representing the current command state. Must not be null.
    - `flags`: An integer representing flags that modify the behavior of the function. Valid values include `CMD_PARSE_QUIET` and `CMD_PARSE_PARSEONLY`. The function will handle invalid flags gracefully.
    - `new_item`: A pointer to a pointer to a `struct cmdq_item`. If the function successfully creates a new command item, this pointer will be updated to point to it. Can be null.
- **Output**: Returns 0 on success, -1 on failure due to file access or parsing errors. If `new_item` is not null and a new command item is created, it will point to that item.
- **See also**: [`load_cfg`](cfg.c.driver.md#load_cfg)  (Implementation)


---
### load_cfg_from_buffer<!-- {{#callable_declaration:load_cfg_from_buffer}} -->
Loads configuration from a buffer.
- **Description**: This function is used to load configuration data from a provided buffer into the system. It should be called when you need to apply configuration settings dynamically, such as during initialization or when reloading settings. The function expects a valid buffer and its length, along with a path for logging purposes. If the `flags` parameter includes `CMD_PARSE_PARSEONLY`, the function will only parse the commands without executing them. The `new_item` parameter can be used to retrieve a pointer to a newly created command queue item if the configuration is successfully loaded.
- **Inputs**:
    - `buf`: A pointer to the buffer containing the configuration data. Must not be null.
    - `len`: The length of the buffer in bytes. Must be greater than zero.
    - `path`: A string representing the path from which the configuration is loaded. Must not be null.
    - `c`: A pointer to a `struct client` representing the client context. Must not be null.
    - `item`: A pointer to a `struct cmdq_item` representing the command queue item. Can be null.
    - `current`: A pointer to a `struct cmd_find_state` representing the current command state. Must not be null.
    - `flags`: An integer representing various flags for parsing behavior. Valid values depend on the defined constants.
    - `new_item`: A pointer to a pointer of `struct cmdq_item` where the new command item will be stored if created. Can be null.
- **Output**: Returns 0 on success, or -1 if there was a parsing error. If `new_item` is not null, it will point to the newly created command item if the configuration is successfully loaded.
- **See also**: [`load_cfg_from_buffer`](cfg.c.driver.md#load_cfg_from_buffer)  (Implementation)


---
### cfg_print_causes<!-- {{#callable_declaration:cfg_print_causes}} -->
Prints and frees configuration causes.
- **Description**: This function is used to print all causes stored in the configuration and subsequently frees the allocated memory for these causes. It should be called when the causes are no longer needed, typically during cleanup or shutdown processes. The function assumes that the causes have been previously populated and that the `cmdq_item` provided is valid. After execution, the internal state related to causes is reset, ensuring that subsequent calls will not reference freed memory.
- **Inputs**:
    - `item`: A pointer to a `struct cmdq_item` that represents the command queue item to which the causes will be printed. This pointer must not be null, and the function does not take ownership of it.
- **Output**: The function does not return a value and does not mutate any inputs.
- **See also**: [`cfg_print_causes`](cfg.c.driver.md#cfg_print_causes)  (Implementation)


---
### cfg_show_causes<!-- {{#callable_declaration:cfg_show_causes}} -->
Displays configuration error causes.
- **Description**: This function is used to display configuration error causes to the user. It should be called when there are errors in the configuration that need to be communicated. If there are no causes to display, the function will return immediately without any action. If the provided `session` pointer is `NULL`, the function will attempt to use the first available session or the minimum session if none are available. The function also ensures that the session is attached before proceeding to display the causes.
- **Inputs**:
    - `s`: A pointer to a `struct session`. This parameter can be `NULL`, in which case the function will attempt to find an appropriate session. If the session is not attached, the function will return without displaying anything.
- **Output**: The function does not return a value and does not modify any inputs.
- **See also**: [`cfg_show_causes`](cfg.c.driver.md#cfg_show_causes)  (Implementation)


---
### paste_buffer_name<!-- {{#callable_declaration:paste_buffer_name}} -->
Returns the name of the paste buffer.
- **Description**: This function retrieves the name of a specified paste buffer. It should be called with a valid pointer to a `struct paste_buffer`. The function does not modify the paste buffer and will return a pointer to the name string stored within the paste buffer structure. If the provided pointer is null or invalid, the behavior is undefined.
- **Inputs**:
    - `pb`: A pointer to a `struct paste_buffer`. Must not be null. The function expects a valid paste buffer structure; passing a null or invalid pointer may lead to undefined behavior.
- **Output**: Returns a pointer to a string representing the name of the paste buffer. The returned string should not be modified or freed by the caller.
- **See also**: [`paste_buffer_name`](paste.c.driver.md#paste_buffer_name)  (Implementation)


---
### paste_buffer_order<!-- {{#callable_declaration:paste_buffer_order}} -->
Returns the order of the paste buffer.
- **Description**: This function retrieves the order of a specified paste buffer, which is represented by a pointer to a `struct paste_buffer`. It is essential to ensure that the `paste_buffer` pointer passed to this function is valid and points to an initialized paste buffer. Calling this function with a null pointer or an uninitialized paste buffer may lead to undefined behavior.
- **Inputs**:
    - `pb`: A pointer to a `struct paste_buffer`. This pointer must not be null and should point to a valid, initialized paste buffer. If the pointer is null or invalid, the behavior of the function is undefined.
- **Output**: Returns an unsigned integer representing the order of the paste buffer. The value returned corresponds to the order attribute of the specified paste buffer.
- **See also**: [`paste_buffer_order`](paste.c.driver.md#paste_buffer_order)  (Implementation)


---
### paste_buffer_created<!-- {{#callable_declaration:paste_buffer_created}} -->
Returns the creation time of a paste buffer.
- **Description**: This function retrieves the creation time of a specified paste buffer. It should be called with a valid pointer to a `struct paste_buffer` that has been properly initialized. If the provided pointer is null or points to an uninitialized buffer, the behavior is undefined. This function is useful for tracking when a paste buffer was created, which can be important for managing paste buffer lifetimes or for user interface features that display buffer age.
- **Inputs**:
    - `pb`: A pointer to a `struct paste_buffer`. Must not be null and must point to a valid, initialized paste buffer. Passing a null pointer or an uninitialized buffer will lead to undefined behavior.
- **Output**: Returns a `time_t` value representing the creation time of the paste buffer. This value can be used to determine the age of the buffer.
- **See also**: [`paste_buffer_created`](paste.c.driver.md#paste_buffer_created)  (Implementation)


---
### paste_buffer_data<!-- {{#callable_declaration:paste_buffer_data}} -->
Returns the data from a paste buffer.
- **Description**: This function retrieves the data stored in a specified paste buffer. It is essential to ensure that the `paste_buffer` structure is properly initialized before calling this function. If the `size` parameter is not null, the function will also populate it with the size of the data being returned. If the paste buffer is empty or uninitialized, the behavior is undefined, so it is advisable to check the state of the paste buffer before invoking this function.
- **Inputs**:
    - `pb`: A pointer to a `struct paste_buffer` that contains the data to be retrieved. This pointer must not be null and should point to a valid paste buffer.
    - `size`: A pointer to a `size_t` variable where the size of the data will be stored. This parameter can be null if the size is not needed.
- **Output**: Returns a pointer to a constant character string containing the data from the paste buffer. If the paste buffer is empty or uninitialized, the returned pointer may be invalid.
- **See also**: [`paste_buffer_data`](paste.c.driver.md#paste_buffer_data)  (Implementation)


---
### paste_walk<!-- {{#callable_declaration:paste_walk}} -->
Walks through the paste buffer.
- **Description**: This function is used to iterate through the paste buffers. It can be called to retrieve the next paste buffer in the sequence. If the provided `pb` parameter is `NULL`, it returns the first paste buffer in the list. If `pb` is not `NULL`, it returns the next paste buffer after the specified one. This function should be used when you need to access multiple paste buffers in a sequential manner.
- **Inputs**:
    - `pb`: A pointer to a `struct paste_buffer`. This parameter can be `NULL`, in which case the function will return the first paste buffer. If it is not `NULL`, it should point to a valid paste buffer, and the function will return the next paste buffer in the sequence. Passing an invalid pointer (not `NULL` and not a valid `struct paste_buffer`) may lead to undefined behavior.
- **Output**: Returns a pointer to the next `struct paste_buffer` in the sequence, or the first paste buffer if `pb` is `NULL`. If there are no more paste buffers, the behavior is undefined.
- **See also**: [`paste_walk`](paste.c.driver.md#paste_walk)  (Implementation)


---
### paste_is_empty<!-- {{#callable_declaration:paste_is_empty}} -->
Checks if the paste buffer is empty.
- **Description**: This function is used to determine whether the paste buffer is currently empty. It can be called at any time to check the state of the paste buffer, and it is particularly useful before attempting to retrieve or manipulate data from the paste buffer. The function does not require any parameters and can be called without prior initialization of any specific state.
- **Inputs**:
    - None
- **Output**: Returns a non-zero value if the paste buffer is empty, and zero otherwise.
- **See also**: [`paste_is_empty`](paste.c.driver.md#paste_is_empty)  (Implementation)


---
### paste_get_top<!-- {{#callable_declaration:paste_get_top}} -->
Retrieves the top paste buffer.
- **Description**: This function is used to obtain the most recently added paste buffer that is marked as automatic. It should be called when you need to access the top paste buffer in the paste history. If the `name` parameter is provided, it will be set to the name of the retrieved paste buffer. The function will return `NULL` if there are no automatic paste buffers available.
- **Inputs**:
    - `name`: A pointer to a string that will be set to the name of the retrieved paste buffer. This parameter can be NULL if the name is not needed. If provided, it must point to a valid memory location.
- **Output**: Returns a pointer to the top `paste_buffer` structure if an automatic paste buffer is found; otherwise, it returns `NULL`.
- **See also**: [`paste_get_top`](paste.c.driver.md#paste_get_top)  (Implementation)


---
### paste_get_name<!-- {{#callable_declaration:paste_get_name}} -->
Retrieves a paste buffer by its name.
- **Description**: This function is used to obtain a pointer to a `paste_buffer` structure associated with a given name. It should be called with a valid name string that is not null or empty. If the provided name is invalid, the function will return `NULL`. This is useful for accessing previously stored paste buffers by their names.
- **Inputs**:
    - `name`: A pointer to a null-terminated string representing the name of the paste buffer to retrieve. This parameter must not be null or an empty string. If it is null or empty, the function will return NULL.
- **Output**: Returns a pointer to the `paste_buffer` structure associated with the specified name, or NULL if no such buffer exists or if the input name is invalid.
- **See also**: [`paste_get_name`](paste.c.driver.md#paste_get_name)  (Implementation)


---
### paste_free<!-- {{#callable_declaration:paste_free}} -->
Frees a paste buffer.
- **Description**: This function is used to release the resources associated with a paste buffer. It should be called when the paste buffer is no longer needed, typically to prevent memory leaks. The function will notify any listeners that the paste buffer has been freed, and it will remove the buffer from any tracking structures. It is important to ensure that the paste buffer is valid and has been properly initialized before calling this function.
- **Inputs**:
    - `pb`: A pointer to a `struct paste_buffer`. This pointer must not be null and should point to a valid paste buffer that has been previously allocated. The function will handle the deallocation of the buffer and its associated resources.
- **Output**: None
- **See also**: [`paste_free`](paste.c.driver.md#paste_free)  (Implementation)


---
### paste_add<!-- {{#callable_declaration:paste_add}} -->
Adds data to the paste buffer.
- **Description**: This function is used to add a new entry to the paste buffer, which can be useful for storing and retrieving text data. It should be called with a valid `data` pointer and a non-zero `size`. If `size` is zero, the function will free the `data` pointer and return without adding anything to the paste buffer. The `prefix` parameter is optional; if it is `NULL`, a default prefix of 'buffer' will be used. The function manages the paste buffer's automatic entries, ensuring that the number of automatic entries does not exceed a specified limit, and it will free older automatic entries if necessary.
- **Inputs**:
    - `prefix`: A string that will be used as a prefix for the paste buffer name. If NULL, defaults to 'buffer'. Caller retains ownership.
    - `data`: A pointer to the data to be added to the paste buffer. Must not be NULL if size is greater than 0. Caller retains ownership.
    - `size`: The size of the data in bytes. Must be greater than 0 to add data to the paste buffer. If size is 0, the function will free the data pointer.
- **Output**: None
- **See also**: [`paste_add`](paste.c.driver.md#paste_add)  (Implementation)


---
### paste_rename<!-- {{#callable_declaration:paste_rename}} -->
Renames a paste buffer.
- **Description**: This function is used to rename an existing paste buffer identified by `oldname` to a new name specified by `newname`. It should be called when the user wants to change the name of a paste buffer, and it must be ensured that the `oldname` is valid and that the `newname` is not empty. If the `oldname` does not correspond to an existing paste buffer, or if either name is invalid, an error will be reported through the `cause` parameter, if provided.
- **Inputs**:
    - `oldname`: The current name of the paste buffer to be renamed. Must not be null or an empty string. If invalid, an error message is set in `cause`.
    - `newname`: The new name to assign to the paste buffer. Must not be null or an empty string. If invalid, an error message is set in `cause`.
    - `cause`: A pointer to a string that will hold an error message if the operation fails. Can be null if error reporting is not needed. The caller retains ownership of the memory pointed to by this parameter.
- **Output**: Returns 0 on success, or -1 if an error occurs. If an error occurs, `cause` will be set to a descriptive error message.
- **See also**: [`paste_rename`](paste.c.driver.md#paste_rename)  (Implementation)


---
### paste_set<!-- {{#callable_declaration:paste_set}} -->
Sets a paste buffer with the given data.
- **Description**: This function is used to create or update a paste buffer with the specified data and name. It should be called when you want to store a piece of data in a paste buffer, which can later be retrieved for pasting. The function expects that the size of the data is greater than zero, and if the name is an empty string, it will return an error indicating that the buffer name cannot be empty. If the name is NULL, the data will be added without a specific name. If the function encounters an error due to an empty name, it will set the cause parameter to indicate the error.
- **Inputs**:
    - `data`: A pointer to the data to be stored in the paste buffer. Must not be null. If size is zero, the data will be freed and no paste buffer will be created.
    - `size`: The size of the data to be stored. Must be greater than zero to create a paste buffer.
    - `name`: A string representing the name of the paste buffer. Must not be an empty string. If NULL, the data will be added without a specific name.
    - `cause`: A pointer to a string that will be set to an error message if an error occurs. Can be NULL if error reporting is not needed.
- **Output**: Returns 0 on success, -1 if an error occurs due to an empty name, and frees the data if size is zero.
- **See also**: [`paste_set`](paste.c.driver.md#paste_set)  (Implementation)


---
### paste_replace<!-- {{#callable_declaration:paste_replace}} -->
Replaces the data in a paste buffer.
- **Description**: This function is used to replace the contents of a paste buffer with new data. It should be called when you want to update the paste buffer with new text, ensuring that the previous data is freed to prevent memory leaks. The function does not check if the provided `data` is null, so the caller must ensure that it is valid before calling this function.
- **Inputs**:
    - `pb`: A pointer to a `struct paste_buffer` that represents the paste buffer to be updated. Must not be null.
    - `data`: A pointer to a character array containing the new data to be stored in the paste buffer. Must not be null.
    - `size`: The size of the data to be copied into the paste buffer. Must be greater than zero.
- **Output**: None
- **See also**: [`paste_replace`](paste.c.driver.md#paste_replace)  (Implementation)


---
### paste_make_sample<!-- {{#callable_declaration:paste_make_sample}} -->
Creates a sample representation of a paste buffer.
- **Description**: This function is used to generate a sample string from the contents of a `paste_buffer`. It is particularly useful for displaying a preview of the buffer's content in a limited-width format. The function should be called when you need to visualize the contents of a paste buffer, and it will truncate the output if the buffer exceeds a specified width. The function handles the conversion of UTF-8 data to a visible format, ensuring that the output is safe for display.
- **Inputs**:
    - `pb`: A pointer to a `paste_buffer` structure that contains the data to be sampled. This pointer must not be null, and the function expects the `paste_buffer` to be properly initialized. If the buffer is empty or invalid, the behavior is undefined.
- **Output**: Returns a pointer to a dynamically allocated string containing the sample representation of the paste buffer. The caller is responsible for freeing this memory. If the paste buffer is empty, the returned string may be empty as well.
- **See also**: [`paste_make_sample`](paste.c.driver.md#paste_make_sample)  (Implementation)


---
### format_tidy_jobs<!-- {{#callable_declaration:format_tidy_jobs}} -->
Cleans up job formatting.
- **Description**: This function is intended to be called to tidy up the formatting of jobs associated with the main format jobs and any jobs linked to active clients. It should be invoked when there is a need to refresh or clean up job displays, typically after job completion or when the job list is modified. The function iterates through all clients and applies the formatting cleanup to each client's jobs if they exist.
- **Inputs**:
    - None
- **Output**: None
- **See also**: [`format_tidy_jobs`](format.c.driver.md#format_tidy_jobs)  (Implementation)


---
### format_skip<!-- {{#callable_declaration:format_skip}} -->
Skips a formatted string until a specified end character.
- **Description**: This function is used to traverse a formatted string, skipping over any special formatting characters until it encounters a character specified in the `end` parameter. It is particularly useful when parsing strings that may contain embedded formatting, such as those used in templating systems. The function should be called with a valid string and an end character set; if the string is empty or if the end character is not found, it will return `NULL`. The caller must ensure that the `s` and `end` parameters are not null.
- **Inputs**:
    - `s`: A pointer to the input string to be traversed. Must not be null.
    - `end`: A pointer to a string containing characters that signify the end of the traversal. Must not be null.
- **Output**: Returns a pointer to the character in the input string `s` where the traversal stopped, or `NULL` if the end of the string is reached without finding an end character.
- **See also**: [`format_skip`](format.c.driver.md#format_skip)  (Implementation)


---
### format_true<!-- {{#callable_declaration:format_true}} -->
Checks if the given string represents a true value.
- **Description**: This function evaluates a string to determine if it represents a true value. It should be called with a valid string that may represent a boolean value. The function returns 1 if the string is non-null, non-empty, and not equal to '0'. It returns 0 otherwise. This is useful for interpreting user input or configuration settings that may be represented as strings.
- **Inputs**:
    - `s`: A pointer to a null-terminated string. Must not be null. If the string is empty or equals '0', the function will return 0.
- **Output**: Returns 1 if the string represents a true value, otherwise returns 0.
- **See also**: [`format_true`](format.c.driver.md#format_true)  (Implementation)


---
### format_create<!-- {{#callable_declaration:format_create}} -->
Creates a new format tree.
- **Description**: This function is used to create a new `format_tree` structure, which is essential for managing format strings in the application. It should be called when a new format tree is needed, typically after initializing the necessary components. The function takes a pointer to a `client`, a `cmdq_item`, a tag, and flags to configure the format tree. If the `client` is provided, its reference count is incremented, indicating that the format tree is associated with that client. If the `cmdq_item` is not null, it is added to the format tree, allowing for further processing of commands.
- **Inputs**:
    - `c`: A pointer to a `client` structure. This parameter can be null. If provided, the function increments the reference count of the client.
    - `item`: A pointer to a `cmdq_item` structure. This parameter can be null. If not null, the item is added to the format tree.
    - `tag`: An integer representing a tag for the format tree. It can be any valid integer value.
    - `flags`: An integer representing flags for configuring the format tree. It can be any valid integer value.
- **Output**: Returns a pointer to the newly created `format_tree`. If memory allocation fails, the behavior is undefined.
- **See also**: [`format_create`](format.c.driver.md#format_create)  (Implementation)


---
### format_free<!-- {{#callable_declaration:format_free}} -->
Frees the resources associated with a `format_tree`.
- **Description**: This function should be called to release all memory and resources associated with a `format_tree` structure. It is essential to invoke this function when the `format_tree` is no longer needed to prevent memory leaks. The function will safely handle the deallocation of all entries within the tree, as well as the `format_tree` itself. It is important to ensure that the pointer passed to this function is valid and was previously allocated; passing a null pointer will result in undefined behavior.
- **Inputs**:
    - `ft`: A pointer to a `format_tree` structure that must not be null. This structure should have been previously allocated and initialized. If the pointer is null, the behavior is undefined.
- **Output**: None
- **See also**: [`format_free`](format.c.driver.md#format_free)  (Implementation)


---
### format_merge<!-- {{#callable_declaration:format_merge}} -->
Merges entries from one format tree into another.
- **Description**: This function is used to combine entries from a source `format_tree` into a destination `format_tree`. It iterates over all entries in the `from` tree and adds them to the `ft` tree if their values are not null. This function should be called when you want to consolidate format entries, ensuring that the destination tree is updated with relevant data from the source tree.
- **Inputs**:
    - `ft`: A pointer to the destination `format_tree` where entries will be merged. Must not be null.
    - `from`: A pointer to the source `format_tree` from which entries will be taken. Must not be null.
- **Output**: None
- **See also**: [`format_merge`](format.c.driver.md#format_merge)  (Implementation)


---
### format_get_pane<!-- {{#callable_declaration:format_get_pane}} -->
Retrieves the associated window pane from a format tree.
- **Description**: This function is used to obtain the `window_pane` associated with a given `format_tree`. It should be called when you need to access the pane information that is encapsulated within the format tree. Ensure that the `format_tree` has been properly initialized before calling this function, as passing an uninitialized or null pointer may lead to undefined behavior.
- **Inputs**:
    - `ft`: A pointer to a `format_tree` structure. Must not be null and should be properly initialized before use.
- **Output**: Returns a pointer to the associated `window_pane`. If the `format_tree` does not have an associated pane, the return value may be null.
- **See also**: [`format_get_pane`](format.c.driver.md#format_get_pane)  (Implementation)


---
### format_add_tv<!-- {{#callable_declaration:format_add_tv}} -->
Adds a timestamp entry to a format tree.
- **Description**: This function is used to add a timestamp entry to a `format_tree` structure, identified by a specified key. It should be called when you need to associate a `timeval` structure with a specific key in the format tree. The `format_tree` must be properly initialized before this function is called. If the key already exists in the tree, the existing entry will be replaced, and the memory for the previous value will be freed.
- **Inputs**:
    - `ft`: A pointer to a `format_tree` structure where the entry will be added. Must not be null.
    - `key`: A string representing the key for the entry. Must not be null.
    - `tv`: A pointer to a `timeval` structure containing the timestamp. Must not be null.
- **Output**: None
- **See also**: [`format_add_tv`](format.c.driver.md#format_add_tv)  (Implementation)


---
### format_add_cb<!-- {{#callable_declaration:format_add_cb}} -->
Adds a callback function to a format tree.
- **Description**: This function is used to associate a callback function with a specific key in a `format_tree`. It should be called when you want to add a custom formatting behavior that can be invoked later using the specified key. The key must be unique within the `format_tree`. If a callback is already associated with the given key, the existing callback will be replaced. It is important to ensure that the `format_tree` is properly initialized before calling this function.
- **Inputs**:
    - `ft`: A pointer to a `format_tree` structure. Must not be null and should be initialized before use.
    - `key`: A string representing the key to associate with the callback. Must not be null and should be unique within the `format_tree`.
    - `cb`: A function pointer of type `format_cb` that represents the callback to be associated with the key. Must not be null.
- **Output**: None
- **See also**: [`format_add_cb`](format.c.driver.md#format_add_cb)  (Implementation)


---
### format_log_debug<!-- {{#callable_declaration:format_log_debug}} -->
Formats a debug log message.
- **Description**: This function is used to format a debug log message by applying a specified prefix to each entry in the provided format tree. It should be called when there is a need to log debug information, particularly after the format tree has been populated with relevant data. The function does not return any value and is expected to handle the formatting internally.
- **Inputs**:
    - `ft`: A pointer to a `struct format_tree` that contains the data to be formatted. This pointer must not be null and should point to a valid format tree structure.
    - `prefix`: A string that serves as a prefix for the log message. This string can be null, in which case no prefix will be applied. If provided, it should be a valid C string.
- **Output**: None
- **See also**: [`format_log_debug`](format.c.driver.md#format_log_debug)  (Implementation)


---
### format_each<!-- {{#callable_declaration:format_each}} -->
Formats each entry in a format tree.
- **Description**: This function iterates over entries in a `format_tree` and applies a callback function to each entry's key and value. It is typically used to process or display formatted data. The function should be called after the `format_tree` has been properly initialized. If any entry's value is `NULL`, it is skipped. The callback function is expected to handle the formatted output, and it can be customized by passing a user-defined argument.
- **Inputs**:
    - `ft`: A pointer to a `format_tree` structure. Must not be null and should be initialized before calling this function.
    - `cb`: A pointer to a callback function that takes three parameters: a key (const char*), a value (const char*), and a user-defined argument (void*). This function must not be null.
    - `arg`: A pointer to user-defined data that will be passed to the callback function. It can be null if no additional data is needed.
- **Output**: None
- **See also**: [`format_each`](format.c.driver.md#format_each)  (Implementation)


---
### format_pretty_time<!-- {{#callable_declaration:format_pretty_time}} -->
Formats a time value into a human-readable string.
- **Description**: This function is used to convert a `time_t` value into a formatted string that represents the time in a human-readable format. It is particularly useful for displaying timestamps in a user-friendly way. The function should be called with a valid `time_t` value, and it will return a newly allocated string containing the formatted time. The `seconds` parameter determines whether to include seconds in the output. If the time is within the last 24 hours, it will display the time in hours and minutes or hours, minutes, and seconds based on the `seconds` parameter. If the time is within the current month or the last 28 days, it will display the date in a specific format. For times older than that, it will display the date in a different format. The caller is responsible for freeing the returned string.
- **Inputs**:
    - `t`: A `time_t` value representing the time to format. Must be a valid time value.
    - `seconds`: An integer that indicates whether to include seconds in the output. Valid values are 0 (do not include seconds) or 1 (include seconds). Must be either 0 or 1.
- **Output**: Returns a pointer to a newly allocated string containing the formatted time. The caller must free this string when it is no longer needed.
- **See also**: [`format_pretty_time`](format.c.driver.md#format_pretty_time)  (Implementation)


---
### format_expand_time<!-- {{#callable_declaration:format_expand_time}} -->
Expands a time format string.
- **Description**: This function is used to expand a time format string based on the provided `format_tree`. It should be called when you need to format a time string according to specific rules defined in the `format_tree`. The function expects that the `format_tree` has been properly initialized before calling this function. If the `fmt` parameter is NULL, the behavior is undefined.
- **Inputs**:
    - `ft`: A pointer to a `format_tree` structure that contains the formatting rules. Must not be null.
    - `fmt`: A pointer to a null-terminated string representing the format to be expanded. Must not be null.
- **Output**: Returns a pointer to a newly allocated string containing the expanded time format. The caller is responsible for freeing this string when it is no longer needed.
- **See also**: [`format_expand_time`](format.c.driver.md#format_expand_time)  (Implementation)


---
### format_expand<!-- {{#callable_declaration:format_expand}} -->
Expands a formatted string using a format tree.
- **Description**: This function is used to expand a formatted string based on the provided `format_tree`. It should be called when you need to generate a string that incorporates dynamic values defined in the `format_tree`. The `fmt` parameter should be a valid format string that the function can interpret. It is important to ensure that the `format_tree` is properly initialized before calling this function, as passing an uninitialized or null pointer may lead to undefined behavior.
- **Inputs**:
    - `ft`: A pointer to a `format_tree` structure that contains the definitions for the format expansion. Must not be null and should be properly initialized before use.
    - `fmt`: A pointer to a constant character string representing the format to be expanded. This string must be valid and properly formatted according to the expectations of the format expansion logic.
- **Output**: Returns a pointer to a dynamically allocated string that contains the expanded format. The caller is responsible for freeing this string when it is no longer needed. If the expansion fails, the return value may be null.
- **See also**: [`format_expand`](format.c.driver.md#format_expand)  (Implementation)


---
### format_single<!-- {{#callable_declaration:format_single}} -->
Expands a formatted string using context from various structures.
- **Description**: This function is used to format a string based on a provided format template and context from various structures such as `cmdq_item`, `client`, `session`, `winlink`, and `window_pane`. It should be called when you need to generate a string that incorporates dynamic values from these structures. The function allocates memory for the resulting string, which the caller is responsible for freeing. If the provided format string is invalid or if memory allocation fails, the function will return `NULL`.
- **Inputs**:
    - `item`: A pointer to a `cmdq_item` structure that provides context for the formatting. Must not be null.
    - `fmt`: A pointer to a null-terminated string that specifies the format. Must not be null.
    - `c`: A pointer to a `client` structure that may provide additional context. Can be null.
    - `s`: A pointer to a `session` structure that may provide additional context. Can be null.
    - `wl`: A pointer to a `winlink` structure that may provide additional context. Can be null.
    - `wp`: A pointer to a `window_pane` structure that may provide additional context. Can be null.
- **Output**: Returns a pointer to a newly allocated string containing the expanded format. The caller must free this string when it is no longer needed. If an error occurs, `NULL` is returned.
- **See also**: [`format_single`](format.c.driver.md#format_single)  (Implementation)


---
### format_single_from_state<!-- {{#callable_declaration:format_single_from_state}} -->
Formats a single output string from the given state.
- **Description**: This function is used to format a string based on a specified format and the current state of a command. It should be called when there is a need to generate a formatted output string that reflects the current context of a command execution. The function expects that the `cmdq_item` and `client` parameters are valid and properly initialized. The `cmd_find_state` parameter must also be valid and should not be null, as it provides the necessary context for formatting. If any of the parameters are invalid, the behavior is undefined.
- **Inputs**:
    - `item`: A pointer to a `cmdq_item` structure that represents the command queue item. Must not be null.
    - `fmt`: A pointer to a string that specifies the format to be applied. Must not be null and should be a valid format string.
    - `c`: A pointer to a `client` structure representing the client context. Must not be null.
    - `fs`: A pointer to a `cmd_find_state` structure that holds the state information for command finding. Must not be null.
- **Output**: Returns a pointer to a formatted string. The caller is responsible for managing the memory of the returned string, which may need to be freed after use.
- **See also**: [`format_single_from_state`](format.c.driver.md#format_single_from_state)  (Implementation)


---
### format_single_from_target<!-- {{#callable_declaration:format_single_from_target}} -->
Formats a single string from a target.
- **Description**: This function is used to format a string based on a specified format and a target command queue item. It should be called when there is a need to generate a formatted output string that reflects the state of a specific target associated with the command queue item. The function expects that the command queue item is valid and properly initialized. If the target client or the target state is not available, the behavior is undefined.
- **Inputs**:
    - `item`: A pointer to a `struct cmdq_item` that represents the command queue item. This parameter must not be null and should point to a valid command queue item that has been initialized.
    - `fmt`: A pointer to a null-terminated string that specifies the format to be applied. This parameter must not be null and should be a valid format string compatible with the expected output.
- **Output**: Returns a pointer to a dynamically allocated string containing the formatted output. The caller is responsible for freeing this string when it is no longer needed. If the formatting fails, the return value may be null.
- **See also**: [`format_single_from_target`](format.c.driver.md#format_single_from_target)  (Implementation)


---
### format_create_defaults<!-- {{#callable_declaration:format_create_defaults}} -->
Creates a format tree with default values.
- **Description**: This function is used to create a `format_tree` structure initialized with default values based on the provided context. It should be called when a new format tree is needed, particularly after the relevant `client`, `session`, `winlink`, and `window_pane` structures have been initialized. If the `item` parameter is provided, it is used to retrieve the associated client; otherwise, a null client is used. The function will return a pointer to the newly created `format_tree`, which must be managed by the caller.
- **Inputs**:
    - `item`: A pointer to a `cmdq_item` structure, which may be null. If not null, it is used to retrieve the associated client. The caller retains ownership.
    - `c`: A pointer to a `client` structure. Must not be null.
    - `s`: A pointer to a `session` structure. Must not be null.
    - `wl`: A pointer to a `winlink` structure. Must not be null.
    - `wp`: A pointer to a `window_pane` structure. Must not be null.
- **Output**: Returns a pointer to a newly created `format_tree` structure initialized with default values based on the provided parameters.
- **See also**: [`format_create_defaults`](format.c.driver.md#format_create_defaults)  (Implementation)


---
### format_create_from_state<!-- {{#callable_declaration:format_create_from_state}} -->
Creates a format tree from the given command state.
- **Description**: This function is used to create a `format_tree` structure based on the provided command queue item, client, and command find state. It should be called when there is a need to generate a format tree that reflects the current state of the command execution context. The function expects valid pointers for the `item`, `c`, and `fs` parameters, and it is important to ensure that the `cmd_find_state` structure is properly initialized before calling this function.
- **Inputs**:
    - `item`: A pointer to a `cmdq_item` structure representing the command queue item. Must not be null.
    - `c`: A pointer to a `client` structure representing the client context. Must not be null.
    - `fs`: A pointer to a `cmd_find_state` structure that holds the state of the command find operation. Must not be null.
- **Output**: Returns a pointer to a `format_tree` structure that represents the created format tree. If the creation fails, the return value may be null.
- **See also**: [`format_create_from_state`](format.c.driver.md#format_create_from_state)  (Implementation)


---
### format_create_from_target<!-- {{#callable_declaration:format_create_from_target}} -->
Creates a format tree from the target of a command queue item.
- **Description**: This function is intended to be called when a format tree needs to be generated based on the target specified in a command queue item. It is essential to ensure that the `cmdq_item` provided is valid and properly initialized before invoking this function. The function will return a pointer to a newly created `format_tree` structure, which can be used for further formatting operations. If the provided `cmdq_item` does not have a valid target, the behavior is undefined.
- **Inputs**:
    - `item`: A pointer to a `cmdq_item` structure that specifies the command queue item from which the target is derived. This pointer must not be null and should point to a valid `cmdq_item`. If the item is invalid or uninitialized, the function's behavior is undefined.
- **Output**: Returns a pointer to a `format_tree` structure that represents the formatted output based on the target of the provided command queue item. If the creation fails, the return value may be null.
- **See also**: [`format_create_from_target`](format.c.driver.md#format_create_from_target)  (Implementation)


---
### format_defaults<!-- {{#callable_declaration:format_defaults}} -->
Sets default formatting options.
- **Description**: This function is used to initialize a `format_tree` structure with default values based on the provided context, which includes a `client`, `session`, `winlink`, and `window_pane`. It should be called when you need to prepare formatting options for output related to these entities. The function will handle cases where some of the parameters may be null by inferring values from the available parameters. It is important to ensure that the `format_tree` is properly allocated before calling this function.
- **Inputs**:
    - `ft`: A pointer to a `format_tree` structure that will be populated with default values. Must not be null.
    - `c`: A pointer to a `client` structure. Can be null, in which case the function will not set client-specific formatting.
    - `s`: A pointer to a `session` structure. Can be null, and if so, the function may infer the session from the client if it is provided.
    - `wl`: A pointer to a `winlink` structure. Can be null, and if so, the function may infer the winlink from the session.
    - `wp`: A pointer to a `window_pane` structure. Can be null, and if so, the function may infer the window pane from the winlink.
- **Output**: The function does not return a value and modifies the `format_tree` structure pointed to by `ft`.
- **See also**: [`format_defaults`](format.c.driver.md#format_defaults)  (Implementation)


---
### format_defaults_window<!-- {{#callable_declaration:format_defaults_window}} -->
Associates a `window` with a `format_tree`.
- **Description**: This function is used to set the `window` associated with a given `format_tree`. It should be called when you need to establish a link between a format tree and a window, typically during the initialization or configuration of the format tree. Ensure that the `format_tree` is properly allocated and initialized before calling this function. The `window` parameter must not be null; passing a null pointer will result in undefined behavior.
- **Inputs**:
    - `ft`: A pointer to a `format_tree` structure. Must not be null and should be properly initialized before use.
    - `w`: A pointer to a `window` structure. Must not be null. This parameter represents the window to be associated with the format tree.
- **Output**: None
- **See also**: [`format_defaults_window`](format.c.driver.md#format_defaults_window)  (Implementation)


---
### format_defaults_pane<!-- {{#callable_declaration:format_defaults_pane}} -->
Formats the defaults for a pane.
- **Description**: This function is used to set up the default formatting for a specific pane within a window. It should be called when initializing or updating the format settings for a pane. The function checks if the format tree's window is null and, if so, initializes it using the associated window. It also retrieves the current mode of the pane and applies any specific format settings defined for that mode. It is important to ensure that the `format_tree` and `window_pane` structures are properly initialized before calling this function.
- **Inputs**:
    - `ft`: A pointer to a `format_tree` structure that holds the formatting information. Must not be null.
    - `wp`: A pointer to a `window_pane` structure representing the pane to format. Must not be null.
- **Output**: None
- **See also**: [`format_defaults_pane`](format.c.driver.md#format_defaults_pane)  (Implementation)


---
### format_defaults_paste_buffer<!-- {{#callable_declaration:format_defaults_paste_buffer}} -->
Sets the paste buffer for the format tree.
- **Description**: This function is used to associate a `paste_buffer` with a `format_tree`. It should be called when you want to set or update the paste buffer that the format tree will reference. Ensure that both the `format_tree` and `paste_buffer` are properly initialized before calling this function. If either pointer is null, the behavior is undefined.
- **Inputs**:
    - `ft`: A pointer to a `format_tree` structure. Must not be null and should be properly initialized before use.
    - `pb`: A pointer to a `paste_buffer` structure. Must not be null and should be properly initialized before use.
- **Output**: None
- **See also**: [`format_defaults_paste_buffer`](format.c.driver.md#format_defaults_paste_buffer)  (Implementation)


---
### format_lost_client<!-- {{#callable_declaration:format_lost_client}} -->
Cleans up and frees resources associated with a lost client.
- **Description**: This function should be called when a client is no longer active and needs to be cleaned up. It ensures that any jobs associated with the client are properly formatted and released, preventing memory leaks. It is important to call this function only when the client is confirmed to be lost, as it directly manipulates the client's job resources.
- **Inputs**:
    - `c`: A pointer to a `struct client`. This pointer must not be null and should point to a valid client structure. If the pointer is null or invalid, the behavior of the function is undefined.
- **Output**: None
- **See also**: [`format_lost_client`](format.c.driver.md#format_lost_client)  (Implementation)


---
### format_grid_word<!-- {{#callable_declaration:format_grid_word}} -->
Formats a word from a grid.
- **Description**: This function retrieves and formats a word from a specified position in a grid. It should be called with valid coordinates within the grid, and it will return a dynamically allocated string containing the formatted word. If the specified coordinates are out of bounds or if no word is found, the function will return `NULL`. The caller is responsible for freeing the returned string when it is no longer needed.
- **Inputs**:
    - `gd`: A pointer to a `struct grid` representing the grid from which to format the word. Must not be null.
    - `x`: The x-coordinate in the grid from which to start searching for the word. Must be less than the width of the grid.
    - `y`: The y-coordinate in the grid from which to start searching for the word. Must be less than the height of the grid.
- **Output**: Returns a pointer to a dynamically allocated string containing the formatted word, or `NULL` if no word is found or if the input coordinates are invalid.
- **See also**: [`format_grid_word`](format.c.driver.md#format_grid_word)  (Implementation)


---
### format_grid_hyperlink<!-- {{#callable_declaration:format_grid_hyperlink}} -->
Formats a hyperlink from a grid cell.
- **Description**: This function retrieves a hyperlink associated with a specific cell in a grid, identified by its coordinates (x, y). It should be called when the screen is initialized and when hyperlinks are enabled. If the specified cell does not contain a hyperlink or if the grid or screen is not properly set up, the function will return NULL. The function also handles padding cells by moving left until it finds a valid cell.
- **Inputs**:
    - `gd`: Pointer to a `struct grid` representing the grid from which to retrieve the hyperlink. Must not be null.
    - `x`: The x-coordinate of the cell in the grid. Must be within the bounds of the grid.
    - `y`: The y-coordinate of the cell in the grid. Must be within the bounds of the grid.
    - `s`: Pointer to a `struct screen` that contains the hyperlink data. Must not be null.
- **Output**: Returns a pointer to a string containing the formatted hyperlink if successful, or NULL if there is no hyperlink associated with the specified cell or if an error occurs.
- **See also**: [`format_grid_hyperlink`](format.c.driver.md#format_grid_hyperlink)  (Implementation)


---
### format_grid_line<!-- {{#callable_declaration:format_grid_line}} -->
Formats a line of a grid.
- **Description**: This function is used to format a specific line in a grid structure, identified by the `y` coordinate. It processes each cell in the specified line, skipping any cells marked with padding flags. The formatted line is returned as a dynamically allocated string, which should be freed by the caller. It is important to ensure that the `grid` structure is properly initialized before calling this function, and the `y` coordinate must be within the valid range of the grid's height.
- **Inputs**:
    - `gd`: A pointer to a `struct grid` representing the grid from which the line will be formatted. Must not be null and should be properly initialized.
    - `y`: An unsigned integer representing the line number to format. It must be less than the height of the grid; otherwise, the behavior is undefined.
- **Output**: Returns a pointer to a dynamically allocated string containing the formatted line. If the specified line contains no valid cells, or if an error occurs during processing, it may return NULL.
- **See also**: [`format_grid_line`](format.c.driver.md#format_grid_line)  (Implementation)


---
### format_draw<!-- {{#callable_declaration:format_draw}} -->
Formats and draws text on the screen.
- **Description**: This function is used to format and draw text on a specified screen context, taking into account various styles and alignments. It should be called when there is a need to render formatted text, such as when updating the display in a terminal application. The function handles different alignment options and can manage styles, including colors and fills. It is important to ensure that the `screen_write_ctx` is properly initialized before calling this function, and the `expanded` string should be properly formatted according to the expected style syntax. If the `expanded` string contains invalid style specifications, those will be ignored, and the function will continue processing the rest of the string.
- **Inputs**:
    - `octx`: A pointer to a `screen_write_ctx` structure that represents the context for screen writing. This must not be null and should be properly initialized before use.
    - `base`: A pointer to a `grid_cell` structure that serves as the base style for the text. This must not be null.
    - `available`: An unsigned integer representing the available width for drawing. This should be a positive value, indicating how much space is available on the screen.
    - `expanded`: A pointer to a string containing the text to be formatted and drawn. This string should be properly formatted according to the expected style syntax. It must not be null.
    - `srs`: A pointer to a `style_ranges` structure that will be populated with style ranges found in the `expanded` string. This can be null if style ranges are not needed.
    - `default_colours`: An integer flag indicating whether to use default colors for the text. This should be either 0 (do not use default colors) or 1 (use default colors).
- **Output**: The function does not return a value and does not mutate any of the input parameters directly. However, it may modify the `style_ranges` structure pointed to by `srs` if it is not null, populating it with any style ranges detected during the drawing process.
- **See also**: [`format_draw`](format-draw.c.driver.md#format_draw)  (Implementation)


---
### format_width<!-- {{#callable_declaration:format_width}} -->
Calculates the width of a formatted string.
- **Description**: This function is used to determine the visual width of a given formatted string, which may include special formatting characters. It should be called with a valid string that is properly formatted. The function handles various character types, including UTF-8 characters and special formatting characters like hashes. If the input string is null or improperly formatted, the function will return zero, indicating that no width could be calculated.
- **Inputs**:
    - `expanded`: A pointer to a null-terminated string representing the formatted text. This string must not be null. If the string is null or contains invalid formatting, the function will return zero.
- **Output**: Returns an unsigned integer representing the calculated width of the formatted string. If the input string is null or improperly formatted, the function returns zero.
- **See also**: [`format_width`](format-draw.c.driver.md#format_width)  (Implementation)


---
### format_trim_left<!-- {{#callable_declaration:format_trim_left}} -->
Trims leading characters from a string.
- **Description**: This function is used to create a new string by trimming leading characters from the provided input string, up to a specified limit. It is particularly useful when you want to format strings for display or processing, ensuring that they do not exceed a certain length. The function should be called with a valid input string and a positive limit. If the input string is null, or if the limit is zero, the function will return an empty string. The caller is responsible for freeing the memory allocated for the returned string.
- **Inputs**:
    - `expanded`: A pointer to the input string from which leading characters will be trimmed. Must not be null.
    - `limit`: An unsigned integer specifying the maximum number of characters to include in the trimmed output. Must be greater than zero.
- **Output**: Returns a pointer to a newly allocated string containing the trimmed result. The caller is responsible for freeing this memory.
- **See also**: [`format_trim_left`](format-draw.c.driver.md#format_trim_left)  (Implementation)


---
### format_trim_right<!-- {{#callable_declaration:format_trim_right}} -->
Trims the right side of a formatted string.
- **Description**: This function is used to format a string by trimming excess characters from the right side, ensuring that the resulting string does not exceed a specified width limit. It is particularly useful when dealing with formatted output where the total width of the string must be controlled. The function should be called with a valid string that has been expanded and a positive limit value. If the total width of the input string is less than or equal to the limit, a duplicate of the original string is returned. If the limit is exceeded, the function will trim the string accordingly.
- **Inputs**:
    - `expanded`: A pointer to the input string that needs to be formatted. Must not be null.
    - `limit`: An unsigned integer representing the maximum allowed width of the output string. Must be greater than zero.
- **Output**: Returns a pointer to a newly allocated string that contains the formatted output. If the input string is within the specified limit, a duplicate of the original string is returned. The caller is responsible for freeing the returned string.
- **See also**: [`format_trim_right`](format-draw.c.driver.md#format_trim_right)  (Implementation)


---
### notify_hook<!-- {{#callable_declaration:notify_hook}} -->
Inserts a notification hook.
- **Description**: This function is used to register a notification hook associated with a specific command queue item. It should be called when you want to set up a hook that will be triggered by notifications related to the command queue item. The function expects that the `item` parameter is valid and has been properly initialized. The `name` parameter should be a non-null string representing the name of the hook. If the `name` is null, the behavior is undefined.
- **Inputs**:
    - `item`: A pointer to a `struct cmdq_item` that represents the command queue item for which the hook is being registered. Must not be null.
    - `name`: A pointer to a string that represents the name of the hook. Must not be null.
- **Output**: None
- **See also**: [`notify_hook`](notify.c.driver.md#notify_hook)  (Implementation)


---
### notify_client<!-- {{#callable_declaration:notify_client}} -->
Notifies a client with a specified name.
- **Description**: This function is used to send a notification to a client identified by the provided name. It should be called when there is a need to alert the client about an event or update. The function expects that the client has been properly initialized and is ready to receive notifications. If the `client` pointer is invalid or the client is not found, the function may not perform as expected.
- **Inputs**:
    - `name`: A string representing the name of the client to notify. This parameter must not be null and should point to a valid string.
    - `c`: A pointer to a `struct client` representing the client to be notified. This pointer must not be null and should point to a valid client structure.
- **Output**: The function does not return a value and does not modify the inputs.
- **See also**: [`notify_client`](notify.c.driver.md#notify_client)  (Implementation)


---
### notify_session<!-- {{#callable_declaration:notify_session}} -->
Notifies a session with a specified name.
- **Description**: This function is used to send notifications related to a session identified by the provided name. It should be called when there is a need to alert clients or other components about changes or events in the session. The function checks if the session is alive; if it is, it prepares a command find state from the session. If the session is not alive, it initializes the command find state from a null context. The function does not return any value.
- **Inputs**:
    - `name`: A string representing the name of the notification. Must not be null.
    - `s`: A pointer to a `struct session`. This must point to a valid session object. If the session is not alive, the function will handle it gracefully.
- **Output**: None
- **See also**: [`notify_session`](notify.c.driver.md#notify_session)  (Implementation)


---
### notify_winlink<!-- {{#callable_declaration:notify_winlink}} -->
Notifies a window link with a specified name.
- **Description**: This function is used to send a notification to a specific window link identified by the `winlink` structure. It should be called when there is a need to alert or inform the window link about an event or change. The `name` parameter is a string that represents the notification's name, and the `wl` parameter must point to a valid `winlink` structure. It is important to ensure that the `wl` parameter is not null, as passing a null pointer may lead to undefined behavior.
- **Inputs**:
    - `name`: A pointer to a null-terminated string representing the name of the notification. Must not be null.
    - `wl`: A pointer to a `winlink` structure that represents the target window link. Must not be null.
- **Output**: None
- **See also**: [`notify_winlink`](notify.c.driver.md#notify_winlink)  (Implementation)


---
### notify_session_window<!-- {{#callable_declaration:notify_session_window}} -->
Notifies about a session window.
- **Description**: This function is used to send a notification regarding a specific `session` and its associated `window`. It should be called when there is a need to alert other components or listeners about changes or events related to the specified session window. The function expects that both the `session` and `window` structures are valid and properly initialized before invocation.
- **Inputs**:
    - `name`: A string representing the name of the notification. Must not be null.
    - `s`: A pointer to a `session` structure. Must not be null and should point to a valid session.
    - `w`: A pointer to a `window` structure. Must not be null and should point to a valid window.
- **Output**: The function does not return a value and does not mutate any of the input parameters.
- **See also**: [`notify_session_window`](notify.c.driver.md#notify_session_window)  (Implementation)


---
### notify_window<!-- {{#callable_declaration:notify_window}} -->
Notifies a window with a specified name.
- **Description**: This function is used to send a notification to a window identified by the `w` parameter. It should be called when you want to alert the system or other components about an event related to the specified window. The `name` parameter is a string that represents the notification's name, and the `w` parameter must point to a valid `struct window`. It is important to ensure that the window is properly initialized before calling this function.
- **Inputs**:
    - `name`: A string representing the name of the notification. Must not be null.
    - `w`: A pointer to a `struct window`. This must point to a valid window structure that has been initialized. If `w` is null, the behavior is undefined.
- **Output**: None
- **See also**: [`notify_window`](notify.c.driver.md#notify_window)  (Implementation)


---
### notify_pane<!-- {{#callable_declaration:notify_pane}} -->
Notifies a specified pane with a given name.
- **Description**: This function is used to send a notification to a specific pane identified by the `window_pane` structure. It should be called when you want to alert a pane about an event or change, using the provided `name` as the notification identifier. Ensure that the `window_pane` is valid and properly initialized before calling this function, as passing a null or invalid pointer may lead to undefined behavior.
- **Inputs**:
    - `name`: A string representing the name of the notification. This must not be null and should point to a valid null-terminated string.
    - `wp`: A pointer to a `window_pane` structure representing the target pane for the notification. This pointer must not be null and should point to a valid `window_pane` instance.
- **Output**: None
- **See also**: [`notify_pane`](notify.c.driver.md#notify_pane)  (Implementation)


---
### notify_paste_buffer<!-- {{#callable_declaration:notify_paste_buffer}} -->
Notifies about changes to the paste buffer.
- **Description**: This function should be called to notify the system about changes to a paste buffer, specifically when a paste buffer is deleted or modified. It is important to call this function whenever the state of a paste buffer changes to ensure that any relevant listeners or observers are updated accordingly. The `deleted` parameter indicates whether the paste buffer has been deleted (1) or modified (0). This function does not return a value.
- **Inputs**:
    - `pbname`: A pointer to a null-terminated string representing the name of the paste buffer. This parameter must not be null.
    - `deleted`: An integer flag indicating the state of the paste buffer. It should be 1 if the paste buffer is deleted, and 0 if it has been modified. Valid values are 0 and 1.
- **Output**: None
- **See also**: [`notify_paste_buffer`](notify.c.driver.md#notify_paste_buffer)  (Implementation)


---
### options_create<!-- {{#callable_declaration:options_create}} -->
Creates a new options structure.
- **Description**: This function is used to create a new `options` structure, optionally linking it to a parent `options` structure. It should be called when a new options context is needed, such as when configuring a new session or window. The `parent` parameter can be set to `NULL` if no parent is required. The function allocates memory for the new options structure, and it is the caller's responsibility to free this memory using `options_free` when it is no longer needed.
- **Inputs**:
    - `parent`: A pointer to an existing `options` structure that serves as the parent. This parameter can be `NULL` if no parent is needed. The function does not take ownership of the parent pointer.
- **Output**: Returns a pointer to the newly created `options` structure. If memory allocation fails, the behavior is undefined.
- **See also**: [`options_create`](options.c.driver.md#options_create)  (Implementation)


---
### options_free<!-- {{#callable_declaration:options_free}} -->
Frees the options structure and its entries.
- **Description**: This function should be called to release the memory allocated for an `options` structure and all its associated entries. It is important to ensure that the `options` structure has been properly initialized before calling this function. If the structure is null, the function will safely handle it without any action. After calling this function, the pointer to the `options` structure should not be used, as it will have been freed.
- **Inputs**:
    - `oo`: A pointer to the `options` structure to be freed. Must not be null.
- **Output**: None
- **See also**: [`options_free`](options.c.driver.md#options_free)  (Implementation)


---
### options_get_parent<!-- {{#callable_declaration:options_get_parent}} -->
Retrieves the parent options structure.
- **Description**: This function is used to obtain the parent `options` structure associated with a given `options` instance. It is typically called when you need to access or modify settings that are inherited from a parent options structure. The function should be called with a valid pointer to an `options` structure that has been properly initialized. If the provided pointer is null or if the `options` structure does not have a parent, the behavior is undefined.
- **Inputs**:
    - `oo`: A pointer to an `options` structure. Must not be null. If null is passed, the behavior is undefined.
- **Output**: Returns a pointer to the parent `options` structure. If the `options` instance does not have a parent, the return value may be null.
- **See also**: [`options_get_parent`](options.c.driver.md#options_get_parent)  (Implementation)


---
### options_set_parent<!-- {{#callable_declaration:options_set_parent}} -->
Sets the parent option for a given options structure.
- **Description**: This function is used to establish a parent-child relationship between two `options` structures. It should be called when you want to set a hierarchy of options, allowing the child options to inherit properties from the parent. The `parent` parameter can be `NULL`, which indicates that the specified options structure will not have a parent. It is important to ensure that the `oo` parameter is a valid pointer to an `options` structure before calling this function.
- **Inputs**:
    - `oo`: A pointer to the `options` structure that will have its parent set. Must not be null.
    - `parent`: A pointer to the `options` structure that will be set as the parent. Can be null, indicating no parent.
- **Output**: None
- **See also**: [`options_set_parent`](options.c.driver.md#options_set_parent)  (Implementation)


---
### options_first<!-- {{#callable_declaration:options_first}} -->
Returns the first options entry.
- **Description**: This function retrieves the first entry from the options tree associated with the provided options structure. It is typically used to iterate over the options in a tree structure, and should be called after the options have been properly initialized. If the options structure is null or if the tree is empty, the function will return a null pointer.
- **Inputs**:
    - `oo`: A pointer to an `options` structure that contains the options tree. Must not be null. If the tree is empty, the function will return null.
- **Output**: Returns a pointer to the first `options_entry` in the options tree, or null if the tree is empty.
- **See also**: [`options_first`](options.c.driver.md#options_first)  (Implementation)


---
### options_next<!-- {{#callable_declaration:options_next}} -->
Retrieves the next `options_entry` in the options tree.
- **Description**: This function is used to iterate through the entries in an options tree. It should be called after obtaining a pointer to an `options_entry` from a previous call to `options_first` or another iteration function. If the provided pointer is the last entry in the tree, the function will return `NULL`, indicating that there are no more entries to process.
- **Inputs**:
    - `o`: A pointer to an `options_entry` structure representing the current entry. This pointer must not be `NULL`. If the pointer is invalid or if it does not point to a valid entry in the options tree, the behavior is undefined.
- **Output**: Returns a pointer to the next `options_entry` in the options tree, or `NULL` if there are no more entries.
- **See also**: [`options_next`](options.c.driver.md#options_next)  (Implementation)


---
### options_empty<!-- {{#callable_declaration:options_empty}} -->
Creates an empty options entry.
- **Description**: This function is used to create a new options entry associated with a given options table entry. It should be called when you need to initialize an options entry for a specific option defined in the options table. The function will add the entry to the provided options structure and link it to the specified options table entry. If the options table entry has the flag indicating it is an array, the function will also initialize the array structure for the entry.
- **Inputs**:
    - `oo`: A pointer to the `options` structure where the new entry will be added. This must not be null.
    - `oe`: A pointer to the `options_table_entry` structure that defines the properties of the option being added. This must not be null.
- **Output**: Returns a pointer to the newly created `options_entry`. If the function fails to create the entry, the behavior is undefined.
- **See also**: [`options_empty`](options.c.driver.md#options_empty)  (Implementation)


---
### options_default<!-- {{#callable_declaration:options_default}} -->
Creates a default options entry.
- **Description**: This function is used to create a default `options_entry` based on the provided `options_table_entry`. It should be called when initializing options for a specific context, ensuring that the entry is properly set up with default values. The function handles different types of options, including arrays, strings, commands, and numbers. It is important to ensure that the `options` structure is valid and initialized before calling this function. If the `default_arr` is null for array types, it assigns a default string value. The function may allocate memory for strings, which the caller is responsible for freeing.
- **Inputs**:
    - `oo`: A pointer to an `options` structure that must be initialized and valid. It must not be null.
    - `oe`: A pointer to an `options_table_entry` structure that defines the options entry to create. It must not be null.
- **Output**: Returns a pointer to the newly created `options_entry`. If memory allocation fails, the behavior is undefined.
- **See also**: [`options_default`](options.c.driver.md#options_default)  (Implementation)


---
### options_default_to_string<!-- {{#callable_declaration:options_default_to_string}} -->
Converts the default option value to a string.
- **Description**: This function is used to retrieve the default value of a specified option as a string representation. It should be called with a valid pointer to an `options_table_entry` structure, which contains the type and default value of the option. The function handles various option types, including strings, numbers, keys, colors, flags, and choices, converting them appropriately to their string representations. If the provided option type is unknown, the function will trigger a fatal error. The caller is responsible for freeing the returned string when it is no longer needed.
- **Inputs**:
    - `oe`: A pointer to an `options_table_entry` structure that defines the option. Must not be null. The structure must contain a valid type and default value.
- **Output**: Returns a pointer to a dynamically allocated string representing the default value of the option. The caller must free this string when it is no longer needed.
- **See also**: [`options_default_to_string`](options.c.driver.md#options_default_to_string)  (Implementation)


---
### options_name<!-- {{#callable_declaration:options_name}} -->
Returns the name of the options entry.
- **Description**: This function retrieves the name associated with a given options entry. It should be called with a valid pointer to an `options_entry` structure. If the provided pointer is null, the behavior is undefined, and it may lead to a segmentation fault.
- **Inputs**:
    - `o`: A pointer to an `options_entry` structure. This pointer must not be null, and it should point to a valid options entry. Passing a null pointer will result in undefined behavior.
- **Output**: Returns a pointer to a string representing the name of the options entry. The returned string is owned by the `options_entry` structure and should not be modified or freed by the caller.
- **See also**: [`options_name`](options.c.driver.md#options_name)  (Implementation)


---
### options_owner<!-- {{#callable_declaration:options_owner}} -->
Returns the owner of the specified options entry.
- **Description**: This function retrieves the owner of a given `options_entry`. It is typically used when you need to access the parent options structure associated with a specific entry. The function should be called with a valid `options_entry` pointer, which must not be null. If the provided pointer is null, the behavior is undefined.
- **Inputs**:
    - `o`: A pointer to an `options_entry` structure. Must not be null. If null is passed, the behavior is undefined.
- **Output**: Returns a pointer to the `options` structure that is the owner of the specified `options_entry`. If the entry does not have an owner, the return value may be null.
- **See also**: [`options_owner`](options.c.driver.md#options_owner)  (Implementation)


---
### options_get_only<!-- {{#callable_declaration:options_get_only}} -->
Retrieves an options entry by name.
- **Description**: This function is used to obtain a specific `options_entry` from an `options` structure based on the provided name. It should be called when you need to access configuration options that are stored in the `options` structure. The function first attempts to find the entry directly using the provided name. If the entry is not found, it attempts to map the name to an alternative name and searches again. It is important to ensure that the `options` structure has been properly initialized before calling this function.
- **Inputs**:
    - `oo`: A pointer to the `options` structure from which to retrieve the entry. Must not be null.
    - `name`: A string representing the name of the option to retrieve. Must not be null.
- **Output**: Returns a pointer to the `options_entry` if found; otherwise, returns NULL.
- **See also**: [`options_get_only`](options.c.driver.md#options_get_only)  (Implementation)


---
### options_get<!-- {{#callable_declaration:options_get}} -->
Retrieves an option entry by name from a given options structure.
- **Description**: This function is used to find an `options_entry` associated with a specified name within a given `options` structure. It starts by searching the provided `options` structure and, if the entry is not found, it traverses up to its parent options structure, continuing this process until it either finds the entry or reaches the top of the hierarchy. It is important to ensure that the `options` structure is properly initialized before calling this function. If the specified name does not exist in the options hierarchy, the function will return `NULL`.
- **Inputs**:
    - `oo`: A pointer to an `options` structure from which to retrieve the option entry. Must not be null.
    - `name`: A string representing the name of the option to retrieve. Must not be null.
- **Output**: Returns a pointer to the `options_entry` associated with the specified name, or `NULL` if no such entry exists in the options hierarchy.
- **See also**: [`options_get`](options.c.driver.md#options_get)  (Implementation)


---
### options_array_clear<!-- {{#callable_declaration:options_array_clear}} -->
Clears all items in an options array.
- **Description**: This function is used to clear all items from an options array represented by the provided `options_entry` structure. It should only be called if the `options_entry` is confirmed to be an array, as indicated by the `OPTIONS_IS_ARRAY` macro. If the provided pointer is null or does not point to a valid array, the function will simply return without performing any operations. This function is typically used to free up memory associated with the items in the array before the array is reused or destroyed.
- **Inputs**:
    - `o`: A pointer to an `options_entry` structure representing the options array to be cleared. This pointer must not be null, and it must point to a valid options entry that is confirmed to be an array.
- **Output**: None
- **See also**: [`options_array_clear`](options.c.driver.md#options_array_clear)  (Implementation)


---
### options_array_get<!-- {{#callable_declaration:options_array_get}} -->
Retrieves the value from an options array at a specified index.
- **Description**: This function is used to access a specific value from an options array, which is represented by an `options_entry` structure. It should be called only when the `options_entry` is confirmed to be an array using the `OPTIONS_IS_ARRAY` macro. If the index provided is out of bounds or if the `options_entry` is not an array, the function will return `NULL`. This function is useful for retrieving configuration values stored in an array format.
- **Inputs**:
    - `o`: A pointer to an `options_entry` structure representing the options array. Must not be null and must be a valid array type.
    - `idx`: An unsigned integer representing the index of the desired value in the options array. Must be within the valid range of indices for the array; otherwise, the function will return NULL.
- **Output**: Returns a pointer to the `options_value` at the specified index if successful; otherwise, returns NULL if the input is invalid or the index is out of bounds.
- **See also**: [`options_array_get`](options.c.driver.md#options_array_get)  (Implementation)


---
### options_array_set<!-- {{#callable_declaration:options_array_set}} -->
Sets a value in an options array.
- **Description**: This function is used to set a value in an options array at a specified index. It should be called only when the options entry is confirmed to be an array. If the `value` parameter is NULL, the function will remove the item at the specified index. If the `value` is a valid string, it will be added to the array, and if `append` is set to a non-zero value, the new value will be concatenated to the existing value at that index. The function handles different types of options, including command lists and colors, and will return an error if the provided value is invalid or if the options entry is not of the expected type.
- **Inputs**:
    - `o`: A pointer to the `options_entry` structure representing the options array. Must not be null.
    - `idx`: An unsigned integer representing the index in the options array where the value should be set. Must be within the bounds of the array.
    - `value`: A pointer to a string containing the value to set. Can be NULL to remove the item at the specified index.
    - `append`: An integer flag indicating whether to append the new value to the existing value at the specified index. Must be either 0 or 1.
    - `cause`: A pointer to a char pointer that will be set to an error message if an error occurs. Caller retains ownership of the memory pointed to by this pointer.
- **Output**: Returns 0 on success, -1 on failure. If an error occurs, the `cause` parameter will be set to a descriptive error message.
- **See also**: [`options_array_set`](options.c.driver.md#options_array_set)  (Implementation)


---
### options_array_assign<!-- {{#callable_declaration:options_array_assign}} -->
Assigns values to an options array.
- **Description**: This function is used to assign values to an options array, which is part of a configuration structure. It should be called when you need to set multiple values at once, separated by a specified delimiter. The function expects the options entry to be properly initialized and the input string to contain valid values. If the input string is empty, the function will return immediately without making any changes. If the separator is not defined, it defaults to a space or comma. The function handles memory allocation for the input string, and it is the caller's responsibility to manage the `cause` pointer, which can be used to report errors.
- **Inputs**:
    - `o`: A pointer to an `options_entry` structure that represents the options array to be modified. Must not be null.
    - `s`: A pointer to a null-terminated string containing the values to assign. Must not be null and should not be empty.
    - `cause`: A pointer to a character pointer that can be used to report errors. The caller retains ownership of this pointer.
- **Output**: Returns 0 on success, -1 on failure. If the function fails, it may set the `cause` pointer to a descriptive error message.
- **See also**: [`options_array_assign`](options.c.driver.md#options_array_assign)  (Implementation)


---
### options_array_first<!-- {{#callable_declaration:options_array_first}} -->
Retrieves the first item from an options array.
- **Description**: This function is used to obtain the first item from an options array associated with a given `options_entry`. It should be called only if the `options_entry` is confirmed to be an array using the `OPTIONS_IS_ARRAY` macro. If the `options_entry` is not an array, the function will return `NULL`. This function is useful for iterating over the items in an options array.
- **Inputs**:
    - `o`: A pointer to an `options_entry` structure. This must not be null and must represent an array. If it does not represent an array, the function will return NULL.
- **Output**: Returns a pointer to the first `options_array_item` in the array if the input `options_entry` is valid and represents an array; otherwise, it returns NULL.
- **See also**: [`options_array_first`](options.c.driver.md#options_array_first)  (Implementation)


---
### options_array_next<!-- {{#callable_declaration:options_array_next}} -->
Retrieves the next item in an options array.
- **Description**: This function is used to iterate through items in an options array. It should be called with a pointer to the current item in the array, and it will return a pointer to the next item. If the provided item is the last in the array, the function will return `NULL`. It is important to ensure that the input pointer is valid and points to an item within the array; otherwise, the behavior is undefined.
- **Inputs**:
    - `a`: A pointer to the current `options_array_item`. This pointer must not be null and should point to a valid item within the options array. If the item is the last in the array, the function will return `NULL`.
- **Output**: Returns a pointer to the next `options_array_item` in the array, or `NULL` if the current item is the last one.
- **See also**: [`options_array_next`](options.c.driver.md#options_array_next)  (Implementation)


---
### options_array_item_index<!-- {{#callable_declaration:options_array_item_index}} -->
Returns the index of an options array item.
- **Description**: This function retrieves the index of a specified `options_array_item`. It should be called when you need to access the index associated with a particular item in an options array. The input parameter must be a valid pointer to an `options_array_item` structure. If the pointer is null, the behavior is undefined.
- **Inputs**:
    - `a`: A pointer to an `options_array_item` structure. Must not be null. The function expects a valid pointer to retrieve the index. Passing a null pointer will lead to undefined behavior.
- **Output**: Returns the index of the specified `options_array_item` as an unsigned integer.
- **See also**: [`options_array_item_index`](options.c.driver.md#options_array_item_index)  (Implementation)


---
### options_array_item_value<!-- {{#callable_declaration:options_array_item_value}} -->
Returns a pointer to the value of an options array item.
- **Description**: This function is used to retrieve the value associated with a specific `options_array_item`. It should be called when you need to access the value of an item in an options array, typically after ensuring that the `options_array_item` has been properly initialized. The function returns a pointer to the value, which can be used to read or modify the value as needed.
- **Inputs**:
    - `a`: A pointer to an `options_array_item` structure. This parameter must not be null and should point to a valid options array item that has been initialized. If the pointer is null or invalid, the behavior of the function is undefined.
- **Output**: Returns a pointer to the `options_value` associated with the specified `options_array_item`. This pointer can be used to access or modify the value directly.
- **See also**: [`options_array_item_value`](options.c.driver.md#options_array_item_value)  (Implementation)


---
### options_is_array<!-- {{#callable_declaration:options_is_array}} -->
Checks if an options entry is an array.
- **Description**: This function is used to determine whether a given options entry represents an array type. It should be called with a valid pointer to an `options_entry` structure. If the pointer is null or points to an invalid entry, the behavior is undefined.
- **Inputs**:
    - `o`: A pointer to an `options_entry` structure. Must not be null. If the pointer is invalid, the function may exhibit undefined behavior.
- **Output**: Returns a non-zero value if the options entry is an array; otherwise, it returns zero.
- **See also**: [`options_is_array`](options.c.driver.md#options_is_array)  (Implementation)


---
### options_is_string<!-- {{#callable_declaration:options_is_string}} -->
Checks if an options entry is a string.
- **Description**: This function is used to determine whether a given options entry is of type string. It should be called with a valid pointer to an `options_entry` structure. If the pointer is null or the entry does not represent a string, the function will return a value indicating that it is not a string. This is useful for validating options before processing them.
- **Inputs**:
    - `o`: A pointer to an `options_entry` structure. Must not be null. If the pointer is null, the behavior is undefined.
- **Output**: Returns a non-zero value if the options entry is a string; otherwise, it returns zero.
- **See also**: [`options_is_string`](options.c.driver.md#options_is_string)  (Implementation)


---
### options_to_string<!-- {{#callable_declaration:options_to_string}} -->
Converts options to a string representation.
- **Description**: This function is used to convert the contents of an `options_entry` structure into a human-readable string format. It can be called with an index to retrieve a specific item from an array of options or with an index of -1 to concatenate all items in the array. The `numeric` parameter determines whether numeric values should be included in the output. It is important to ensure that the `options_entry` is properly initialized before calling this function. If the specified index is out of bounds or if the options entry is empty, an empty string will be returned.
- **Inputs**:
    - `o`: A pointer to an `options_entry` structure that contains the options to be converted. Must not be null.
    - `idx`: An integer index specifying which item to convert. If set to -1, all items in the options array will be concatenated. Valid values are -1 or any valid index within the bounds of the options array.
    - `numeric`: An integer flag that indicates whether numeric values should be included in the output. Accepts any integer value.
- **Output**: Returns a pointer to a string containing the formatted options. The caller is responsible for freeing the returned string. If there are no options to convert, an empty string is returned.
- **See also**: [`options_to_string`](options.c.driver.md#options_to_string)  (Implementation)


---
### options_parse<!-- {{#callable_declaration:options_parse}} -->
Parses an options string.
- **Description**: This function is used to parse a given options string, extracting an index if specified. It should be called with a non-empty string. If the string contains an index enclosed in square brackets (e.g., "option[1]"), the index will be extracted and stored in the provided integer pointer. If the string does not contain an index, the function will return the string without modification and set the index to -1. If the input string is empty or improperly formatted, the function will return NULL.
- **Inputs**:
    - `name`: A pointer to a null-terminated string representing the options to parse. Must not be null or empty. If the string is empty, the function returns NULL.
    - `idx`: A pointer to an integer where the parsed index will be stored. The function will set this to -1 if no index is found, or to the parsed index if one is found.
- **Output**: Returns a newly allocated string containing the parsed options without the index part. If the input is invalid, it returns NULL.
- **See also**: [`options_parse`](options.c.driver.md#options_parse)  (Implementation)


---
### options_parse_get<!-- {{#callable_declaration:options_parse_get}} -->
Retrieves an option entry based on a parsed string.
- **Description**: This function is used to obtain an `options_entry` from an `options` structure by parsing a given string. It should be called when you need to retrieve specific option settings based on a user-defined string. The function first parses the string to extract the option name, and then retrieves the corresponding option entry based on whether the 'only' flag is set. It is important to ensure that the input string is valid and that the `options` structure has been properly initialized before calling this function.
- **Inputs**:
    - `oo`: A pointer to an `options` structure that contains the options entries. Must not be null.
    - `s`: A pointer to a null-terminated string representing the option name to be parsed. Must not be null.
    - `idx`: A pointer to an integer that will be updated with the index of the parsed option name. The caller retains ownership of this variable.
    - `only`: An integer flag that determines whether to retrieve only the specified option. Valid values are 0 (retrieve any matching option) or 1 (retrieve only the specified option).
- **Output**: Returns a pointer to the corresponding `options_entry` if found, or NULL if the option name could not be parsed or does not exist.
- **See also**: [`options_parse_get`](options.c.driver.md#options_parse_get)  (Implementation)


---
### options_match<!-- {{#callable_declaration:options_match}} -->
Matches an option string against a predefined options table.
- **Description**: This function is used to match a given option string against a predefined options table. It should be called with a valid option string, and it will parse the string to find a corresponding entry in the options table. The function also provides information about whether the match is ambiguous. The caller must ensure that the `idx` and `ambiguous` pointers are valid and can be modified. If the input string is not valid or does not match any options, the function will return `NULL` and set `ambiguous` to indicate if multiple matches were found.
- **Inputs**:
    - `s`: A pointer to a null-terminated string representing the option to match. Must not be null.
    - `idx`: A pointer to an integer that will be updated with the index of the matched option. Must not be null.
    - `ambiguous`: A pointer to an integer that will be set to indicate if the match is ambiguous (1 if ambiguous, 0 if not). Must not be null.
- **Output**: Returns a pointer to a dynamically allocated string representing the matched option name, or NULL if no match is found or if the input is invalid.
- **See also**: [`options_match`](options.c.driver.md#options_match)  (Implementation)


---
### options_match_get<!-- {{#callable_declaration:options_match_get}} -->
Retrieves an option entry that matches a given string.
- **Description**: This function is used to find an `options_entry` in the provided `options` structure that matches the specified string. It should be called when you need to retrieve an option based on a string identifier. The function takes an index pointer to track the position of the match and an 'ambiguous' pointer to indicate if the match is ambiguous. The 'only' parameter specifies whether to retrieve only the exact match or allow for broader matches. It is important to ensure that the `options` structure is properly initialized before calling this function.
- **Inputs**:
    - `oo`: A pointer to the `options` structure containing the options to search. Must not be null.
    - `s`: A string to match against the option names. Must not be null.
    - `idx`: A pointer to an integer that tracks the index of the match. The caller retains ownership and must ensure it is initialized.
    - `only`: An integer flag indicating whether to retrieve only exact matches (1) or allow broader matches (0). Valid values are 0 or 1.
    - `ambiguous`: A pointer to an integer that will be set to indicate if the match is ambiguous. The caller retains ownership and must ensure it is initialized.
- **Output**: Returns a pointer to the matching `options_entry` if found, or NULL if no match is found. The `ambiguous` output parameter will be set to 0 if the match is unambiguous.
- **See also**: [`options_match_get`](options.c.driver.md#options_match_get)  (Implementation)


---
### options_get_string<!-- {{#callable_declaration:options_get_string}} -->
Retrieves the string value of a specified option.
- **Description**: This function is used to obtain the string value associated with a given option name from the options structure. It should be called after the options have been properly initialized. If the specified option does not exist or is not of string type, the function will terminate the program with an error message. Therefore, it is important to ensure that the option name provided is valid and that it corresponds to a string type option.
- **Inputs**:
    - `oo`: A pointer to the `options` structure from which the string value is to be retrieved. Must not be null.
    - `name`: A pointer to a null-terminated string representing the name of the option. Must not be null.
- **Output**: Returns a pointer to the string value of the specified option. If the option does not exist or is not a string, the program will terminate with an error.
- **See also**: [`options_get_string`](options.c.driver.md#options_get_string)  (Implementation)


---
### options_get_number<!-- {{#callable_declaration:options_get_number}} -->
Retrieves a numeric option value.
- **Description**: This function is used to obtain the numeric value associated with a specified option name from the provided options structure. It should be called after the options have been properly initialized. If the specified option does not exist or is not a number, the function will terminate the program with an error message. Therefore, it is essential to ensure that the option name provided is valid and that it corresponds to a numeric value.
- **Inputs**:
    - `oo`: A pointer to the `options` structure from which the option value is to be retrieved. Must not be null.
    - `name`: A string representing the name of the option to retrieve. Must not be null and should correspond to a valid option that is expected to hold a numeric value.
- **Output**: Returns the numeric value associated with the specified option. If the option does not exist or is not a number, the program will terminate with an error.
- **See also**: [`options_get_number`](options.c.driver.md#options_get_number)  (Implementation)


---
### options_get_command<!-- {{#callable_declaration:options_get_command}} -->
Retrieves a command from the options.
- **Description**: This function is used to obtain a command associated with a specific name from the provided options structure. It should be called when you need to access a command that has been defined in the options. The function will return a pointer to the command list if the command exists and is valid. If the specified name does not correspond to a valid option or if the option is not a command, the function will terminate the program with an error.
- **Inputs**:
    - `oo`: A pointer to an `options` structure that contains the options from which to retrieve the command. Must not be null.
    - `name`: A string representing the name of the command to retrieve. Must not be null and should correspond to a valid command name in the options.
- **Output**: Returns a pointer to a `cmd_list` structure representing the command associated with the specified name. If the command does not exist or is not valid, the program will terminate with an error.
- **See also**: [`options_get_command`](options.c.driver.md#options_get_command)  (Implementation)


---
### options_set_number<!-- {{#callable_declaration:options_set_number}} -->
Sets a numeric option value.
- **Description**: This function is used to set a numeric value for a specified option in the options structure. It should be called after the options structure has been properly initialized. If the `name` parameter starts with '@', or if the specified option is not of type number, the function will trigger a fatal error. If the option does not exist, it will attempt to create a default entry for it. The function returns a pointer to the options entry that was modified, or NULL if the option could not be set.
- **Inputs**:
    - `oo`: A pointer to the `options` structure where the option is to be set. Must not be null.
    - `name`: A string representing the name of the option to set. Must not be null and must not start with '@'.
    - `value`: The numeric value to set for the option. This should be a valid long long integer.
- **Output**: Returns a pointer to the modified `options_entry` if successful, or NULL if the option could not be set.
- **See also**: [`options_set_number`](options.c.driver.md#options_set_number)  (Implementation)


---
### options_set_command<!-- {{#callable_declaration:options_set_command}} -->
Sets a command option.
- **Description**: This function is used to set a command option in the specified options structure. It should be called when you need to define or update a command associated with a given name. The `name` parameter must not start with '@', and the option must be a valid command type. If the option does not exist, it will attempt to create a default entry based on the parent options. If the option is already set, its previous command list will be freed before assigning the new one.
- **Inputs**:
    - `oo`: A pointer to the `options` structure where the command option will be set. Must not be null.
    - `name`: A string representing the name of the command option to set. Must not be null and must not start with '@'.
    - `value`: A pointer to a `cmd_list` structure representing the command to be set. Caller retains ownership of this pointer.
- **Output**: Returns a pointer to the `options_entry` that was set, or NULL if the option could not be created or is not a valid command.
- **See also**: [`options_set_command`](options.c.driver.md#options_set_command)  (Implementation)


---
### options_scope_from_name<!-- {{#callable_declaration:options_scope_from_name}} -->
Retrieves the options scope based on the provided name.
- **Description**: This function is used to determine the scope of options based on a given name, which can be useful for configuring settings in a session, window, or pane. It should be called with a valid `args` structure and a `cmd_find_state` that represents the current context. The function checks if the name starts with '@' to handle flags differently. If the name is not recognized, it populates the `cause` parameter with an error message. The function also handles various scopes, including server, session, window, and pane, and returns the appropriate scope constant.
- **Inputs**:
    - `args`: A pointer to a `struct args` that contains the command arguments. Must not be null.
    - `window`: An integer representing the window identifier. Valid values depend on the context.
    - `name`: A string representing the name of the option. Must not be null.
    - `fs`: A pointer to a `struct cmd_find_state` that indicates the current state. Must not be null.
    - `oo`: A pointer to a pointer to `struct options` where the resulting options will be stored. Caller retains ownership.
    - `cause`: A pointer to a string where error messages can be stored. Can be null.
- **Output**: Returns an integer representing the scope of the options. If the name is unknown, it returns `OPTIONS_TABLE_NONE` and populates `cause` with an error message.
- **See also**: [`options_scope_from_name`](options.c.driver.md#options_scope_from_name)  (Implementation)


---
### options_scope_from_flags<!-- {{#callable_declaration:options_scope_from_flags}} -->
Determines the options scope based on provided flags.
- **Description**: This function is used to determine the appropriate options scope based on the provided command-line arguments and the current state of the session, window, or pane. It should be called when you need to retrieve options for a specific target, such as a session, window, or pane. The function checks the flags in the `args` structure to decide which options to return. If the specified target does not exist, an error message is generated and returned through the `cause` parameter. It is important to ensure that the `args` structure is properly initialized before calling this function.
- **Inputs**:
    - `args`: A pointer to a `struct args` that contains the command-line arguments. This must not be null.
    - `window`: An integer indicating whether to consider window options. Valid values are 0 or 1.
    - `fs`: A pointer to a `struct cmd_find_state` that represents the current state of the command. This must not be null.
    - `oo`: A pointer to a pointer to `struct options` where the resulting options will be stored. The caller retains ownership of this pointer.
    - `cause`: A pointer to a character pointer where error messages can be stored. This may be modified to point to a dynamically allocated string.
- **Output**: Returns an integer indicating the type of options table that was accessed, which can be one of the predefined constants such as OPTIONS_TABLE_SERVER, OPTIONS_TABLE_SESSION, OPTIONS_TABLE_WINDOW, or OPTIONS_TABLE_PANE. If an error occurs, OPTIONS_TABLE_NONE is returned.
- **See also**: [`options_scope_from_flags`](options.c.driver.md#options_scope_from_flags)  (Implementation)


---
### options_string_to_style<!-- {{#callable_declaration:options_string_to_style}} -->
Converts an options string to a style.
- **Description**: This function is used to retrieve a style associated with a given options string from the provided options structure. It should be called after ensuring that the options structure has been properly initialized. If the specified option does not exist or is not a string, the function will return NULL. If the option is a string and has not been cached, it will parse the string to create a style, potentially using a format tree for expansion. If the parsing fails, NULL is returned. The function may also cache the style for future use.
- **Inputs**:
    - `oo`: A pointer to the `options` structure from which the style is to be retrieved. Must not be null.
    - `name`: A string representing the name of the option to retrieve. Must not be null.
    - `ft`: A pointer to a `format_tree` structure used for expanding the option string. Can be null.
- **Output**: Returns a pointer to a `style` structure if successful, or NULL if the option does not exist, is not a string, or if parsing fails.
- **See also**: [`options_string_to_style`](options.c.driver.md#options_string_to_style)  (Implementation)


---
### options_from_string<!-- {{#callable_declaration:options_from_string}} -->
Parses options from a string.
- **Description**: This function is used to parse and set options based on a provided string value. It should be called when you need to update options in a given options structure based on user input or configuration files. The function validates the input against the specified options table entry, ensuring that the value is appropriate for the option type. If the value is invalid or if there are any parsing errors, an error message is returned through the `cause` parameter. It is important to ensure that the `name` parameter is correctly formatted and that the `value` is not null for non-flag and non-choice types.
- **Inputs**:
    - `oo`: A pointer to the `options` structure that will be modified. Must not be null.
    - `oe`: A pointer to the `options_table_entry` that describes the option being set. Can be null if the name is prefixed with '@'.
    - `name`: A string representing the name of the option to set. Must not be null and should be properly formatted.
    - `value`: A string containing the value to set for the option. Must not be null for non-flag and non-choice types.
    - `append`: An integer indicating whether to append the value to an existing option. Valid values are 0 (do not append) or 1 (append).
    - `cause`: A pointer to a string pointer where error messages will be stored if parsing fails. The caller is responsible for freeing this string.
- **Output**: Returns 0 on success, or -1 if an error occurs, with an error message stored in `cause`.
- **See also**: [`options_from_string`](options.c.driver.md#options_from_string)  (Implementation)


---
### options_find_choice<!-- {{#callable_declaration:options_find_choice}} -->
Finds the index of a choice in the options table.
- **Description**: This function is used to locate the index of a specified choice value within a predefined set of choices associated with an options table entry. It should be called when you need to validate a choice against the available options. The function expects that the `options_table_entry` structure has been properly initialized and contains a valid list of choices. If the provided value does not match any of the choices, the function will return -1 and set the `cause` pointer to a descriptive error message indicating the unknown value.
- **Inputs**:
    - `oe`: A pointer to an `options_table_entry` structure that contains the choices to search through. Must not be null.
    - `value`: A string representing the choice to find. Must not be null.
    - `cause`: A pointer to a string pointer where an error message will be stored if the value is not found. The caller retains ownership of the memory pointed to by this pointer.
- **Output**: Returns the index of the found choice if successful, or -1 if the choice is not found, with an error message set in `cause`.
- **See also**: [`options_find_choice`](options.c.driver.md#options_find_choice)  (Implementation)


---
### options_push_changes<!-- {{#callable_declaration:options_push_changes}} -->
Pushes changes for the specified option.
- **Description**: This function is used to apply changes to various options in the system. It should be called when an option's value has been modified and the system needs to reflect these changes across relevant components. The function handles multiple option names, each triggering specific updates, such as refreshing window styles or resetting alerts. It is important to ensure that the option name provided is valid; otherwise, the function may not perform any actions.
- **Inputs**:
    - `name`: A string representing the name of the option to push changes for. Valid option names include 'automatic-rename', 'cursor-colour', 'cursor-style', 'fill-character', 'key-table', 'user-keys', 'status', 'status-interval', 'monitor-silence', 'window-style', 'window-active-style', 'pane-colours', 'pane-border-status', 'pane-scrollbars', 'pane-scrollbars-position', 'pane-scrollbars-style', 'codepoint-widths', and 'input-buffer-size'. The caller retains ownership of the string, and it must not be null.
- **Output**: None
- **See also**: [`options_push_changes`](options.c.driver.md#options_push_changes)  (Implementation)


---
### options_remove_or_default<!-- {{#callable_declaration:options_remove_or_default}} -->
Removes an option or resets it to its default value.
- **Description**: This function is used to remove an option from the options entry or reset it to its default value based on the provided index. It should be called when you want to modify the options associated with a specific entry. If the index is -1 and the entry is part of global options, the function will reset the option to its default value. If the index is valid, it will attempt to remove the option at that index. The caller must ensure that the `options_entry` structure is properly initialized before calling this function.
- **Inputs**:
    - `o`: A pointer to the `options_entry` structure representing the option to be modified. Must not be null.
    - `idx`: An integer index indicating which option to remove. Valid values are -1 (to reset to default) or a non-negative index corresponding to the option to be removed. If the index is invalid, the function will return an error.
    - `cause`: A pointer to a character pointer that will be used to store an error message if the operation fails. The caller retains ownership of this pointer, and it may be set to null if no error message is needed.
- **Output**: Returns 0 on success, or -1 if an error occurs during the operation.
- **See also**: [`options_remove_or_default`](options.c.driver.md#options_remove_or_default)  (Implementation)


---
### job_run<!-- {{#callable_declaration:job_run}} -->
Runs a command in a new job.
- **Description**: This function is used to execute a command or a program in a new job context, optionally within a specified working directory and environment. It is essential to call this function after initializing the necessary components, such as the session and environment. The function can handle various configurations, including whether to use a pseudo-terminal (PTY) or not. If the command execution fails, it will return `NULL`. The job created by this function can be monitored and managed using the provided callback functions for updates, completion, and cleanup.
- **Inputs**:
    - `cmd`: A string representing the command to execute. Can be NULL if `argv` is provided. Must not be NULL if `argc` and `argv` are used.
    - `argc`: An integer representing the number of arguments in `argv`. Must be non-negative.
    - `argv`: An array of strings representing the command-line arguments. Must not be NULL.
    - `e`: A pointer to an `environ` structure representing the environment variables. Can be NULL.
    - `s`: A pointer to a `session` structure representing the session context. Must not be NULL.
    - `cwd`: A string representing the current working directory. Can be NULL, in which case the home directory will be used.
    - `updatecb`: A callback function to be called for job updates. Can be NULL.
    - `completecb`: A callback function to be called when the job completes. Can be NULL.
    - `freecb`: A callback function to be called for cleaning up job resources. Can be NULL.
    - `data`: A pointer to user-defined data to be passed to the callback functions. Can be NULL.
    - `flags`: An integer representing job options. Must be a combination of defined flags.
    - `sx`: An integer representing the width of the terminal in characters. Must be positive.
    - `sy`: An integer representing the height of the terminal in characters. Must be positive.
- **Output**: Returns a pointer to a `job` structure representing the newly created job, or NULL if the job could not be started.
- **See also**: [`job_run`](job.c.driver.md#job_run)  (Implementation)


---
### job_free<!-- {{#callable_declaration:job_free}} -->
Frees the resources associated with a job.
- **Description**: This function should be called to release all resources associated with a `job` structure when it is no longer needed. It is important to ensure that the `job` has been properly initialized before calling this function. The function handles the cleanup of various resources, including terminating the job's process if it is still running, freeing any allocated command strings, and invoking a user-defined callback for additional cleanup if provided. If the `job` structure contains a valid event, it will also be freed.
- **Inputs**:
    - `job`: A pointer to a `struct job` that must not be null. This structure should have been previously allocated and initialized. If the pointer is null, the behavior is undefined.
- **Output**: None
- **See also**: [`job_free`](job.c.driver.md#job_free)  (Implementation)


---
### job_transfer<!-- {{#callable_declaration:job_transfer}} -->
Transfers a job and retrieves its process ID and terminal.
- **Description**: This function is used to transfer a `job` structure, which contains information about a running job, including its file descriptor, process ID, and terminal. It should be called when you want to finalize the job and retrieve its associated resources. The function can be called with `pid` and `tty` parameters to obtain the job's process ID and terminal name, respectively. If `pid` is not NULL, the job's process ID will be copied to the location pointed to by `pid`. If `tty` is not NULL, the job's terminal name will be copied to the buffer pointed to by `tty`, ensuring that the buffer is large enough as specified by `ttylen`. After transferring the job, the function will clean up any associated resources, including freeing the job's command string and invoking a callback if provided.
- **Inputs**:
    - `job`: A pointer to a `struct job` that must not be null. This structure contains the job's details and must be valid.
    - `pid`: A pointer to a `pid_t` variable where the job's process ID will be stored. This can be NULL if the process ID is not needed.
    - `tty`: A pointer to a character buffer where the job's terminal name will be copied. This buffer must be large enough to hold the terminal name, as specified by `ttylen`. If this is NULL, the terminal name will not be copied.
    - `ttylen`: The size of the `tty` buffer. This must be greater than zero to ensure safe copying of the terminal name.
- **Output**: Returns the file descriptor associated with the job. If the job is successfully transferred, this value will be valid; otherwise, it may indicate an error.
- **See also**: [`job_transfer`](job.c.driver.md#job_transfer)  (Implementation)


---
### job_resize<!-- {{#callable_declaration:job_resize}} -->
Resizes a job's terminal window.
- **Description**: This function should be called to adjust the size of a job's terminal window to the specified dimensions. It is important to ensure that the job is properly initialized and that it is associated with a pseudo-terminal (PTY) before invoking this function. If the job's file descriptor is invalid or if the job is not associated with a PTY, the function will return without making any changes. The function does not return any value, but it will attempt to apply the new size using the `ioctl` system call, which may fail if the terminal does not support resizing.
- **Inputs**:
    - `job`: A pointer to a `struct job` that represents the job whose terminal size is to be changed. This pointer must not be null.
    - `sx`: An unsigned integer representing the new width of the terminal in columns. Must be a positive value.
    - `sy`: An unsigned integer representing the new height of the terminal in rows. Must be a positive value.
- **Output**: None
- **See also**: [`job_resize`](job.c.driver.md#job_resize)  (Implementation)


---
### job_check_died<!-- {{#callable_declaration:job_check_died}} -->
Checks if a job has died and updates its status.
- **Description**: This function should be called to check the status of a job identified by its process ID (`pid`). It updates the job's status based on the provided `status` value. If the job is found and has stopped due to signals like `SIGTTIN` or `SIGTTOU`, it will not be resumed. If the job has died, it will log the event and invoke a completion callback if defined, before freeing the job. It is important to ensure that this function is called with a valid `pid` that corresponds to a job in the system.
- **Inputs**:
    - `pid`: The process ID of the job to check. Must be a valid process ID that corresponds to a job in the system.
    - `status`: The exit status of the job. This should be a valid status value returned by the wait functions, such as those from the POSIX standard.
- **Output**: None
- **See also**: [`job_check_died`](job.c.driver.md#job_check_died)  (Implementation)


---
### job_get_status<!-- {{#callable_declaration:job_get_status}} -->
Retrieves the status of a job.
- **Description**: This function is used to obtain the current status of a job represented by a `job` structure. It should be called after the job has been created and initialized. The function returns an integer value that indicates the job's status, which can be used to determine if the job is running, completed, or has encountered an error. It is important to ensure that the `job` pointer passed to this function is valid and points to an initialized job structure.
- **Inputs**:
    - `job`: A pointer to a `job` structure that represents the job whose status is to be retrieved. This pointer must not be null and must point to a valid, initialized job structure.
- **Output**: Returns an integer representing the status of the job. The specific values returned depend on the implementation of the job structure.
- **See also**: [`job_get_status`](job.c.driver.md#job_get_status)  (Implementation)


---
### job_get_data<!-- {{#callable_declaration:job_get_data}} -->
Retrieves the data associated with a job.
- **Description**: This function is used to obtain the data pointer from a `job` structure. It should be called after the job has been properly initialized. If the `job` pointer is null, the behavior is undefined, so it is essential to ensure that a valid `job` is passed to this function.
- **Inputs**:
    - `job`: A pointer to a `job` structure from which the data is to be retrieved. Must not be null; passing a null pointer will lead to undefined behavior.
- **Output**: Returns a pointer to the data associated with the specified job. If the job has not been initialized or if the job pointer is null, the return value is undefined.
- **See also**: [`job_get_data`](job.c.driver.md#job_get_data)  (Implementation)


---
### job_get_event<!-- {{#callable_declaration:job_get_event}} -->
Retrieves the associated event from a job.
- **Description**: This function is used to obtain the `bufferevent` associated with a given `job`. It should be called after the job has been properly initialized and is expected to be valid. If the `job` pointer is null or invalid, the behavior is undefined.
- **Inputs**:
    - `job`: A pointer to a `job` structure. Must not be null. The function assumes that the job has been initialized and is valid.
- **Output**: Returns a pointer to the associated `bufferevent` if it exists; otherwise, the behavior is undefined.
- **See also**: [`job_get_event`](job.c.driver.md#job_get_event)  (Implementation)


---
### job_kill_all<!-- {{#callable_declaration:job_kill_all}} -->
Terminates all active jobs.
- **Description**: This function is used to send a termination signal to all jobs that are currently active. It should be called when there is a need to stop all running jobs, such as during a cleanup process or when shutting down an application. The function iterates through all jobs and sends the `SIGTERM` signal to each job that has a valid process ID (PID). It is important to note that this function does not return any value and does not require any parameters.
- **Inputs**:
    - None
- **Output**: None
- **See also**: [`job_kill_all`](job.c.driver.md#job_kill_all)  (Implementation)


---
### job_still_running<!-- {{#callable_declaration:job_still_running}} -->
Checks if any jobs are still running.
- **Description**: This function is used to determine if there are any jobs currently in a running state. It should be called when you need to check the status of jobs, particularly in scenarios where you may want to wait for jobs to complete before proceeding. The function iterates through all jobs and returns a non-zero value if at least one job is running and does not have the JOB_NOWAIT flag set. If no such jobs are found, it returns zero.
- **Inputs**:
    - None
- **Output**: Returns 1 if there are jobs still running, otherwise returns 0.
- **See also**: [`job_still_running`](job.c.driver.md#job_still_running)  (Implementation)


---
### job_print_summary<!-- {{#callable_declaration:job_print_summary}} -->
Prints a summary of all jobs.
- **Description**: This function is used to print a summary of all jobs currently managed by the system. It should be called when you want to display the status of jobs, typically after job management has been initialized. The function takes a command queue item to which the output will be sent, and a blank flag that determines whether to print a blank line before the job summaries. If the blank flag is set, a blank line will be printed before the job details.
- **Inputs**:
    - `item`: A pointer to a `cmdq_item` structure that represents the command queue item to which the job summary will be printed. This pointer must not be null.
    - `blank`: An integer flag that indicates whether to print a blank line before the job summaries. It can be either 0 (no blank line) or 1 (print a blank line). This parameter is expected to be either 0 or 1.
- **Output**: This function does not return a value and does not modify any input parameters.
- **See also**: [`job_print_summary`](job.c.driver.md#job_print_summary)  (Implementation)


---
### environ_create<!-- {{#callable_declaration:environ_create}} -->
Creates a new environment structure.
- **Description**: This function is used to create a new instance of an `environ` structure, which is typically used to manage environment variables. It should be called when a new environment is needed, such as when initializing a new session or process. The function allocates memory for the environment structure and initializes it to a default state. It is important to ensure that the created environment is properly freed using `environ_free` when it is no longer needed to avoid memory leaks.
- **Inputs**:
    - None
- **Output**: Returns a pointer to the newly created `environ` structure. If memory allocation fails, the behavior is undefined, and the caller should ensure that the environment is checked before use.
- **See also**: [`environ_create`](environ.c.driver.md#environ_create)  (Implementation)


---
### environ_free<!-- {{#callable_declaration:environ_free}} -->
Frees the environment structure and its entries.
- **Description**: This function is used to release all resources associated with an `environ` structure, which represents a collection of environment variables. It should be called when the environment is no longer needed to prevent memory leaks. The function iterates through all entries in the environment, freeing the memory allocated for each entry's name and value, as well as the entry itself. Finally, it frees the `environ` structure itself. It is important to ensure that the `env` parameter is not null before calling this function.
- **Inputs**:
    - `env`: A pointer to an `environ` structure that contains environment entries. Must not be null. If the pointer is null, the behavior is undefined.
- **Output**: None
- **See also**: [`environ_free`](environ.c.driver.md#environ_free)  (Implementation)


---
### environ_first<!-- {{#callable_declaration:environ_first}} -->
Returns the first entry in the environment.
- **Description**: This function retrieves the first entry from the specified environment structure. It is typically used when iterating over environment variables, and should be called after the environment has been properly initialized. If the environment is empty, the function will return a null pointer.
- **Inputs**:
    - `env`: A pointer to an `environ` structure that holds the environment entries. Must not be null.
- **Output**: Returns a pointer to the first `environ_entry` in the environment, or NULL if the environment is empty.
- **See also**: [`environ_first`](environ.c.driver.md#environ_first)  (Implementation)


---
### environ_next<!-- {{#callable_declaration:environ_next}} -->
Retrieves the next environment entry.
- **Description**: This function is used to iterate through environment entries in a linked list. It should be called with a pointer to the current `environ_entry` to get the next entry in the sequence. If the provided pointer is `NULL`, the behavior is undefined. This function is typically used in conjunction with `environ_first` to traverse all environment entries.
- **Inputs**:
    - `envent`: A pointer to the current `environ_entry`. This parameter must not be null. If it is null, the behavior is undefined.
- **Output**: Returns a pointer to the next `environ_entry` in the list, or `NULL` if there are no more entries.
- **See also**: [`environ_next`](environ.c.driver.md#environ_next)  (Implementation)


---
### environ_copy<!-- {{#callable_declaration:environ_copy}} -->
Copies environment variables from the source environment to the destination environment.
- **Description**: This function is used to duplicate the entries from one environment structure to another. It should be called when you need to create a copy of an environment, such as when initializing a new session or client. The source environment must be valid and initialized, while the destination environment should also be valid and ready to receive entries. If an entry in the source environment has a null value, the corresponding entry in the destination environment will be cleared.
- **Inputs**:
    - `srcenv`: A pointer to the source `struct environ` from which to copy entries. Must not be null and must be initialized.
    - `dstenv`: A pointer to the destination `struct environ` where entries will be copied. Must not be null and must be initialized.
- **Output**: None
- **See also**: [`environ_copy`](environ.c.driver.md#environ_copy)  (Implementation)


---
### environ_find<!-- {{#callable_declaration:environ_find}} -->
Finds an environment variable entry by name.
- **Description**: This function is used to retrieve an `environ_entry` from a given `environ` structure based on the specified variable name. It should be called when you need to check for the existence of a specific environment variable within the provided environment structure. The `name` parameter must not be null, and the function will return a pointer to the corresponding `environ_entry` if found, or null if the variable does not exist.
- **Inputs**:
    - `env`: A pointer to the `environ` structure that contains the environment variables. Must not be null.
    - `name`: A pointer to a null-terminated string representing the name of the environment variable to search for. Must not be null.
- **Output**: Returns a pointer to the `environ_entry` corresponding to the specified name if found; otherwise, returns null.
- **See also**: [`environ_find`](environ.c.driver.md#environ_find)  (Implementation)


---
### environ_clear<!-- {{#callable_declaration:environ_clear}} -->
Clears or initializes an environment variable.
- **Description**: This function is used to either clear the value of an environment variable specified by `name` or to initialize it if it does not exist. It should be called with a valid `struct environ` pointer that has been properly initialized. If the variable already exists, its value will be freed and set to NULL. If it does not exist, a new entry will be created with the specified name and a NULL value.
- **Inputs**:
    - `env`: A pointer to a `struct environ` that represents the environment. Must not be null.
    - `name`: A string representing the name of the environment variable to clear or initialize. Must not be null.
- **Output**: None
- **See also**: [`environ_clear`](environ.c.driver.md#environ_clear)  (Implementation)


---
### environ_put<!-- {{#callable_declaration:environ_put}} -->
Adds an environment variable to the specified environment.
- **Description**: This function is used to add an environment variable to a specified environment structure. It expects the variable to be in the format 'name=value'. The function will extract the name and value from the input string, and if the input is valid, it will call another function to set the variable in the environment. It is important to ensure that the input string is not null and contains an '=' character to separate the name from the value. If the input does not meet these criteria, the function will not perform any action.
- **Inputs**:
    - `env`: A pointer to the `environ` structure where the variable will be added. Must not be null.
    - `var`: A string representing the environment variable in the format 'name=value'. Must not be null and must contain an '=' character.
    - `flags`: An integer representing flags for setting the environment variable. The valid range depends on the specific implementation and usage context.
- **Output**: None
- **See also**: [`environ_put`](environ.c.driver.md#environ_put)  (Implementation)


---
### environ_unset<!-- {{#callable_declaration:environ_unset}} -->
Removes an environment variable from the specified environment.
- **Description**: This function is used to remove an environment variable from a given environment structure. It should be called when you want to delete a specific variable from the environment. The function does not perform any action if the specified variable does not exist in the environment. It is important to ensure that the `env` parameter is valid and properly initialized before calling this function.
- **Inputs**:
    - `env`: A pointer to the `struct environ` from which the variable will be removed. Must not be null and should be properly initialized.
    - `name`: A pointer to a null-terminated string representing the name of the environment variable to be removed. Must not be null.
- **Output**: None
- **See also**: [`environ_unset`](environ.c.driver.md#environ_unset)  (Implementation)


---
### environ_update<!-- {{#callable_declaration:environ_update}} -->
Updates the destination environment based on the source environment.
- **Description**: This function is used to synchronize environment variables from a source environment to a destination environment based on specified options. It should be called after the options have been properly initialized. The function iterates through the options specified for updating the environment, and for each option, it checks if a corresponding entry exists in the source environment. If a match is found, the variable is set in the destination environment; if no match is found, the variable is cleared from the destination environment. It is important to ensure that the source and destination environments are valid before calling this function.
- **Inputs**:
    - `oo`: A pointer to a `struct options` that contains the options for updating the environment. Must not be null.
    - `src`: A pointer to a `struct environ` representing the source environment from which variables will be copied. Must not be null.
    - `dst`: A pointer to a `struct environ` representing the destination environment where variables will be set or cleared. Must not be null.
- **Output**: None
- **See also**: [`environ_update`](environ.c.driver.md#environ_update)  (Implementation)


---
### environ_push<!-- {{#callable_declaration:environ_push}} -->
Pushes the environment variables onto the global environment.
- **Description**: This function should be called to populate the global environment with variables defined in the provided `struct environ`. It iterates through the entries in the `struct environ`, and for each entry that has a non-null value, a non-empty name, and is not marked as hidden, it sets the corresponding environment variable using `setenv`. It is important to ensure that the `struct environ` is properly initialized before calling this function.
- **Inputs**:
    - `env`: A pointer to a `struct environ` that contains the environment variables to be pushed. This pointer must not be null, and the structure must be properly initialized. If the structure contains entries with invalid names or values, those entries will be ignored.
- **Output**: None
- **See also**: [`environ_push`](environ.c.driver.md#environ_push)  (Implementation)


---
### environ_for_session<!-- {{#callable_declaration:environ_for_session}} -->
Creates an environment for a session.
- **Description**: This function is used to create a new environment for a given session, optionally setting default terminal variables. It should be called when initializing a session to ensure that the environment is properly configured. If the `session` parameter is NULL, the function will still create an environment but will not copy any session-specific environment variables. The `no_TERM` parameter controls whether terminal-related environment variables are set; if it is non-zero, these variables will not be included.
- **Inputs**:
    - `s`: A pointer to a `session` structure. If NULL, the function will create a default environment without session-specific variables. The caller retains ownership of the session object.
    - `no_TERM`: An integer flag that determines whether to set terminal-related environment variables. Valid values are 0 (set terminal variables) or non-zero (do not set terminal variables).
- **Output**: Returns a pointer to a newly created `environ` structure that contains the environment variables. The caller is responsible for freeing this environment when it is no longer needed.
- **See also**: [`environ_for_session`](environ.c.driver.md#environ_for_session)  (Implementation)


---
### tty_create_log<!-- {{#callable_declaration:tty_create_log}} -->
Creates a log file for TTY output.
- **Description**: This function is intended to be called to initialize logging for TTY output. It generates a log file named 'tmux-out-<pid>.log', where <pid> is the process ID of the calling process. The log file is created with write-only permissions, and if the file already exists, it will be truncated. It is important to call this function before any logging operations are performed to ensure that logs are captured correctly.
- **Inputs**:
    - None
- **Output**: None
- **See also**: [`tty_create_log`](tty.c.driver.md#tty_create_log)  (Implementation)


---
### tty_window_bigger<!-- {{#callable_declaration:tty_window_bigger}} -->
Determines if the terminal window is smaller than the current window.
- **Description**: This function checks if the size of the terminal window is smaller than the size of the current window. It should be called when you need to determine if the terminal can accommodate the current window's dimensions. The function compares the terminal's width and height against the current window's width and height, taking into account the status line size. If the terminal's dimensions are less than the window's dimensions, it returns a non-zero value; otherwise, it returns zero.
- **Inputs**:
    - `tty`: A pointer to a `struct tty` representing the terminal context. This pointer must not be null and should point to a valid terminal structure. If the pointer is null or points to an invalid structure, the behavior of the function is undefined.
- **Output**: Returns a non-zero value if the terminal window is smaller than the current window; otherwise, it returns zero.
- **See also**: [`tty_window_bigger`](tty.c.driver.md#tty_window_bigger)  (Implementation)


---
### tty_window_offset<!-- {{#callable_declaration:tty_window_offset}} -->
Retrieves the window offsets and size.
- **Description**: This function is used to obtain the current offsets and size of a terminal window associated with a `tty` structure. It should be called when you need to know the position and dimensions of the terminal window, typically after the terminal has been initialized. The function populates the provided pointers with the respective offset and size values. It is important to ensure that the `tty` pointer is valid and properly initialized before calling this function.
- **Inputs**:
    - `tty`: A pointer to a `struct tty` that represents the terminal. Must not be null and should be properly initialized.
    - `ox`: A pointer to a `u_int` where the x-offset will be stored. The caller retains ownership of this pointer, and it must not be null.
    - `oy`: A pointer to a `u_int` where the y-offset will be stored. The caller retains ownership of this pointer, and it must not be null.
    - `sx`: A pointer to a `u_int` where the width of the window will be stored. The caller retains ownership of this pointer, and it must not be null.
    - `sy`: A pointer to a `u_int` where the height of the window will be stored. The caller retains ownership of this pointer, and it must not be null.
- **Output**: Returns an integer representing the current flags of the terminal. This value can be used to determine the state or capabilities of the terminal.
- **See also**: [`tty_window_offset`](tty.c.driver.md#tty_window_offset)  (Implementation)


---
### tty_update_window_offset<!-- {{#callable_declaration:tty_update_window_offset}} -->
Updates the window offset for all clients.
- **Description**: This function should be called when the window's offset needs to be updated, typically after a resize or layout change. It iterates through all connected clients and updates their offsets if they are currently viewing the specified window. It is important to ensure that the window pointer passed to this function is valid and corresponds to an existing window.
- **Inputs**:
    - `w`: A pointer to a `struct window` that represents the window whose offset is to be updated. This pointer must not be null and should point to a valid window structure.
- **Output**: None
- **See also**: [`tty_update_window_offset`](tty.c.driver.md#tty_update_window_offset)  (Implementation)


---
### tty_update_client_offset<!-- {{#callable_declaration:tty_update_client_offset}} -->
Updates the terminal offset for a client.
- **Description**: This function should be called to refresh the terminal's offset values for a given client. It is essential to ensure that the client is a terminal client, as indicated by the `CLIENT_TERMINAL` flag. If the terminal's offset values have not changed since the last update, the function will exit early without making any modifications. If the offsets do change, it will log the changes and set the new offset values, which may trigger a redraw of the window and status.
- **Inputs**:
    - `c`: A pointer to a `struct client` representing the client whose terminal offset is to be updated. This pointer must not be null and must point to a valid client structure. If the client does not have the `CLIENT_TERMINAL` flag set, the function will return immediately without making any changes.
- **Output**: None
- **See also**: [`tty_update_client_offset`](tty.c.driver.md#tty_update_client_offset)  (Implementation)


---
### tty_raw<!-- {{#callable_declaration:tty_raw}} -->
Writes a raw string to a terminal.
- **Description**: This function is used to send a raw string to the terminal associated with the specified `tty` structure. It attempts to write the entire string, retrying up to five times if the write operation would block (indicated by `EAGAIN`). The function should be called when the terminal is ready to receive data, and it is important to ensure that the `tty` structure is properly initialized before calling this function. If the string is too long to be sent in one go, it will be sent in chunks until the entire string has been written or an error occurs.
- **Inputs**:
    - `tty`: A pointer to a `struct tty` that represents the terminal. Must not be null and should be properly initialized before use.
    - `s`: A pointer to a null-terminated string to be sent to the terminal. Must not be null. The function will handle the string's length and will attempt to write it in chunks if necessary.
- **Output**: None
- **See also**: [`tty_raw`](tty.c.driver.md#tty_raw)  (Implementation)


---
### tty_attributes<!-- {{#callable_declaration:tty_attributes}} -->
Sets the attributes of a terminal cell.
- **Description**: This function is used to update the visual attributes of a terminal cell, such as foreground and background colors, and various text attributes like bold or underline. It should be called when you need to change the appearance of text in a terminal, typically after initializing the terminal context. The function checks if the new attributes differ from the last set attributes to avoid unnecessary updates. If the attributes are the same, the function will return early without making changes.
- **Inputs**:
    - `tty`: A pointer to a `struct tty` representing the terminal context. Must not be null.
    - `gc`: A pointer to a `struct grid_cell` containing the new attributes to set. Must not be null.
    - `defaults`: A pointer to a `struct grid_cell` containing default colors. Must not be null.
    - `palette`: A pointer to a `struct colour_palette` for color management. Must not be null.
    - `hl`: A pointer to a `struct hyperlinks` for managing hyperlinks. Must not be null.
- **Output**: None
- **See also**: [`tty_attributes`](tty.c.driver.md#tty_attributes)  (Implementation)


---
### tty_reset<!-- {{#callable_declaration:tty_reset}} -->
Resets the terminal state.
- **Description**: This function is intended to reset the terminal's display attributes to their default values. It should be called when the terminal is being reinitialized or when a reset of the display state is required. The function checks if the current cell attributes differ from the default cell attributes, and if so, it sends the necessary escape sequences to reset the terminal's visual state. It is important to ensure that this function is called in a context where the terminal is ready to accept such commands.
- **Inputs**:
    - `tty`: A pointer to a `struct tty` representing the terminal context. This pointer must not be null and should point to a valid terminal structure. If the pointer is null or invalid, the behavior of the function is undefined.
- **Output**: None
- **See also**: [`tty_reset`](tty.c.driver.md#tty_reset)  (Implementation)


---
### tty_region_off<!-- {{#callable_declaration:tty_region_off}} -->
Disables the current region in the terminal.
- **Description**: This function should be called when you want to disable the current region of the terminal associated with the given `tty` structure. It is typically used in scenarios where you need to reset or clear the terminal's display area. Ensure that the `tty` structure has been properly initialized before calling this function.
- **Inputs**:
    - `tty`: A pointer to a `struct tty` that represents the terminal context. This pointer must not be null and should point to a valid `tty` structure that has been initialized. If the pointer is null or invalid, the behavior of the function is undefined.
- **Output**: None
- **See also**: [`tty_region_off`](tty.c.driver.md#tty_region_off)  (Implementation)


---
### tty_margin_off<!-- {{#callable_declaration:tty_margin_off}} -->
Disables the margin for the specified terminal.
- **Description**: This function is intended to be called when you want to disable the margin settings for a terminal represented by the `tty` structure. It should be invoked when you no longer need the margin to be active, such as when resetting terminal settings or changing display modes. Ensure that the `tty` structure has been properly initialized before calling this function.
- **Inputs**:
    - `tty`: A pointer to a `struct tty` that represents the terminal. This pointer must not be null and should point to a valid terminal context. If the pointer is null or invalid, the behavior of the function is undefined.
- **Output**: None
- **See also**: [`tty_margin_off`](tty.c.driver.md#tty_margin_off)  (Implementation)


---
### tty_cursor<!-- {{#callable_declaration:tty_cursor}} -->
Moves the cursor to the specified position.
- **Description**: This function is used to reposition the cursor within a terminal interface. It should be called when the terminal is not in a blocked state, and the specified coordinates must be within the terminal's dimensions. If the requested position is outside the valid range, it will be clamped to the nearest valid position. The function handles various edge cases, such as moving to the home position or handling line breaks, ensuring that the cursor is moved efficiently and correctly.
- **Inputs**:
    - `tty`: A pointer to a `struct tty` representing the terminal context. Must not be null.
    - `cx`: The desired x-coordinate for the cursor. Must be less than the terminal's width.
    - `cy`: The desired y-coordinate for the cursor. Must be less than the terminal's height.
- **Output**: None
- **See also**: [`tty_cursor`](tty.c.driver.md#tty_cursor)  (Implementation)


---
### tty_clipboard_query<!-- {{#callable_declaration:tty_clipboard_query}} -->
Queries the clipboard for the specified terminal.
- **Description**: This function should be called to initiate a clipboard query for the specified `tty` terminal. It is important to ensure that the terminal has been started and is not already processing a clipboard query. If the terminal is not started or is currently handling a clipboard query, the function will return without performing any action. The function sets a timer to handle the response for the clipboard query, which will be processed by a callback function.
- **Inputs**:
    - `tty`: A pointer to a `struct tty` representing the terminal context. This parameter must not be null and should point to a valid terminal structure that has been initialized and started.
- **Output**: None
- **See also**: [`tty_clipboard_query`](tty.c.driver.md#tty_clipboard_query)  (Implementation)


---
### tty_putcode<!-- {{#callable_declaration:tty_putcode}} -->
Sends a terminal control code to the specified TTY.
- **Description**: This function is used to send a specific terminal control code to a TTY device. It should be called when you need to apply terminal-specific settings or behaviors defined by the `tty_code_code` enumeration. The function expects that the `tty` structure has been properly initialized and is valid. If the provided `code` does not correspond to a valid terminal control code, the behavior is undefined.
- **Inputs**:
    - `tty`: A pointer to a `struct tty` that represents the terminal context. Must not be null and must be properly initialized before calling this function.
    - `code`: An enumeration value of type `tty_code_code` that specifies the control code to send. This should be a valid code defined in the `tty_code_code` enum.
- **Output**: None
- **See also**: [`tty_putcode`](tty.c.driver.md#tty_putcode)  (Implementation)


---
### tty_putcode_i<!-- {{#callable_declaration:tty_putcode_i}} -->
Sends a terminal control code with an integer parameter.
- **Description**: This function is used to send a specific terminal control code along with an integer parameter to a given `tty` structure. It should be called only when the integer parameter is non-negative, as negative values are ignored. The function is typically used in terminal manipulation contexts where specific control codes are required to modify terminal behavior or appearance.
- **Inputs**:
    - `tty`: A pointer to a `struct tty` that represents the terminal context. Must not be null.
    - `code`: An enumeration value of type `enum tty_code_code` that specifies the control code to send. Valid values are defined in the `tty_code_code` enumeration.
    - `a`: An integer parameter that must be non-negative. If `a` is negative, the function will not perform any action.
- **Output**: None
- **See also**: [`tty_putcode_i`](tty.c.driver.md#tty_putcode_i)  (Implementation)


---
### tty_putcode_ii<!-- {{#callable_declaration:tty_putcode_ii}} -->
Sends a terminal control code with two integer parameters.
- **Description**: This function is used to send a terminal control code along with two integer parameters to a specified `tty` structure. It is typically called when you need to perform terminal operations that require specific codes and parameters. The function should only be called with non-negative integer values for the parameters; if either parameter is negative, the function will not perform any action. This function does not return a value.
- **Inputs**:
    - `tty`: A pointer to a `struct tty` that represents the terminal. Must not be null.
    - `code`: An enumeration value of type `enum tty_code_code` that specifies the terminal control code to send. Valid values are defined in the `tty_code_code` enumeration.
    - `a`: An integer parameter that must be non-negative. If this value is negative, the function will not execute any further actions.
    - `b`: An integer parameter that must also be non-negative. Similar to 'a', if this value is negative, the function will not execute any further actions.
- **Output**: None
- **See also**: [`tty_putcode_ii`](tty.c.driver.md#tty_putcode_ii)  (Implementation)


---
### tty_putcode_iii<!-- {{#callable_declaration:tty_putcode_iii}} -->
Sends a formatted control code to the terminal.
- **Description**: This function is used to send a control code to a terminal, formatted with three integer parameters. It should be called when the terminal is ready to receive output. If any of the integer parameters are negative, the function will not send any data, effectively ignoring the call. This function is typically used in terminal applications that require specific control sequences to manipulate the terminal display.
- **Inputs**:
    - `tty`: A pointer to a `struct tty` representing the terminal. Must not be null.
    - `code`: An enumeration value of type `enum tty_code_code` that specifies the control code to send. Valid values are defined in the `tty_code_code` enumeration.
    - `a`: An integer parameter that must be non-negative. If negative, the function will not send any data.
    - `b`: An integer parameter that must be non-negative. If negative, the function will not send any data.
    - `c`: An integer parameter that must be non-negative. If negative, the function will not send any data.
- **Output**: None
- **See also**: [`tty_putcode_iii`](tty.c.driver.md#tty_putcode_iii)  (Implementation)


---
### tty_putcode_s<!-- {{#callable_declaration:tty_putcode_s}} -->
Sends a terminal control code with an optional string.
- **Description**: This function is used to send a specific terminal control code to a `tty` device, optionally including a string argument. It should be called when you need to apply terminal formatting or control sequences that depend on the specified code. The function does not perform any action if the string argument is `NULL`, ensuring that it only sends valid data. It is important to ensure that the `tty` structure is properly initialized before calling this function.
- **Inputs**:
    - `tty`: A pointer to a `struct tty` representing the terminal context. Must not be null.
    - `code`: An enumeration value of type `enum tty_code_code` that specifies the terminal control code to send. Must be a valid code.
    - `a`: A pointer to a string that may be sent along with the control code. Can be null; if it is null, no string is sent.
- **Output**: The function returns nothing and does not mutate any inputs.
- **See also**: [`tty_putcode_s`](tty.c.driver.md#tty_putcode_s)  (Implementation)


---
### tty_putcode_ss<!-- {{#callable_declaration:tty_putcode_ss}} -->
Sends a formatted string to the terminal.
- **Description**: This function is used to send a formatted string to the terminal associated with the specified `tty`. It should be called when you want to output a string that is formatted based on the provided `code` and the two additional string parameters `a` and `b`. Both `a` and `b` must not be null; if either is null, the function will not perform any action. This function is typically used in terminal applications where specific formatting codes are required.
- **Inputs**:
    - `tty`: A pointer to a `struct tty` representing the terminal context. Must not be null.
    - `code`: An enumeration value of type `enum tty_code_code` that specifies the formatting code to be used. Valid values are defined in the `tty_code_code` enum.
    - `a`: A pointer to a string that serves as the first argument for formatting. Must not be null.
    - `b`: A pointer to a string that serves as the second argument for formatting. Must not be null.
- **Output**: None
- **See also**: [`tty_putcode_ss`](tty.c.driver.md#tty_putcode_ss)  (Implementation)


---
### tty_puts<!-- {{#callable_declaration:tty_puts}} -->
Outputs a string to the specified terminal.
- **Description**: This function is used to send a string to a terminal represented by the `tty` structure. It should be called when you want to display text on the terminal. The input string must not be empty; if it is, the function will not perform any action. Ensure that the `tty` structure is properly initialized before calling this function.
- **Inputs**:
    - `tty`: A pointer to a `struct tty` that represents the terminal. Must not be null and should be properly initialized.
    - `s`: A pointer to a null-terminated string to be output. Must not be null. If the string is empty (i.e., the first character is the null terminator), the function will not perform any action.
- **Output**: None
- **See also**: [`tty_puts`](tty.c.driver.md#tty_puts)  (Implementation)


---
### tty_putc<!-- {{#callable_declaration:tty_putc}} -->
Outputs a character to the terminal.
- **Description**: This function is used to send a single character to the specified terminal context. It should be called when you want to display a character on the terminal screen, typically after the terminal has been initialized. The function handles character wrapping and may adjust the cursor position accordingly. If the terminal is in a specific mode that affects character output, the function will adapt the output accordingly.
- **Inputs**:
    - `tty`: A pointer to a `struct tty` representing the terminal context. Must not be null. The function assumes that the terminal has been properly initialized before this function is called.
    - `ch`: A character to be output, represented as an unsigned char. Valid values are typically in the range of 0x00 to 0xFF. The function will handle characters outside the printable range appropriately.
- **Output**: None
- **See also**: [`tty_putc`](tty.c.driver.md#tty_putc)  (Implementation)


---
### tty_putn<!-- {{#callable_declaration:tty_putn}} -->
Writes a specified number of bytes to a terminal.
- **Description**: This function is used to output a specified number of bytes from a buffer to a terminal context. It is important to call this function after the terminal has been properly initialized. The function adjusts the number of bytes written based on the terminal's current cursor position and width, ensuring that it does not exceed the terminal's boundaries. If the cursor position plus the specified width exceeds the terminal's width, the cursor will wrap to the next line. If the cursor position becomes invalid, it will be set to an undefined state.
- **Inputs**:
    - `tty`: A pointer to a `struct tty` representing the terminal context. Must not be null and should be properly initialized before use.
    - `buf`: A pointer to the data buffer containing the bytes to be written. This buffer can be null, but if it is, the function will not write any data.
    - `len`: The number of bytes to write from the buffer. Must be a non-negative value. If the length exceeds the available space in the terminal, it will be adjusted accordingly.
    - `width`: The width of the output in characters. Must be a positive integer. If the width causes the cursor to exceed the terminal's width, the cursor will wrap to the next line.
- **Output**: The function does not return a value and does not mutate any inputs directly. It modifies the cursor position within the terminal context based on the output.
- **See also**: [`tty_putn`](tty.c.driver.md#tty_putn)  (Implementation)


---
### tty_cell<!-- {{#callable_declaration:tty_cell}} -->
Writes a grid cell to the terminal.
- **Description**: This function is used to write a specific grid cell to the terminal, applying any necessary attributes and handling special cases such as padding characters or terminal limitations. It should be called when you want to render a cell on the terminal, typically after ensuring that the terminal is properly initialized. The function will skip writing if the terminal is in a state that does not support the operation, such as when the last character is being processed in a 'stupid' terminal mode. It is important to ensure that the provided `grid_cell` is valid and not marked as padding.
- **Inputs**:
    - `tty`: A pointer to a `struct tty` representing the terminal context. Must not be null.
    - `gc`: A pointer to a `struct grid_cell` containing the cell data to be written. Must not be null.
    - `defaults`: A pointer to a `struct grid_cell` containing default attributes to apply. Must not be null.
    - `palette`: A pointer to a `struct colour_palette` for color management. Can be null if no palette is needed.
    - `hl`: A pointer to a `struct hyperlinks` for hyperlink management. Can be null if no hyperlinks are needed.
- **Output**: None
- **See also**: [`tty_cell`](tty.c.driver.md#tty_cell)  (Implementation)


---
### tty_init<!-- {{#callable_declaration:tty_init}} -->
Initializes a `tty` structure.
- **Description**: This function is used to initialize a `tty` structure for a client connection. It should be called after ensuring that the file descriptor associated with the client is valid and represents a terminal (i.e., it must be a tty). If the file descriptor is not valid, the function will return -1. The function also sets default values for various attributes of the `tty` structure. If the terminal attributes cannot be retrieved using `tcgetattr`, it will also return -1. Successful initialization will return 0.
- **Inputs**:
    - `tty`: A pointer to a `struct tty` that will be initialized. Must not be null. The caller retains ownership of this structure.
    - `c`: A pointer to a `struct client` that contains the file descriptor for the terminal. Must not be null. The function expects that the file descriptor is valid and represents a terminal.
- **Output**: Returns 0 on success, or -1 if an error occurs (e.g., if the file descriptor is not a tty or if `tcgetattr` fails).
- **See also**: [`tty_init`](tty.c.driver.md#tty_init)  (Implementation)


---
### tty_resize<!-- {{#callable_declaration:tty_resize}} -->
Resizes the terminal window.
- **Description**: This function should be called to update the size of the terminal window based on the current dimensions reported by the operating system. It retrieves the window size using an ioctl call and adjusts the terminal's internal size accordingly. If the ioctl call fails, default dimensions of 80 columns and 24 rows are used. It is important to call this function whenever the terminal window is resized to ensure that the terminal's display is accurate and up-to-date.
- **Inputs**:
    - `tty`: A pointer to a `struct tty` representing the terminal context. This pointer must not be null, and the caller retains ownership of the `tty` structure.
- **Output**: None
- **See also**: [`tty_resize`](tty.c.driver.md#tty_resize)  (Implementation)


---
### tty_set_size<!-- {{#callable_declaration:tty_set_size}} -->
Sets the size and pixel dimensions of a terminal.
- **Description**: This function is used to configure the dimensions of a terminal represented by the `tty` structure. It should be called when the terminal's size needs to be updated, such as during initialization or when the terminal window is resized. The function modifies the `sx`, `sy`, `xpixel`, and `ypixel` fields of the `tty` structure to reflect the new size and pixel dimensions. It is important to ensure that the `tty` pointer is valid and points to an initialized `tty` structure before calling this function.
- **Inputs**:
    - `tty`: A pointer to a `struct tty` that represents the terminal. Must not be null and must point to a valid, initialized terminal structure.
    - `sx`: An unsigned integer representing the new width of the terminal in character cells. Must be greater than or equal to 1.
    - `sy`: An unsigned integer representing the new height of the terminal in character cells. Must be greater than or equal to 1.
    - `xpixel`: An unsigned integer representing the width of each character cell in pixels. Must be greater than or equal to 1.
    - `ypixel`: An unsigned integer representing the height of each character cell in pixels. Must be greater than or equal to 1.
- **Output**: None
- **See also**: [`tty_set_size`](tty.c.driver.md#tty_set_size)  (Implementation)


---
### tty_invalidate<!-- {{#callable_declaration:tty_invalidate}} -->
Invalidates the state of a `tty` structure.
- **Description**: This function is used to reset the state of a `tty` structure, which represents a terminal interface. It should be called when the terminal needs to be reinitialized or reset, such as after a resize or when starting a new session. The function clears the cursor position and the scroll region, and it also resets the cell attributes to default values. If the `tty` is already started, it will also send specific terminal codes to reset the terminal modes and cursor visibility. It is important to ensure that the `tty` structure is properly initialized before calling this function.
- **Inputs**:
    - `tty`: A pointer to a `tty` structure that represents the terminal. Must not be null. The function assumes ownership of the `tty` structure and will modify its internal state.
- **Output**: None
- **See also**: [`tty_invalidate`](tty.c.driver.md#tty_invalidate)  (Implementation)


---
### tty_start_tty<!-- {{#callable_declaration:tty_start_tty}} -->
Starts the terminal interface.
- **Description**: This function initializes the terminal interface for a given `tty` structure. It must be called after the `tty` has been properly initialized and before any input/output operations are performed. The function sets the terminal to a raw mode, modifies input and output flags, and prepares the terminal for interaction by sending specific control codes. It also sets up a timer for managing terminal events. If the `tty` structure is not valid or if the terminal cannot be configured as expected, the function may not behave as intended.
- **Inputs**:
    - `tty`: A pointer to a `struct tty` that represents the terminal context. This pointer must not be null and should point to a valid `tty` structure that has been initialized. If the pointer is null or points to an invalid structure, the behavior of the function is undefined.
- **Output**: This function does not return a value and does not modify any input parameters directly. It configures the terminal state and prepares it for use.
- **See also**: [`tty_start_tty`](tty.c.driver.md#tty_start_tty)  (Implementation)


---
### tty_send_requests<!-- {{#callable_declaration:tty_send_requests}} -->
Sends terminal requests to the specified TTY.
- **Description**: This function should be called when the terminal is ready to process requests. It checks if the TTY has been started and, if so, sends various requests based on the terminal type. If the terminal is VT100-like, it sends specific requests to query the terminal's capabilities. If the terminal is not VT100-like, it sets flags indicating that all request flags have been sent. It is important to ensure that this function is not called before the TTY is initialized and started.
- **Inputs**:
    - `tty`: A pointer to a `struct tty` representing the terminal context. Must not be null. If the TTY is not started (i.e., the TTY_STARTED flag is not set), the function will return immediately without sending any requests.
- **Output**: None
- **See also**: [`tty_send_requests`](tty.c.driver.md#tty_send_requests)  (Implementation)


---
### tty_repeat_requests<!-- {{#callable_declaration:tty_repeat_requests}} -->
Sends repeated requests to the terminal.
- **Description**: This function is intended to be called to send terminal requests for color information, specifically for terminals that support VT100-like capabilities. It should only be invoked after the terminal has been started, as indicated by the `TTY_STARTED` flag in the `tty` structure. If the function is called too frequently, as determined by the `TTY_REQUEST_LIMIT`, it will not send additional requests until the time limit has passed. This helps to prevent overwhelming the terminal with requests.
- **Inputs**:
    - `tty`: A pointer to a `struct tty` representing the terminal context. This pointer must not be null and must point to a valid `tty` structure that has been properly initialized. If the `tty` structure does not have the `TTY_STARTED` flag set, the function will return immediately without performing any actions.
- **Output**: The function does not return a value and does not modify any inputs directly. Its primary effect is to send requests to the terminal if the conditions are met.
- **See also**: [`tty_repeat_requests`](tty.c.driver.md#tty_repeat_requests)  (Implementation)


---
### tty_stop_tty<!-- {{#callable_declaration:tty_stop_tty}} -->
Stops a TTY session.
- **Description**: This function is used to stop a TTY session that has been previously started. It should be called only if the TTY is currently active, as indicated by the `TTY_STARTED` flag. If the TTY is not started, the function will return immediately without performing any actions. Upon stopping the TTY, it will clean up associated events and timers, and reset the terminal settings to a normal state. It is important to ensure that the TTY is properly initialized before calling this function.
- **Inputs**:
    - `tty`: A pointer to a `struct tty` representing the TTY session to be stopped. This pointer must not be null and must point to a valid TTY structure that has been initialized and started.
- **Output**: None
- **See also**: [`tty_stop_tty`](tty.c.driver.md#tty_stop_tty)  (Implementation)


---
### tty_set_title<!-- {{#callable_declaration:tty_set_title}} -->
Sets the title of a terminal.
- **Description**: This function is used to set the title of a terminal associated with a `tty` structure. It should be called when the terminal supports the title setting capabilities, specifically when the terminal has the `TSL` (title set) and `FSL` (title reset) capabilities. If either capability is not supported, the function will return without making any changes. The title string provided will be sent to the terminal, which will update the displayed title accordingly.
- **Inputs**:
    - `tty`: A pointer to a `struct tty` that represents the terminal. Must not be null.
    - `title`: A pointer to a null-terminated string representing the title to be set. Must not be null.
- **Output**: None
- **See also**: [`tty_set_title`](tty.c.driver.md#tty_set_title)  (Implementation)


---
### tty_set_path<!-- {{#callable_declaration:tty_set_path}} -->
Sets the path for the specified terminal.
- **Description**: This function is used to set the path displayed in the terminal. It should be called only if the terminal supports the necessary capabilities, specifically `TTYC_SWD` and `TTYC_FSL`. If either capability is not supported, the function will return without making any changes. The `title` parameter is expected to be a valid string representing the desired path.
- **Inputs**:
    - `tty`: A pointer to a `struct tty` representing the terminal. Must not be null.
    - `title`: A pointer to a null-terminated string that represents the path to be set. Must not be null.
- **Output**: None
- **See also**: [`tty_set_path`](tty.c.driver.md#tty_set_path)  (Implementation)


---
### tty_update_mode<!-- {{#callable_declaration:tty_update_mode}} -->
Updates the terminal mode for a given TTY.
- **Description**: This function is used to modify the terminal mode settings for a specified `tty` instance. It should be called when there is a need to change the display or input behavior of the terminal, such as enabling or disabling cursor visibility, mouse support, or other modes. The `mode` parameter specifies the new settings, and the `screen` parameter provides context for the update. It is important to ensure that the `tty` has been properly initialized before calling this function. If the `mode` is invalid or if the `tty` is in a state that does not allow for mode changes, the function may not have the desired effect.
- **Inputs**:
    - `tty`: A pointer to a `struct tty` that represents the terminal instance. Must not be null and must be properly initialized.
    - `mode`: An integer representing the new mode settings. Valid values are defined by the mode constants. The function will apply the specified modes, and any invalid bits will be ignored.
    - `s`: A pointer to a `struct screen` that provides context for the terminal display. Must not be null.
- **Output**: The function does not return a value and does not mutate any inputs directly. It updates the mode of the `tty` instance based on the provided `mode` parameter.
- **See also**: [`tty_update_mode`](tty.c.driver.md#tty_update_mode)  (Implementation)


---
### tty_draw_line<!-- {{#callable_declaration:tty_draw_line}} -->
Draws a line on the terminal screen.
- **Description**: This function is used to render a line of characters on a specified position of the terminal screen. It should be called when the terminal is ready to receive drawing commands, typically after initialization. The function takes into account the specified pixel coordinates and the dimensions of the line to be drawn, ensuring that it does not exceed the screen boundaries. If the specified width exceeds the screen size, it will be clamped to fit. Additionally, it handles attributes for the characters being drawn, including foreground and background colors, and can clear parts of the line if necessary.
- **Inputs**:
    - `tty`: A pointer to a `struct tty` representing the terminal context. Must not be null.
    - `s`: A pointer to a `struct screen` representing the screen context. Must not be null.
    - `px`: The starting x-coordinate (pixel) for drawing the line. Must be within the screen width.
    - `py`: The y-coordinate (line number) on the screen where the line will be drawn. Must be within the screen height.
    - `nx`: The total width of the line to be drawn. Must be a positive integer.
    - `atx`: The x-coordinate on the terminal where the line will be drawn. Must be within the terminal width.
    - `aty`: The y-coordinate on the terminal where the line will be drawn. Must be within the terminal height.
    - `defaults`: A pointer to a `struct grid_cell` containing default attributes for the line. Must not be null.
    - `palette`: A pointer to a `struct colour_palette` for color attributes. Must not be null.
- **Output**: None
- **See also**: [`tty_draw_line`](tty.c.driver.md#tty_draw_line)  (Implementation)


---
### tty_draw_images<!-- {{#callable_declaration:tty_draw_images}} -->
Draws images on the terminal.
- **Description**: This function is used to render images on a terminal screen. It should be called when there are images to be displayed in the specified `screen`. The function iterates through all images associated with the screen and sends drawing commands to the specified `client`. It is important to ensure that the `client` and `window_pane` are properly initialized before calling this function, as it relies on their properties to position and render the images correctly.
- **Inputs**:
    - `c`: A pointer to a `client` structure representing the client that will receive the image drawing commands. Must not be null.
    - `wp`: A pointer to a `window_pane` structure representing the pane where the images will be drawn. Must not be null.
    - `s`: A pointer to a `screen` structure containing the images to be drawn. Must not be null.
- **Output**: None
- **See also**: [`tty_draw_images`](tty.c.driver.md#tty_draw_images)  (Implementation)


---
### tty_sync_start<!-- {{#callable_declaration:tty_sync_start}} -->
Starts synchronization for the specified terminal.
- **Description**: This function is intended to initiate synchronization for a terminal represented by the `tty` structure. It should be called when synchronization is required, ensuring that the terminal is not currently blocked or already in a syncing state. If the terminal supports synchronization, the function will log the start of the sync process and send a synchronization command to the terminal.
- **Inputs**:
    - `tty`: A pointer to a `struct tty` representing the terminal to synchronize. Must not be null. If the terminal is blocked or already syncing, the function will return without performing any action.
- **Output**: None
- **See also**: [`tty_sync_start`](tty.c.driver.md#tty_sync_start)  (Implementation)


---
### tty_sync_end<!-- {{#callable_declaration:tty_sync_end}} -->
Ends a synchronization process for a terminal.
- **Description**: This function should be called to conclude a synchronization process for a `tty` terminal. It is important to ensure that the terminal is not in a blocked state and that it is currently syncing. If these conditions are met, the function will clear the syncing flag and, if the terminal supports the SYNC capability, it will log the end of the sync process and send the appropriate terminal code. This function is typically used in scenarios where synchronization with the terminal's output is required, and it should be called after the synchronization has been initiated.
- **Inputs**:
    - `tty`: A pointer to a `struct tty` representing the terminal. This parameter must not be null and should point to a valid terminal structure. If the terminal is in a blocked state or not currently syncing, the function will return early without making any changes.
- **Output**: The function does not return a value and does not mutate any inputs. It may log messages based on the terminal's capabilities.
- **See also**: [`tty_sync_end`](tty.c.driver.md#tty_sync_end)  (Implementation)


---
### tty_open<!-- {{#callable_declaration:tty_open}} -->
Opens a terminal interface.
- **Description**: This function is used to initialize and open a terminal interface for a given `tty` structure. It must be called after the `tty` has been properly initialized. If the terminal creation fails, the function will close the `tty` and return an error code. It sets up input and output event handling, initializes buffers for input and output, and prepares the terminal for interaction. The caller should ensure that the `tty` structure is valid and that the `cause` parameter is provided to capture any error messages.
- **Inputs**:
    - `tty`: A pointer to a `struct tty` that represents the terminal to be opened. This must not be null and should be properly initialized before calling this function.
    - `cause`: A pointer to a character pointer that will be used to store an error message if the terminal creation fails. This can be null if error reporting is not needed.
- **Output**: Returns 0 on success, or -1 if an error occurs during the terminal opening process.
- **See also**: [`tty_open`](tty.c.driver.md#tty_open)  (Implementation)


---
### tty_close<!-- {{#callable_declaration:tty_close}} -->
Closes a terminal interface.
- **Description**: This function is used to properly close a `tty` (teletypewriter) interface, ensuring that all associated resources are released. It should be called when the terminal is no longer needed, typically during cleanup or shutdown procedures. The function checks if the terminal is currently opened and, if so, it frees the input and output buffers, stops the terminal, and releases any associated resources. It is important to ensure that this function is not called on a `tty` that is already closed or uninitialized.
- **Inputs**:
    - `tty`: A pointer to a `struct tty` representing the terminal interface to be closed. This pointer must not be null and should point to a valid, initialized `tty` structure. If the `tty` is not opened, the function will safely handle this without performing any operations on the buffers.
- **Output**: This function does not return a value and does not modify the input parameter.
- **See also**: [`tty_close`](tty.c.driver.md#tty_close)  (Implementation)


---
### tty_free<!-- {{#callable_declaration:tty_free}} -->
Frees a `tty` structure.
- **Description**: This function is used to release resources associated with a `tty` structure. It should be called when the `tty` is no longer needed, typically during cleanup or shutdown processes. Ensure that the `tty` has been properly initialized before calling this function to avoid undefined behavior.
- **Inputs**:
    - `tty`: A pointer to a `tty` structure that is to be freed. This pointer must not be null and should point to a valid `tty` instance that has been initialized. The function will handle the closure of the `tty`, but it is the caller's responsibility to ensure that the `tty` is not in use elsewhere.
- **Output**: None
- **See also**: [`tty_free`](tty.c.driver.md#tty_free)  (Implementation)


---
### tty_update_features<!-- {{#callable_declaration:tty_update_features}} -->
Updates the terminal features for a given TTY.
- **Description**: This function should be called to refresh the terminal features associated with a `tty` structure, particularly after any changes to the terminal's capabilities or features. It applies the current terminal features, sends relevant codes to the terminal, and triggers a redraw of the client to reflect any changes. It is important to ensure that the `tty` structure is properly initialized before calling this function, as it relies on the state of the `tty` and its associated `client`. Additionally, the function may have side effects such as modifying the terminal's display settings.
- **Inputs**:
    - `tty`: A pointer to a `struct tty` that represents the terminal. This pointer must not be null and should point to a valid, initialized `tty` structure. If the pointer is null or points to an uninitialized structure, the behavior of the function is undefined.
- **Output**: None
- **See also**: [`tty_update_features`](tty.c.driver.md#tty_update_features)  (Implementation)


---
### tty_set_selection<!-- {{#callable_declaration:tty_set_selection}} -->
Sets the selection in a terminal.
- **Description**: This function is used to set a selection in a terminal, which is useful for enabling mouse selection features. It should be called only after the terminal has been initialized and started, as indicated by the `TTY_STARTED` flag. Additionally, the terminal must support mouse selection, which can be checked using the `tty_term_has` function with the `TTYC_MS` capability. If the terminal is not started or does not support mouse selection, the function will return without making any changes.
- **Inputs**:
    - `tty`: A pointer to a `struct tty` representing the terminal context. Must not be null.
    - `flags`: A string containing flags that modify the selection behavior. Must not be null.
    - `buf`: A pointer to the buffer containing the data to be selected. Must not be null.
    - `len`: The length of the data in `buf`. Must be greater than zero.
- **Output**: None
- **See also**: [`tty_set_selection`](tty.c.driver.md#tty_set_selection)  (Implementation)


---
### tty_write<!-- {{#callable_declaration:tty_write}} -->
Writes data to the terminal.
- **Description**: This function is used to send commands to a terminal by invoking a specified command function for each client that is ready to receive commands. It should be called when there is a need to write data to the terminal, typically after the terminal has been initialized and is ready for input. The function checks if the provided context has a valid client callback set; if not, it returns immediately without performing any actions. It iterates over all connected clients, invoking the client callback to determine if the client is ready. If the client is ready, it calls the provided command function with the terminal and context. If the callback returns -1, the iteration stops, and no further commands are sent.
- **Inputs**:
    - `cmdfn`: A pointer to a function that takes a pointer to a `tty` structure and a pointer to a `tty_ctx` structure. This function will be called for each client that is ready to receive commands. Must not be null.
    - `ctx`: A pointer to a `tty_ctx` structure that contains the context for the command execution. This structure must not be null and must have a valid `set_client_cb` callback function set; otherwise, the function will return without performing any actions.
- **Output**: None
- **See also**: [`tty_write`](tty.c.driver.md#tty_write)  (Implementation)


---
### tty_cmd_alignmenttest<!-- {{#callable_declaration:tty_cmd_alignmenttest}} -->
Tests the alignment of characters in a terminal.
- **Description**: This function is used to perform an alignment test on a terminal interface. It should be called when the terminal is ready to display content, typically after initialization. If the `bigger` field in the `tty_ctx` structure is set, the function will invoke the redraw callback and return immediately. Otherwise, it sets the terminal attributes and fills the terminal grid with the character 'E' across the specified dimensions defined in the `tty_ctx` structure.
- **Inputs**:
    - `tty`: A pointer to a `struct tty` representing the terminal context. Must not be null.
    - `ctx`: A pointer to a `struct tty_ctx` containing the context for the terminal operation. Must not be null. The `bigger` field determines if a redraw is needed, and `sx` and `sy` define the size of the area to fill.
- **Output**: None
- **See also**: [`tty_cmd_alignmenttest`](tty.c.driver.md#tty_cmd_alignmenttest)  (Implementation)


---
### tty_cmd_cell<!-- {{#callable_declaration:tty_cmd_cell}} -->
Draws a cell in the terminal.
- **Description**: This function is used to render a specific cell in the terminal based on the provided context. It should be called when the terminal is ready to display content, typically after the terminal has been initialized. The function checks if the cell is visible and whether it can be drawn without obstruction. If the cell is wide and partially obstructed, it handles the drawing accordingly. It is important to ensure that the `tty` and `ctx` parameters are valid and properly initialized before calling this function.
- **Inputs**:
    - `tty`: A pointer to a `struct tty` representing the terminal context. Must not be null.
    - `ctx`: A pointer to a `struct tty_ctx` containing the drawing context, including the cell to be drawn and its position. Must not be null.
- **Output**: None
- **See also**: [`tty_cmd_cell`](tty.c.driver.md#tty_cmd_cell)  (Implementation)


---
### tty_cmd_cells<!-- {{#callable_declaration:tty_cmd_cells}} -->
Draws cells in a terminal context.
- **Description**: This function is used to render a series of cells in a terminal interface, based on the provided context. It should be called when the terminal is visible and after ensuring that the drawing area is appropriately set up. The function handles various conditions, such as whether the cells fit within the current window dimensions and whether they need to be redrawn. It is important to ensure that the `tty` and `ctx` parameters are valid and properly initialized before calling this function.
- **Inputs**:
    - `tty`: A pointer to a `struct tty` representing the terminal context. Must not be null and should be properly initialized.
    - `ctx`: A pointer to a `struct tty_ctx` containing the drawing context. Must not be null and should be initialized with valid values, including cell attributes and dimensions.
- **Output**: None
- **See also**: [`tty_cmd_cells`](tty.c.driver.md#tty_cmd_cells)  (Implementation)


---
### tty_cmd_clearendofline<!-- {{#callable_declaration:tty_cmd_clearendofline}} -->
Clears the end of the current line in a terminal.
- **Description**: This function is intended to be called when you need to clear the end of the current line in a terminal interface. It should be invoked after the terminal and context have been properly initialized. The function modifies the display by clearing a specified range of characters from the cursor position to the end of the line, using the background color specified in the context. It is important to ensure that the `tty` and `ctx` parameters are valid and properly initialized before calling this function.
- **Inputs**:
    - `tty`: A pointer to a `struct tty` representing the terminal. Must not be null.
    - `ctx`: A pointer to a `struct tty_ctx` containing the context for the operation. Must not be null.
- **Output**: None
- **See also**: [`tty_cmd_clearendofline`](tty.c.driver.md#tty_cmd_clearendofline)  (Implementation)


---
### tty_cmd_clearendofscreen<!-- {{#callable_declaration:tty_cmd_clearendofscreen}} -->
Clears the end of the screen in a terminal.
- **Description**: This function is used to clear the area from the cursor's current position to the end of the screen, effectively erasing any text in that region. It should be called when the terminal is in a valid state and the context is properly set up. The function modifies the terminal display based on the provided context, ensuring that the background color is applied correctly. It is important to ensure that the `tty` and `ctx` parameters are valid and initialized before calling this function.
- **Inputs**:
    - `tty`: A pointer to a `struct tty` representing the terminal. Must not be null and should be properly initialized.
    - `ctx`: A pointer to a `struct tty_ctx` containing the context for the operation. Must not be null and should contain valid values for the attributes used in the operation.
- **Output**: None
- **See also**: [`tty_cmd_clearendofscreen`](tty.c.driver.md#tty_cmd_clearendofscreen)  (Implementation)


---
### tty_cmd_clearline<!-- {{#callable_declaration:tty_cmd_clearline}} -->
Clears the current line in the terminal.
- **Description**: This function is used to clear the contents of the current line in the terminal. It should be called when the terminal is ready to update the display, typically after the terminal has been initialized. The function applies default attributes to the terminal based on the provided context and then clears the specified line. It is important to ensure that the `tty` and `ctx` parameters are valid and properly initialized before calling this function.
- **Inputs**:
    - `tty`: A pointer to a `struct tty` representing the terminal. Must not be null and should be properly initialized.
    - `ctx`: A pointer to a `struct tty_ctx` containing the context for the operation. Must not be null and should contain valid attributes and palette information.
- **Output**: None
- **See also**: [`tty_cmd_clearline`](tty.c.driver.md#tty_cmd_clearline)  (Implementation)


---
### tty_cmd_clearscreen<!-- {{#callable_declaration:tty_cmd_clearscreen}} -->
Clears the terminal screen.
- **Description**: This function is used to clear the entire screen of a terminal. It should be called when the terminal is ready to display new content, typically after any necessary initialization has been completed. The function takes a `tty` structure representing the terminal and a `tty_ctx` structure that contains context information such as default attributes and background color. It is important to ensure that the `tty` and `ctx` parameters are valid and properly initialized before calling this function.
- **Inputs**:
    - `tty`: A pointer to a `struct tty` representing the terminal. Must not be null and should be properly initialized.
    - `ctx`: A pointer to a `struct tty_ctx` containing context information for the operation. Must not be null and should be properly initialized.
- **Output**: None
- **See also**: [`tty_cmd_clearscreen`](tty.c.driver.md#tty_cmd_clearscreen)  (Implementation)


---
### tty_cmd_clearstartofline<!-- {{#callable_declaration:tty_cmd_clearstartofline}} -->
Clears the line from the cursor to the start of the line.
- **Description**: This function is used to clear the content of the line from the current cursor position to the start of the line in a terminal interface. It should be called when the terminal is ready to process commands and the context is properly set up. The function expects a valid `tty` structure representing the terminal and a `tty_ctx` structure that contains the necessary context information, including cursor position and background color. If the provided `tty` or `ctx` pointers are null, the behavior is undefined.
- **Inputs**:
    - `tty`: A pointer to a `struct tty` representing the terminal. Must not be null.
    - `ctx`: A pointer to a `struct tty_ctx` containing context information. Must not be null.
- **Output**: None
- **See also**: [`tty_cmd_clearstartofline`](tty.c.driver.md#tty_cmd_clearstartofline)  (Implementation)


---
### tty_cmd_clearstartofscreen<!-- {{#callable_declaration:tty_cmd_clearstartofscreen}} -->
Clears the start of the screen in a terminal.
- **Description**: This function is used to clear the area from the top of the terminal screen to the current cursor position, effectively resetting the visual state of the terminal for the specified pane. It should be called when the terminal is ready to display new content, typically after any necessary initialization. The function does not return any value and will not modify the provided `tty` or `ctx` structures if they are invalid.
- **Inputs**:
    - `tty`: A pointer to a `struct tty` representing the terminal context. Must not be null.
    - `ctx`: A pointer to a `struct tty_ctx` containing the context for the terminal operation. Must not be null.
- **Output**: None
- **See also**: [`tty_cmd_clearstartofscreen`](tty.c.driver.md#tty_cmd_clearstartofscreen)  (Implementation)


---
### tty_cmd_deletecharacter<!-- {{#callable_declaration:tty_cmd_deletecharacter}} -->
Deletes a character at the current cursor position.
- **Description**: This function is used to delete a character from the terminal display at the current cursor position. It should be called when the terminal is in a suitable state for character deletion, typically after the terminal has been initialized and is ready to process commands. The function checks various conditions, such as the terminal's capabilities and the context provided, to determine if the deletion can be performed. If any of the conditions are not met, the function will simply redraw the pane without making any changes.
- **Inputs**:
    - `tty`: A pointer to a `struct tty` representing the terminal context. Must not be null.
    - `ctx`: A pointer to a `struct tty_ctx` containing the context for the operation, including cursor position and attributes. Must not be null.
- **Output**: None
- **See also**: [`tty_cmd_deletecharacter`](tty.c.driver.md#tty_cmd_deletecharacter)  (Implementation)


---
### tty_cmd_clearcharacter<!-- {{#callable_declaration:tty_cmd_clearcharacter}} -->
Clears a character in the terminal.
- **Description**: This function is used to clear a specific character in the terminal display. It should be called when the terminal is in a valid state and the context is properly set up. The function modifies the terminal display based on the provided context, which includes attributes and background color. It is important to ensure that the `tty` and `ctx` parameters are valid and properly initialized before calling this function.
- **Inputs**:
    - `tty`: A pointer to a `struct tty` representing the terminal. Must not be null and should be properly initialized.
    - `ctx`: A pointer to a `struct tty_ctx` containing the context for the operation. Must not be null and should contain valid attributes and background color.
- **Output**: None
- **See also**: [`tty_cmd_clearcharacter`](tty.c.driver.md#tty_cmd_clearcharacter)  (Implementation)


---
### tty_cmd_deleteline<!-- {{#callable_declaration:tty_cmd_deleteline}} -->
Deletes a line in the terminal.
- **Description**: This function is used to delete a line in the terminal display. It should be called when the terminal is in a suitable state to perform the deletion, which typically means that it has been initialized and is ready to process commands. The function checks various conditions, such as the size of the context and terminal capabilities, before proceeding with the deletion. If any of the conditions are not met, it will redraw the affected region instead of performing the deletion.
- **Inputs**:
    - `tty`: A pointer to a `struct tty` representing the terminal context. Must not be null.
    - `ctx`: A pointer to a `struct tty_ctx` containing the context for the operation. Must not be null.
- **Output**: None
- **See also**: [`tty_cmd_deleteline`](tty.c.driver.md#tty_cmd_deleteline)  (Implementation)


---
### tty_cmd_insertcharacter<!-- {{#callable_declaration:tty_cmd_insertcharacter}} -->
Inserts a character at the current cursor position.
- **Description**: This function is used to insert a character into the terminal's display at the current cursor position. It should be called when the terminal is ready to accept input, and it will handle various conditions such as terminal capabilities and the current state of the terminal. If the terminal does not support the required capabilities or if certain conditions are not met (like the terminal being in a specific mode), the function will not perform the insertion and may instead redraw the pane.
- **Inputs**:
    - `tty`: A pointer to a `struct tty` representing the terminal context. Must not be null.
    - `ctx`: A pointer to a `struct tty_ctx` containing the context for the operation, including cursor position and character attributes. Must not be null.
- **Output**: None
- **See also**: [`tty_cmd_insertcharacter`](tty.c.driver.md#tty_cmd_insertcharacter)  (Implementation)


---
### tty_cmd_insertline<!-- {{#callable_declaration:tty_cmd_insertline}} -->
Inserts a new line in the terminal.
- **Description**: This function is used to insert a new line in the terminal at the current cursor position. It should be called when the terminal is ready to accept commands and the context is properly set up. The function checks various conditions, such as the size of the terminal and the context parameters, to determine if the line can be inserted. If any of the conditions are not met, it will redraw the region instead of inserting a line.
- **Inputs**:
    - `tty`: A pointer to a `struct tty` representing the terminal. Must not be null.
    - `ctx`: A pointer to a `struct tty_ctx` containing the context for the operation. Must not be null.
- **Output**: None
- **See also**: [`tty_cmd_insertline`](tty.c.driver.md#tty_cmd_insertline)  (Implementation)


---
### tty_cmd_linefeed<!-- {{#callable_declaration:tty_cmd_linefeed}} -->
Handles a line feed command in a terminal context.
- **Description**: This function is used to process a line feed command in a terminal interface. It should be called when the terminal is ready to handle a new line, typically after a drawing operation. The function checks various conditions, such as the cursor position and terminal capabilities, to determine if a redraw is necessary. If the conditions are met, it updates the terminal's attributes and cursor position accordingly. It is important to ensure that the `tty` and `ctx` parameters are valid and properly initialized before calling this function.
- **Inputs**:
    - `tty`: A pointer to a `struct tty` representing the terminal context. Must not be null and should be properly initialized.
    - `ctx`: A pointer to a `struct tty_ctx` containing the context for the terminal operation. Must not be null and should contain valid cursor and region information.
- **Output**: None
- **See also**: [`tty_cmd_linefeed`](tty.c.driver.md#tty_cmd_linefeed)  (Implementation)


---
### tty_cmd_scrollup<!-- {{#callable_declaration:tty_cmd_scrollup}} -->
Scrolls the terminal display up.
- **Description**: This function is used to scroll the terminal display up by a specified number of lines. It should be called when the terminal is in a state that allows scrolling, typically after the terminal has been initialized and is ready to display content. The function checks various conditions, such as the terminal's capabilities and the context of the operation, to determine if scrolling is possible. If any of the conditions are not met, the function will redraw the region instead of scrolling.
- **Inputs**:
    - `tty`: A pointer to a `struct tty` representing the terminal. Must not be null.
    - `ctx`: A pointer to a `struct tty_ctx` containing the context for the scrolling operation. Must not be null. The `num` field specifies the number of lines to scroll up.
- **Output**: None
- **See also**: [`tty_cmd_scrollup`](tty.c.driver.md#tty_cmd_scrollup)  (Implementation)


---
### tty_cmd_scrolldown<!-- {{#callable_declaration:tty_cmd_scrolldown}} -->
Scrolls the terminal display down.
- **Description**: This function is used to scroll the terminal display down by a specified number of lines. It should be called when the terminal is in a state that supports scrolling, and it is typically used in response to user input or terminal commands. The function checks various conditions, such as terminal capabilities and the size of the terminal, to determine if scrolling is possible. If the conditions are not met, it will redraw the current region instead of scrolling.
- **Inputs**:
    - `tty`: A pointer to a `struct tty` representing the terminal context. Must not be null.
    - `ctx`: A pointer to a `struct tty_ctx` containing the context for the operation, including the number of lines to scroll. Must not be null.
- **Output**: None
- **See also**: [`tty_cmd_scrolldown`](tty.c.driver.md#tty_cmd_scrolldown)  (Implementation)


---
### tty_cmd_reverseindex<!-- {{#callable_declaration:tty_cmd_reverseindex}} -->
Reverses the index of the terminal display.
- **Description**: This function is intended to be called when the terminal is in a specific state where a reverse index operation is appropriate. It should be invoked when the cursor is at the bottom of the terminal and the terminal supports the reverse index feature. The function checks various conditions, such as the size of the terminal and the context state, to determine if the operation can be performed. If the conditions are not met, it will redraw the region instead of performing the reverse index.
- **Inputs**:
    - `tty`: A pointer to a `struct tty` representing the terminal. Must not be null.
    - `ctx`: A pointer to a `struct tty_ctx` containing the context for the operation. Must not be null.
- **Output**: None
- **See also**: [`tty_cmd_reverseindex`](tty.c.driver.md#tty_cmd_reverseindex)  (Implementation)


---
### tty_cmd_setselection<!-- {{#callable_declaration:tty_cmd_setselection}} -->
Sets the selection in a terminal context.
- **Description**: This function is used to set the selection in a terminal interface, which is typically called when a user wants to select text or a range of characters. It should be invoked with a valid `tty` structure that represents the terminal and a `tty_ctx` structure that contains the selection parameters. The function does not perform any validation on the selection parameters, so it is the caller's responsibility to ensure that the values provided in the `tty_ctx` are valid and within the expected ranges.
- **Inputs**:
    - `tty`: A pointer to a `struct tty` that represents the terminal context. Must not be null.
    - `ctx`: A pointer to a `struct tty_ctx` that contains the selection parameters. Must not be null. The `ptr` and `ptr2` fields should point to valid memory locations, and `num` should be a non-negative integer representing the length of the selection.
- **Output**: None
- **See also**: [`tty_cmd_setselection`](tty.c.driver.md#tty_cmd_setselection)  (Implementation)


---
### tty_cmd_rawstring<!-- {{#callable_declaration:tty_cmd_rawstring}} -->
Processes a raw string command for the terminal.
- **Description**: This function is intended to be called when a raw string command needs to be processed for a terminal. It modifies the terminal's state by setting a flag to prevent blocking, adds the command data to the terminal's input queue, and invalidates the terminal state to ensure it is updated. It is important to ensure that the `tty` and `ctx` parameters are valid and properly initialized before calling this function.
- **Inputs**:
    - `tty`: A pointer to a `struct tty` representing the terminal. Must not be null and should be properly initialized before use.
    - `ctx`: A pointer to a `struct tty_ctx` containing the command data. Must not be null. The `ptr` field should point to the command string, and the `num` field should indicate the length of the command string.
- **Output**: None
- **See also**: [`tty_cmd_rawstring`](tty.c.driver.md#tty_cmd_rawstring)  (Implementation)


---
### tty_cmd_sixelimage<!-- {{#callable_declaration:tty_cmd_sixelimage}} -->
Draws a sixel image to the terminal.
- **Description**: This function is used to render a sixel image on the terminal screen. It should be called when the terminal is ready to display images, specifically after ensuring that the terminal supports sixel graphics. The function checks the terminal's capabilities and the dimensions of the image to be drawn, clamping the drawing area as necessary. If the terminal does not support sixel graphics or if the image dimensions are invalid, it falls back to a predefined fallback image. The function modifies the terminal's state to prepare for drawing and may invalidate the current display area.
- **Inputs**:
    - `tty`: A pointer to a `struct tty` representing the terminal context. Must not be null.
    - `ctx`: A pointer to a `struct tty_ctx` containing the drawing context, including the image data and cursor position. Must not be null.
- **Output**: None
- **See also**: [`tty_cmd_sixelimage`](tty.c.driver.md#tty_cmd_sixelimage)  (Implementation)


---
### tty_cmd_syncstart<!-- {{#callable_declaration:tty_cmd_syncstart}} -->
Starts synchronized updates for the terminal.
- **Description**: This function is intended to initiate synchronized updates for a terminal interface. It should be called when the terminal is ready to start processing commands that require synchronization, particularly when dealing with overlays or pane updates. The function checks the `num` field in the provided `tty_ctx` structure to determine the appropriate action. If `num` is `0x11`, it indicates an overlay command, and synchronization starts immediately. If `num` is not `0x10`, synchronization will also start if there is an overlay present or if `num` is non-zero. It is important to ensure that the `tty` and `ctx` parameters are valid and properly initialized before calling this function.
- **Inputs**:
    - `tty`: A pointer to a `struct tty` representing the terminal context. Must not be null and should be properly initialized.
    - `ctx`: A pointer to a `struct tty_ctx` containing context information for the command. Must not be null and should have a valid `num` field.
- **Output**: None
- **See also**: [`tty_cmd_syncstart`](tty.c.driver.md#tty_cmd_syncstart)  (Implementation)


---
### tty_default_colours<!-- {{#callable_declaration:tty_default_colours}} -->
Sets default colors for a grid cell based on the window pane's style.
- **Description**: This function should be called to initialize the colors of a `grid_cell` structure based on the current style settings of the associated `window_pane`. It is particularly useful when the style of the pane has changed, as it updates the foreground and background colors accordingly. The function expects that the `window_pane` is valid and properly initialized. If the `grid_cell`'s foreground or background color is set to a default value (8), it will be updated to the active or cached colors of the pane, depending on whether the pane is currently active.
- **Inputs**:
    - `gc`: A pointer to a `grid_cell` structure that will be modified. Must not be null.
    - `wp`: A pointer to a `window_pane` structure that provides the style options. Must not be null.
- **Output**: None
- **See also**: [`tty_default_colours`](tty.c.driver.md#tty_default_colours)  (Implementation)


---
### tty_term_ncodes<!-- {{#callable_declaration:tty_term_ncodes}} -->
Returns the number of terminal codes.
- **Description**: This function is used to retrieve the total count of terminal codes defined in the system. It is typically called when initializing terminal settings or when determining the capabilities of the terminal. There are no specific preconditions for calling this function, and it is safe to call at any time after the terminal codes have been defined.
- **Inputs**:
    - None
- **Output**: Returns an unsigned integer representing the number of terminal codes available.
- **See also**: [`tty_term_ncodes`](tty-term.c.driver.md#tty_term_ncodes)  (Implementation)


---
### tty_term_apply<!-- {{#callable_declaration:tty_term_apply}} -->
Applies terminal capabilities to a `tty_term` structure.
- **Description**: This function is used to apply terminal capabilities specified in a string to a `tty_term` structure. It should be called after the `tty_term` has been initialized. The `capabilities` string can contain multiple entries, each specifying a capability and its value, separated by '='. If a capability is followed by '@', it will be removed. The `quiet` parameter controls whether debug logging is performed for the overrides. If `quiet` is set to a non-zero value, no debug messages will be logged.
- **Inputs**:
    - `term`: A pointer to a `tty_term` structure that will receive the applied capabilities. Must not be null.
    - `capabilities`: A string containing terminal capabilities to apply. The format should be 'name=value' pairs. Must not be null.
    - `quiet`: An integer flag that controls logging. A value of 0 enables logging, while any non-zero value suppresses it.
- **Output**: None
- **See also**: [`tty_term_apply`](tty-term.c.driver.md#tty_term_apply)  (Implementation)


---
### tty_term_apply_overrides<!-- {{#callable_declaration:tty_term_apply_overrides}} -->
Applies terminal overrides based on configuration.
- **Description**: This function is used to apply terminal-specific overrides that are defined in the global options. It should be called after the terminal has been initialized to ensure that the terminal's capabilities are correctly updated based on the specified overrides. The function checks for various terminal capabilities and updates the terminal's flags accordingly. It also generates an ACS (Alternate Character Set) table, which is essential for rendering certain characters correctly. If the terminal does not support specific features, appropriate flags are cleared.
- **Inputs**:
    - `term`: A pointer to a `tty_term` structure representing the terminal. Must not be null. The function will modify the flags and ACS table of this structure based on the terminal capabilities.
- **Output**: None
- **See also**: [`tty_term_apply_overrides`](tty-term.c.driver.md#tty_term_apply_overrides)  (Implementation)


---
### tty_term_create<!-- {{#callable_declaration:tty_term_create}} -->
Creates a new terminal definition.
- **Description**: This function is used to create a new terminal definition based on the provided parameters. It should be called when initializing a terminal context, and it requires a valid `tty` structure. The `name` parameter specifies the name of the terminal, while `caps` is an array of capability strings that define the terminal's features. The `ncaps` parameter indicates the number of capabilities provided. The `feat` parameter is a pointer to an integer array that will be populated with terminal features, and `cause` is a pointer to a string that will hold any error messages if the terminal does not support required capabilities. It is important to ensure that `caps` contains valid capability strings, as invalid entries may lead to errors. The function will return a pointer to the newly created `tty_term` structure, or `NULL` if an error occurs during creation, in which case `cause` will be populated with an appropriate error message.
- **Inputs**:
    - `tty`: A pointer to a `tty` structure representing the terminal context. Must not be null.
    - `name`: A string representing the name of the terminal. Must not be null.
    - `caps`: An array of strings representing terminal capabilities. Must not be null and should contain valid capability strings.
    - `ncaps`: An unsigned integer representing the number of capabilities in the `caps` array. Must be greater than zero.
    - `feat`: A pointer to an integer array that will be populated with terminal features. Must not be null.
    - `cause`: A pointer to a string that will hold error messages if the terminal does not support required capabilities. Must not be null.
- **Output**: Returns a pointer to a newly created `tty_term` structure on success, or `NULL` if an error occurs, with `cause` populated with an error message.
- **See also**: [`tty_term_create`](tty-term.c.driver.md#tty_term_create)  (Implementation)


---
### tty_term_free<!-- {{#callable_declaration:tty_term_free}} -->
Frees the resources associated with a `tty_term` structure.
- **Description**: This function is used to release all resources allocated for a `tty_term` structure. It should be called when the `tty_term` is no longer needed to prevent memory leaks. The function will free the memory for the terminal name, the codes array, and any strings within the codes that are of type `TTYCODE_STRING`. It is important to ensure that the `term` parameter is valid and has been properly initialized before calling this function.
- **Inputs**:
    - `term`: A pointer to a `tty_term` structure that is to be freed. Must not be null and should point to a valid `tty_term` instance that has been previously allocated.
- **Output**: None
- **See also**: [`tty_term_free`](tty-term.c.driver.md#tty_term_free)  (Implementation)


---
### tty_term_read_list<!-- {{#callable_declaration:tty_term_read_list}} -->
Reads terminal capabilities.
- **Description**: This function is used to read terminal capabilities based on the specified terminal name and file descriptor. It should be called after the terminal has been properly initialized. If the terminal cannot be set up, an error message is returned in the `cause` parameter, and the function returns -1. On success, it populates the `caps` array with the terminal capabilities and sets `ncaps` to the number of capabilities read.
- **Inputs**:
    - `name`: A string representing the terminal name. Must not be null.
    - `fd`: An integer file descriptor for the terminal. Must be a valid file descriptor.
    - `caps`: A pointer to an array of strings that will hold the terminal capabilities. The caller retains ownership and must free this array after use.
    - `ncaps`: A pointer to an unsigned integer that will be set to the number of capabilities read. Must not be null.
    - `cause`: A pointer to a string that will hold an error message in case of failure. The caller retains ownership and must free this string after use.
- **Output**: Returns 0 on success, or -1 on failure. On success, the `caps` array is populated with terminal capabilities.
- **See also**: [`tty_term_read_list`](tty-term.c.driver.md#tty_term_read_list)  (Implementation)


---
### tty_term_free_list<!-- {{#callable_declaration:tty_term_free_list}} -->
Frees a list of terminal capabilities.
- **Description**: This function is used to release memory allocated for a list of terminal capabilities. It should be called when the capabilities are no longer needed to prevent memory leaks. The function iterates through the list and frees each individual capability string before freeing the list itself. It is important to ensure that the `caps` parameter is not null and that `ncaps` accurately reflects the number of capabilities in the list.
- **Inputs**:
    - `caps`: A pointer to an array of strings representing terminal capabilities. Must not be null. The caller is responsible for ensuring that the memory allocated for this array and its contents is valid.
    - `ncaps`: An unsigned integer representing the number of capabilities in the `caps` array. Must be greater than or equal to zero.
- **Output**: None
- **See also**: [`tty_term_free_list`](tty-term.c.driver.md#tty_term_free_list)  (Implementation)


---
### tty_term_has<!-- {{#callable_declaration:tty_term_has}} -->
Checks if a terminal supports a specific capability.
- **Description**: This function is used to determine if a terminal, represented by the `term` structure, supports a specific capability identified by the `code` parameter. It should be called after the terminal has been properly initialized. If the `code` provided is invalid or out of range, the function will return 0, indicating that the capability is not supported.
- **Inputs**:
    - `term`: A pointer to a `tty_term` structure representing the terminal. Must not be null.
    - `code`: An enumeration value of type `tty_code_code` that specifies the capability to check. Valid values are defined in the `tty_code_code` enum.
- **Output**: Returns a non-zero value if the terminal supports the specified capability; otherwise, returns 0.
- **See also**: [`tty_term_has`](tty-term.c.driver.md#tty_term_has)  (Implementation)


---
### tty_term_string<!-- {{#callable_declaration:tty_term_string}} -->
Retrieves a terminal string associated with a specific code.
- **Description**: This function is used to obtain a string value from a terminal's capabilities based on a specified code. It should be called only after ensuring that the terminal has been properly initialized and that the code corresponds to a string type. If the terminal does not support the specified code, or if the code does not correspond to a string, an empty string is returned. This function is particularly useful for applications that need to customize terminal behavior based on the capabilities of the terminal in use.
- **Inputs**:
    - `term`: A pointer to a `struct tty_term` representing the terminal. Must not be null.
    - `code`: An enumeration value of type `enum tty_code_code` that specifies the terminal capability to retrieve. Must be a valid code defined in the enumeration.
- **Output**: Returns a pointer to a string associated with the specified code. If the code is not valid or does not correspond to a string, an empty string is returned.
- **See also**: [`tty_term_string`](tty-term.c.driver.md#tty_term_string)  (Implementation)


---
### tty_term_string_i<!-- {{#callable_declaration:tty_term_string_i}} -->
Expands a terminal capability string with an integer parameter.
- **Description**: This function is used to retrieve and expand a terminal capability string based on the provided `tty_term` structure and a specific capability code. It is essential to call this function after ensuring that the `tty_term` structure has been properly initialized. The function takes an integer parameter that may be used to modify the output string. If the expansion fails, an empty string is returned, and a debug message is logged.
- **Inputs**:
    - `term`: A pointer to a `tty_term` structure that contains terminal capabilities. Must not be null.
    - `code`: An enumeration value of type `tty_code_code` that specifies which terminal capability to expand. Must be a valid code.
    - `a`: An integer parameter used in the expansion of the terminal capability string. The valid range is implementation-defined.
- **Output**: Returns a pointer to the expanded terminal capability string. If the expansion fails, an empty string is returned.
- **See also**: [`tty_term_string_i`](tty-term.c.driver.md#tty_term_string_i)  (Implementation)


---
### tty_term_string_ii<!-- {{#callable_declaration:tty_term_string_ii}} -->
Expands a terminal capability string with two integer parameters.
- **Description**: This function is used to retrieve and expand a terminal capability string associated with a specific terminal type and capability code, using two integer parameters for expansion. It should be called after ensuring that the `tty_term` structure is properly initialized. If the capability string cannot be expanded, an empty string is returned. It is important to handle the returned string appropriately, as it may be empty if the expansion fails.
- **Inputs**:
    - `term`: A pointer to a `struct tty_term` that represents the terminal type. Must not be null.
    - `code`: An enumeration value of type `enum tty_code_code` that specifies the terminal capability to expand. Must be a valid code defined in the enumeration.
    - `a`: An integer parameter used for the expansion of the capability string. Valid values depend on the specific capability being expanded.
    - `b`: Another integer parameter used for the expansion of the capability string. Valid values depend on the specific capability being expanded.
- **Output**: Returns a pointer to a string that represents the expanded terminal capability. If the expansion fails, an empty string is returned.
- **See also**: [`tty_term_string_ii`](tty-term.c.driver.md#tty_term_string_ii)  (Implementation)


---
### tty_term_string_iii<!-- {{#callable_declaration:tty_term_string_iii}} -->
Expands a terminal string with three integer parameters.
- **Description**: This function is used to retrieve and expand a terminal string associated with a specific terminal type and code, using three integer parameters for further customization. It should be called after the terminal has been properly initialized. If the terminal string cannot be expanded, an empty string is returned. It is important to ensure that the provided `term` and `code` are valid, as invalid inputs may lead to unexpected behavior.
- **Inputs**:
    - `term`: A pointer to a `struct tty_term` representing the terminal. Must not be null.
    - `code`: An enumeration value of type `enum tty_code_code` that specifies the terminal code to expand. Must be a valid code.
    - `a`: An integer parameter used in the expansion. Valid range is implementation-defined.
    - `b`: An integer parameter used in the expansion. Valid range is implementation-defined.
    - `c`: An integer parameter used in the expansion. Valid range is implementation-defined.
- **Output**: Returns a pointer to a string that represents the expanded terminal string. If the expansion fails, an empty string is returned.
- **See also**: [`tty_term_string_iii`](tty-term.c.driver.md#tty_term_string_iii)  (Implementation)


---
### tty_term_string_s<!-- {{#callable_declaration:tty_term_string_s}} -->
Expands a terminal capability string.
- **Description**: This function is used to expand a terminal capability string based on the provided terminal context and capability code. It should be called when you need to retrieve a formatted string for a specific terminal capability, which can include parameters. The function expects that the terminal context has been properly initialized and that the capability code is valid. If the expansion fails, an empty string is returned, and a debug message is logged.
- **Inputs**:
    - `term`: A pointer to a `struct tty_term` representing the terminal context. Must not be null.
    - `code`: An enumeration value of type `enum tty_code_code` that specifies the terminal capability to expand. Must be a valid capability code.
    - `a`: A string parameter that may be used in the expansion. It can be null, but if provided, it should be a valid string.
- **Output**: Returns a pointer to a string containing the expanded terminal capability. If the expansion fails, an empty string is returned.
- **See also**: [`tty_term_string_s`](tty-term.c.driver.md#tty_term_string_s)  (Implementation)


---
### tty_term_string_ss<!-- {{#callable_declaration:tty_term_string_ss}} -->
Expands a terminal capability string with two additional parameters.
- **Description**: This function is used to retrieve and expand a terminal capability string based on the specified `tty_code_code` and two additional string parameters. It should be called after ensuring that the `tty_term` structure is properly initialized. If the expansion fails, an empty string is returned, and a debug message is logged. The function is particularly useful for applications that need to customize terminal behavior based on specific capabilities.
- **Inputs**:
    - `term`: A pointer to a `tty_term` structure that represents the terminal. Must not be null.
    - `code`: An enumeration value of type `tty_code_code` that specifies the terminal capability to expand. Valid values are defined in the `tty_code_code` enum.
    - `a`: A string parameter that will be used in the expansion. Can be null, in which case it will be treated as an empty string.
    - `b`: Another string parameter for the expansion. Can also be null, treated as an empty string.
- **Output**: Returns a pointer to the expanded string. If the expansion fails, an empty string is returned.
- **See also**: [`tty_term_string_ss`](tty-term.c.driver.md#tty_term_string_ss)  (Implementation)


---
### tty_term_number<!-- {{#callable_declaration:tty_term_number}} -->
Returns the numeric value associated with a terminal capability.
- **Description**: This function retrieves the numeric value for a specified terminal capability code from a `tty_term` structure. It should be called only after ensuring that the `tty_term` has been properly initialized and that the capability code is valid. If the capability code is not present in the terminal's capabilities, the function will return 0. If the capability exists but is not of type `TTYCODE_NUMBER`, the function will trigger a fatal error.
- **Inputs**:
    - `term`: A pointer to a `tty_term` structure representing the terminal. Must not be null.
    - `code`: An enumeration value of type `tty_code_code` representing the terminal capability code to query. Must be a valid code defined in the `tty_code_code` enum.
- **Output**: Returns an integer representing the numeric value of the specified terminal capability. If the capability is not found or is not a number, it returns 0.
- **See also**: [`tty_term_number`](tty-term.c.driver.md#tty_term_number)  (Implementation)


---
### tty_term_flag<!-- {{#callable_declaration:tty_term_flag}} -->
Retrieves the value of a specified terminal flag.
- **Description**: This function is used to obtain the value of a specific terminal flag identified by the `code` parameter. It should be called only after ensuring that the `term` structure has been properly initialized and contains the relevant terminal codes. If the specified `code` does not exist in the `term` structure, or if the type of the code is not a flag, the function will return 0. This behavior allows for safe querying of terminal capabilities without causing errors.
- **Inputs**:
    - `term`: A pointer to a `tty_term` structure representing the terminal. Must not be null and should be properly initialized before calling this function.
    - `code`: An enumeration value of type `tty_code_code` that specifies which terminal flag to retrieve. The valid range of values is defined by the `tty_code_code` enumeration. If the code does not correspond to a valid flag, the function will return 0.
- **Output**: Returns an integer representing the value of the specified terminal flag. If the flag does not exist or is not of the correct type, it returns 0.
- **See also**: [`tty_term_flag`](tty-term.c.driver.md#tty_term_flag)  (Implementation)


---
### tty_term_describe<!-- {{#callable_declaration:tty_term_describe}} -->
Describes a terminal capability.
- **Description**: This function is used to obtain a human-readable description of a specific terminal capability identified by the `code` parameter. It should be called with a valid `tty_term` structure that has been properly initialized. The function handles different types of terminal capabilities, including strings, numbers, and flags, and formats the output accordingly. If the specified capability is not present, it will indicate that the capability is missing. The output is a static string that should not be modified by the caller.
- **Inputs**:
    - `term`: A pointer to a `tty_term` structure that contains terminal capabilities. Must not be null and should be properly initialized before calling this function.
    - `code`: An enumeration value of type `tty_code_code` that specifies which terminal capability to describe. The value must be within the valid range of defined capabilities.
- **Output**: Returns a pointer to a static string containing the description of the specified terminal capability. The content of this string may change on subsequent calls.
- **See also**: [`tty_term_describe`](tty-term.c.driver.md#tty_term_describe)  (Implementation)


---
### tty_add_features<!-- {{#callable_declaration:tty_add_features}} -->
Adds terminal features based on a string.
- **Description**: This function is used to add terminal features specified in a string to a feature set. The string should contain feature names separated by specified delimiters. It is important to ensure that the feature set is initialized before calling this function. If an unknown feature is encountered, it will log a debug message and stop processing further features. The function modifies the feature set in place, adding features that are not already present.
- **Inputs**:
    - `feat`: A pointer to an integer representing the current feature set. This integer is modified in place to include the new features. Must not be null.
    - `s`: A string containing the names of the features to be added, separated by the specified delimiters. Must not be null.
    - `separators`: A string containing characters that act as delimiters for separating feature names in the input string. Must not be null.
- **Output**: None
- **See also**: [`tty_add_features`](tty-features.c.driver.md#tty_add_features)  (Implementation)


---
### tty_get_features<!-- {{#callable_declaration:tty_get_features}} -->
Retrieves a string representation of terminal features.
- **Description**: This function is used to obtain a comma-separated list of terminal features based on the provided feature bitmask. It should be called with a valid feature bitmask that specifies which features to include in the output. If no features are enabled in the bitmask, an empty string will be returned. The output string is statically allocated and will be overwritten on subsequent calls, so it should be used immediately or copied if needed later.
- **Inputs**:
    - `feat`: An integer bitmask representing the features to retrieve. Each bit corresponds to a specific feature. The function will ignore bits that are not set. Must be a valid integer; negative values are acceptable but may not yield meaningful results.
- **Output**: Returns a pointer to a statically allocated string containing the names of the enabled features, separated by commas. If no features are enabled, an empty string is returned.
- **See also**: [`tty_get_features`](tty-features.c.driver.md#tty_get_features)  (Implementation)


---
### tty_apply_features<!-- {{#callable_declaration:tty_apply_features}} -->
Applies specified terminal features.
- **Description**: This function is used to apply terminal features to a given `tty_term` structure. It should be called when you want to enable specific features for the terminal, represented by the `feat` parameter. The function checks if the `feat` is non-zero and then iterates through the available features, applying those that are not already enabled. If the features are successfully applied, the function updates the terminal's feature set and returns a success indicator. If no new features are applied, it returns zero. It is important to ensure that the `tty_term` structure is properly initialized before calling this function.
- **Inputs**:
    - `term`: A pointer to a `tty_term` structure that represents the terminal. Must not be null and should be properly initialized before use.
    - `feat`: An integer representing the features to apply. Valid values are non-zero integers that correspond to the features defined in the system. If zero is passed, the function will return immediately without making any changes.
- **Output**: Returns 1 if new features were applied, 0 if no new features were applied.
- **See also**: [`tty_apply_features`](tty-features.c.driver.md#tty_apply_features)  (Implementation)


---
### tty_default_features<!-- {{#callable_declaration:tty_default_features}} -->
Sets default features for a terminal.
- **Description**: This function is used to populate a feature set for a specified terminal type based on its name and version. It should be called with a pointer to an integer array that will be filled with the features supported by the terminal. The `name` parameter must correspond to a known terminal type, and the `version` parameter can be used to specify a minimum version requirement; if the version is less than the required version for the terminal type, no features will be added. It is important to ensure that the `feat` pointer is valid and points to an integer array that can accommodate the features being added.
- **Inputs**:
    - `feat`: A pointer to an integer array where the features will be stored. Must not be null and should point to a valid memory location.
    - `name`: A string representing the terminal type. Must not be null and should match one of the predefined terminal names.
    - `version`: An unsigned integer representing the version of the terminal. Must be non-negative.
- **Output**: The function does not return a value. It modifies the integer array pointed to by `feat` to include the features of the specified terminal.
- **See also**: [`tty_default_features`](tty-features.c.driver.md#tty_default_features)  (Implementation)


---
### tty_acs_needed<!-- {{#callable_declaration:tty_acs_needed}} -->
Determines if ACS (Alternate Character Set) is needed for a given terminal.
- **Description**: This function checks if the terminal associated with the provided `tty` structure requires the use of ACS for rendering. It should be called after the terminal has been initialized. If the `tty` pointer is null, the function will return 0, indicating that ACS is not needed. If the terminal supports UTF-8 and ACS together but has the ACS flag set to zero, the function will return 1, indicating that ACS is needed. If the terminal supports UTF-8 and the client has the UTF-8 flag set, it will return 0, indicating that ACS is not needed. In all other cases, it will return 1, indicating that ACS is needed.
- **Inputs**:
    - `tty`: A pointer to a `struct tty` representing the terminal context. Must not be null. If null, the function returns 0.
- **Output**: Returns an integer: 1 if ACS is needed, 0 if it is not needed.
- **See also**: [`tty_acs_needed`](tty-acs.c.driver.md#tty_acs_needed)  (Implementation)


---
### tty_acs_get<!-- {{#callable_declaration:tty_acs_get}} -->
Retrieves the ACS string for a given character.
- **Description**: This function is used to obtain the ACS (Alternate Character Set) string associated with a specific character code. It should be called when the terminal is set to use ACS instead of UTF-8. If the terminal does not support ACS or if the character code does not correspond to a valid ACS entry, the function will return `NULL`. It is important to ensure that the `tty` structure is properly initialized before calling this function.
- **Inputs**:
    - `tty`: A pointer to a `struct tty` that represents the terminal context. This must not be null and should be properly initialized.
    - `ch`: A character code of type `u_char` representing the character for which the ACS string is requested. Valid values are typically within the range of defined ACS characters. If the character code does not correspond to a valid ACS entry, the function will return `NULL`.
- **Output**: Returns a pointer to a string containing the ACS representation of the specified character. If the character does not have a corresponding ACS string or if ACS is not needed, it returns `NULL`.
- **See also**: [`tty_acs_get`](tty-acs.c.driver.md#tty_acs_get)  (Implementation)


---
### tty_acs_reverse_get<!-- {{#callable_declaration:tty_acs_reverse_get}} -->
Retrieves the key associated with a given string.
- **Description**: This function is used to look up a key in a reverse mapping table based on the provided string. It should be called with a string of length 2 or 3, which corresponds to the expected entries in the reverse mapping tables. If the string length is not valid, the function will return -1. If the string is found in the table, the corresponding key is returned; otherwise, -1 is returned. This function is typically used in contexts where terminal control sequences need to be translated back into their corresponding key codes.
- **Inputs**:
    - `tty`: A pointer to a `struct tty` representing the terminal context. This parameter is unused in the function and can be passed as NULL.
    - `s`: A pointer to a null-terminated string of length 2 or 3 that represents the character sequence to look up. Must not be null.
    - `slen`: The length of the string `s`. Valid values are 2 or 3. If the length is not 2 or 3, the function will return -1.
- **Output**: Returns the corresponding key code if the string is found in the mapping table; otherwise, returns -1.
- **See also**: [`tty_acs_reverse_get`](tty-acs.c.driver.md#tty_acs_reverse_get)  (Implementation)


---
### tty_acs_double_borders<!-- {{#callable_declaration:tty_acs_double_borders}} -->
Returns the UTF-8 data for double borders.
- **Description**: This function retrieves the UTF-8 representation of double borders based on the specified cell type. It is essential to ensure that the `cell_type` parameter is within the valid range defined by the underlying implementation. If an invalid `cell_type` is provided, the behavior is undefined, and the function may return a pointer to invalid data. This function should be called when you need to render double borders in a terminal interface.
- **Inputs**:
    - `cell_type`: An integer representing the type of cell for which double borders are requested. Valid values depend on the implementation and should be within the range of defined cell types. The caller must ensure that this value is valid; otherwise, the function may return a pointer to invalid data.
- **Output**: Returns a pointer to a `struct utf8_data` that contains the UTF-8 representation of the double borders for the specified cell type. If the `cell_type` is invalid, the returned pointer may not point to valid data.
- **See also**: [`tty_acs_double_borders`](tty-acs.c.driver.md#tty_acs_double_borders)  (Implementation)


---
### tty_acs_heavy_borders<!-- {{#callable_declaration:tty_acs_heavy_borders}} -->
Returns the heavy borders character data for a specified cell type.
- **Description**: This function retrieves the character data associated with heavy borders for a specified cell type. It is typically used in terminal applications where different styles of borders are required for visual representation. The function should be called with a valid `cell_type` index that corresponds to the desired heavy border style. If an invalid index is provided, the behavior is undefined, so it is important to ensure that the index is within the valid range.
- **Inputs**:
    - `cell_type`: An integer representing the type of cell for which the heavy borders are requested. Valid values depend on the implementation and should be within the range defined by the available heavy border styles. The caller must ensure that this value is valid; otherwise, the function may return unexpected results.
- **Output**: Returns a pointer to a `struct utf8_data` containing the heavy borders character data for the specified cell type. If the `cell_type` is invalid, the returned pointer may not point to valid data.
- **See also**: [`tty_acs_heavy_borders`](tty-acs.c.driver.md#tty_acs_heavy_borders)  (Implementation)


---
### tty_acs_rounded_borders<!-- {{#callable_declaration:tty_acs_rounded_borders}} -->
Returns the UTF-8 data for rounded borders.
- **Description**: This function retrieves the UTF-8 representation of rounded borders based on the specified cell type. It is essential to ensure that the `cell_type` parameter is within the valid range of defined types. If an invalid `cell_type` is provided, the behavior is undefined, and the caller should ensure that the value is appropriate before invoking this function.
- **Inputs**:
    - `cell_type`: An integer representing the type of cell for which the rounded border data is requested. Valid values should correspond to the defined types in the system. The caller must ensure that this value is within the acceptable range to avoid undefined behavior.
- **Output**: Returns a pointer to a `struct utf8_data` containing the UTF-8 representation of the rounded borders for the specified cell type. If the `cell_type` is invalid, the returned pointer may not point to a valid structure.
- **See also**: [`tty_acs_rounded_borders`](tty-acs.c.driver.md#tty_acs_rounded_borders)  (Implementation)


---
### tty_keys_build<!-- {{#callable_declaration:tty_keys_build}} -->
Builds the key mappings for a terminal.
- **Description**: This function initializes the key mappings for a `tty` structure, setting up default key bindings based on terminal capabilities and user-defined keys. It should be called after the `tty` has been initialized and before any key input is processed. The function will free any existing key mappings in the `tty` before building new ones. If the terminal type supports specific key codes, those will be added to the key mappings. Additionally, user-defined keys from global options are also incorporated into the key mappings.
- **Inputs**:
    - `tty`: A pointer to a `struct tty` that represents the terminal. This must not be null and should be properly initialized before calling this function. If the `tty` is not initialized or is null, the behavior is undefined.
- **Output**: None
- **See also**: [`tty_keys_build`](tty-keys.c.driver.md#tty_keys_build)  (Implementation)


---
### tty_keys_free<!-- {{#callable_declaration:tty_keys_free}} -->
Frees the resources associated with a `tty` structure.
- **Description**: This function should be called when the `tty` structure is no longer needed, to properly release any allocated resources. It is important to ensure that the `tty` structure has been initialized before calling this function. If the `tty` structure is null, the function will not perform any operations.
- **Inputs**:
    - `tty`: A pointer to a `struct tty`. Must not be null. The caller retains ownership of the `tty` structure and is responsible for ensuring it is properly initialized before calling this function.
- **Output**: None
- **See also**: [`tty_keys_free`](tty-keys.c.driver.md#tty_keys_free)  (Implementation)


---
### tty_keys_next<!-- {{#callable_declaration:tty_keys_next}} -->
Processes the next key input from the terminal.
- **Description**: This function is designed to be called when there is input available in the terminal's input buffer. It processes the input to determine if it corresponds to a complete key event, a mouse event, or other terminal-specific responses. The function handles various types of input, including clipboard responses, device attributes, color changes, and mouse events. It is important to ensure that the terminal is properly initialized before calling this function, and it may modify the state of the terminal or client based on the input received.
- **Inputs**:
    - `tty`: A pointer to a `struct tty` representing the terminal context. This must not be null and should be properly initialized before use.
- **Output**: Returns an integer indicating the result of the processing: 1 for a complete key event processed, 0 for no input available, and may return other values based on specific conditions encountered during processing.
- **See also**: [`tty_keys_next`](tty-keys.c.driver.md#tty_keys_next)  (Implementation)


---
### tty_keys_colours<!-- {{#callable_declaration:tty_keys_colours}} -->
Parses color information from a buffer.
- **Description**: This function is used to extract foreground and background color values from a given buffer that follows a specific escape sequence format. It should be called with a valid `tty` structure and a buffer that contains the color information. The function expects the buffer to start with the escape sequence for setting colors, and it will return an error if the format is incorrect or if the buffer is too short. The function modifies the `fg` and `bg` pointers to store the parsed color values, and it also updates the `size` pointer to indicate the number of bytes processed from the buffer.
- **Inputs**:
    - `tty`: A pointer to a `struct tty` that represents the terminal context. Must not be null.
    - `buf`: A pointer to a character buffer containing the color escape sequence. Must not be null and should be at least 6 bytes long.
    - `len`: The length of the buffer `buf`. Must be greater than or equal to 6.
    - `size`: A pointer to a size_t variable where the function will store the number of bytes processed. The caller retains ownership.
    - `fg`: A pointer to an integer where the function will store the foreground color value. The caller retains ownership.
    - `bg`: A pointer to an integer where the function will store the background color value. The caller retains ownership.
- **Output**: Returns 0 on success, -1 on format error, or 1 if the buffer is too short to process.
- **See also**: [`tty_keys_colours`](tty-keys.c.driver.md#tty_keys_colours)  (Implementation)


---
### args_set<!-- {{#callable_declaration:args_set}} -->
Sets an argument value in the argument set.
- **Description**: This function is used to associate a value with a specific flag in an argument set. It should be called when you want to add or update a value for a given flag. The function will either create a new entry for the flag if it does not exist or increment the count of an existing entry. It is important to ensure that the `args` structure is properly initialized before calling this function. If the `value` parameter is NULL or has a type of `ARGS_NONE`, it will be freed and not added to the entry.
- **Inputs**:
    - `args`: Pointer to the `args` structure where the value will be set. Must not be null.
    - `flag`: A `u_char` representing the flag for which the value is being set. Valid values depend on the specific application context.
    - `value`: Pointer to an `args_value` structure containing the value to be associated with the flag. Can be null; if it is null or of type `ARGS_NONE`, it will be freed.
    - `flags`: An integer representing additional flags for the entry. The valid range depends on the specific application context.
- **Output**: None
- **See also**: [`args_set`](arguments.c.driver.md#args_set)  (Implementation)


---
### args_create<!-- {{#callable_declaration:args_create}} -->
Creates a new `args` structure.
- **Description**: This function is used to allocate and initialize a new `args` structure, which is essential for managing command-line arguments in the application. It should be called when a new set of arguments needs to be created, typically before parsing or processing command-line inputs. The caller is responsible for freeing the allocated structure when it is no longer needed.
- **Inputs**:
    - None
- **Output**: Returns a pointer to the newly created `args` structure. If memory allocation fails, the behavior is undefined, and the caller should ensure that the environment can handle such cases.
- **See also**: [`args_create`](arguments.c.driver.md#args_create)  (Implementation)


---
### args_copy<!-- {{#callable_declaration:args_copy}} -->
Creates a copy of the provided arguments.
- **Description**: This function is used to create a duplicate of the provided `args` structure, which contains command-line arguments. It should be called when you need to preserve the original arguments while modifying or processing a copy. The function initializes a new `args` structure and populates it with the entries from the original structure. If the original structure has no entries, the new structure will also be empty. The caller is responsible for managing the memory of the returned structure, which should be freed when no longer needed.
- **Inputs**:
    - `args`: A pointer to the original `args` structure to be copied. Must not be null.
    - `argc`: An integer representing the count of command-line arguments. Must be non-negative.
    - `argv`: An array of strings representing the command-line arguments. Must not be null.
- **Output**: Returns a pointer to a new `args` structure that is a copy of the original. If the original structure is empty, the new structure will also be empty.
- **See also**: [`args_copy`](arguments.c.driver.md#args_copy)  (Implementation)


---
### args_to_vector<!-- {{#callable_declaration:args_to_vector}} -->
Converts command-line arguments to a vector.
- **Description**: This function is used to convert a structured set of command-line arguments into a standard vector format, which can be utilized by other parts of the program that expect arguments in the form of `argc` and `argv`. It initializes the output parameters `argc` and `argv`, setting `argc` to zero and `argv` to NULL. The function should be called with a valid `args` structure that contains the arguments to be converted. If the `args` structure contains values of type `ARGS_STRING`, those strings will be appended to the `argv` array. If the type is `ARGS_COMMANDS`, the corresponding command list will be processed and its string representation will also be appended. The function does not handle any memory allocation for the `argv` array; it is the caller's responsibility to manage the memory for the resulting vector.
- **Inputs**:
    - `args`: A pointer to a `struct args` that contains the command-line arguments to be converted. This pointer must not be null and should point to a valid `args` structure with a defined count of arguments.
    - `argc`: A pointer to an integer where the number of arguments will be stored. This pointer must not be null and should be initialized to zero before calling the function.
    - `argv`: A pointer to a pointer of character strings (char **). This will be populated with the converted arguments. The caller is responsible for managing the memory for this array.
- **Output**: The function returns nothing (void). The `argc` parameter will contain the number of arguments added to `argv`, and `argv` will point to an array of strings representing the command-line arguments.
- **See also**: [`args_to_vector`](arguments.c.driver.md#args_to_vector)  (Implementation)


---
### args_from_vector<!-- {{#callable_declaration:args_from_vector}} -->
Creates an array of argument values from command-line arguments.
- **Description**: This function is used to convert command-line arguments into a structured format for further processing. It should be called with the argument count and an array of argument strings, typically obtained from the main function's parameters. The function allocates memory for an array of `args_value` structures, each initialized to hold a string type. The caller is responsible for freeing the allocated memory when it is no longer needed. If `argc` is zero, an empty array will be returned.
- **Inputs**:
    - `argc`: The number of command-line arguments. Must be non-negative. If zero, an empty array will be returned.
    - `argv`: An array of strings representing the command-line arguments. Must not be null. Each string is duplicated and stored in the resulting array.
- **Output**: Returns a pointer to an array of `args_value` structures, each containing a string representation of the corresponding command-line argument. The caller must free this memory when done.
- **See also**: [`args_from_vector`](arguments.c.driver.md#args_from_vector)  (Implementation)


---
### args_free_value<!-- {{#callable_declaration:args_free_value}} -->
Frees the resources associated with an `args_value`.
- **Description**: This function should be called to release the memory allocated for an `args_value` structure. It is important to ensure that this function is called only after the `args_value` has been properly initialized and is no longer needed. The function handles different types of values, freeing the associated resources based on the type of the value stored. If the `value` is of type `ARGS_STRING`, the string is freed. If it is of type `ARGS_COMMANDS`, the command list is freed. The function also frees any cached data associated with the `args_value`. It is safe to call this function with a pointer to an `args_value` that has not been fully initialized, but it is recommended to ensure that the pointer is valid.
- **Inputs**:
    - `value`: A pointer to an `args_value` structure that needs to be freed. This pointer must not be null. The function will handle the freeing of the internal resources based on the type of the value.
- **Output**: None
- **See also**: [`args_free_value`](arguments.c.driver.md#args_free_value)  (Implementation)


---
### args_free_values<!-- {{#callable_declaration:args_free_values}} -->
Frees an array of argument values.
- **Description**: This function is used to release memory associated with an array of `args_value` structures. It should be called when the values are no longer needed to prevent memory leaks. The function iterates through the specified number of values and calls a freeing function for each individual value. It is important to ensure that the `values` pointer is not null and that `count` is a non-negative integer, as invalid inputs may lead to undefined behavior.
- **Inputs**:
    - `values`: A pointer to an array of `args_value` structures. Must not be null. The caller retains ownership of the memory and is responsible for ensuring that the pointer is valid.
    - `count`: The number of `args_value` structures in the array. Must be a non-negative integer. If count is zero, the function will safely do nothing.
- **Output**: None
- **See also**: [`args_free_values`](arguments.c.driver.md#args_free_values)  (Implementation)


---
### args_free<!-- {{#callable_declaration:args_free}} -->
Frees the memory allocated for an `args` structure.
- **Description**: This function should be called to release the resources associated with an `args` structure when it is no longer needed. It is important to ensure that the `args` pointer passed to this function is valid and was previously allocated. The function will recursively free all associated values and entries within the `args` structure, preventing memory leaks. It is safe to call this function even if the `args` pointer is null, as it will handle such cases gracefully.
- **Inputs**:
    - `args`: A pointer to an `args` structure that needs to be freed. Must not be null.
- **Output**: None
- **See also**: [`args_free`](arguments.c.driver.md#args_free)  (Implementation)


---
### args_print<!-- {{#callable_declaration:args_print}} -->
Prints the arguments in a formatted string.
- **Description**: This function is used to generate a formatted string representation of the provided `args` structure, which contains command-line arguments. It processes both flags and their associated values, formatting them appropriately. The function should be called after the `args` structure has been properly initialized and populated with values. It handles various edge cases, such as optional values and empty argument lists, ensuring that the output string is correctly formatted. The caller is responsible for freeing the returned string when it is no longer needed.
- **Inputs**:
    - `args`: A pointer to an `args` structure that contains the command-line arguments to be printed. This pointer must not be null and should point to a valid `args` structure that has been initialized and populated with data.
- **Output**: Returns a pointer to a dynamically allocated string containing the formatted representation of the arguments. The caller is responsible for freeing this string.
- **See also**: [`args_print`](arguments.c.driver.md#args_print)  (Implementation)


---
### args_escape<!-- {{#callable_declaration:args_escape}} -->
Escapes special characters in a string.
- **Description**: This function is used to escape special characters in a given string, making it safe for use in command-line arguments or shell commands. It should be called with a non-null string, and it will return a newly allocated string that contains the escaped version of the input. If the input string is empty, it will return a string containing two single quotes. The function handles various special characters and quotes, ensuring that the output is properly formatted for shell usage.
- **Inputs**:
    - `s`: A pointer to a null-terminated string that needs to be escaped. Must not be null. If the string is empty, the function will return a string with two single quotes.
- **Output**: Returns a pointer to a newly allocated string containing the escaped version of the input. The caller is responsible for freeing this memory. If the input is empty, it returns a string with two single quotes.
- **See also**: [`args_escape`](arguments.c.driver.md#args_escape)  (Implementation)


---
### args_has<!-- {{#callable_declaration:args_has}} -->
Checks if a specific flag exists in the arguments.
- **Description**: This function is used to determine the count of occurrences of a specific flag within a given set of arguments. It should be called after the arguments have been properly initialized. If the specified flag is not found, the function will return zero. The function is useful for validating the presence of flags in command-line arguments or configuration settings.
- **Inputs**:
    - `args`: A pointer to a `struct args` that represents the set of arguments. This must not be null and should be properly initialized before calling the function.
    - `flag`: A `u_char` representing the flag to check for. Valid values depend on the specific implementation of the argument parsing. If the flag is invalid or not found, the function will return zero.
- **Output**: Returns an integer representing the count of occurrences of the specified flag. If the flag is not found, it returns zero.
- **See also**: [`args_has`](arguments.c.driver.md#args_has)  (Implementation)


---
### args_get<!-- {{#callable_declaration:args_get}} -->
Retrieves the last value associated with a specific flag.
- **Description**: This function is used to obtain the last string value associated with a given flag from a set of arguments. It should be called after the arguments have been properly initialized and populated. If the specified flag does not exist or if there are no values associated with it, the function will return `NULL`. It is important to ensure that the `args` structure is valid and properly initialized before calling this function.
- **Inputs**:
    - `args`: A pointer to a `struct args` that contains the argument set. Must not be null.
    - `flag`: A `u_char` representing the specific flag to look for. Valid values depend on the context of the application.
- **Output**: Returns a pointer to the last string value associated with the specified flag, or `NULL` if the flag does not exist or has no associated values.
- **See also**: [`args_get`](arguments.c.driver.md#args_get)  (Implementation)


---
### args_first<!-- {{#callable_declaration:args_first}} -->
Retrieves the first argument entry.
- **Description**: This function is used to obtain the first entry from a set of arguments represented by the `args` structure. It should be called after the `args` structure has been properly initialized. If there are no entries in the argument tree, the function will return 0 and set the `entry` pointer to NULL. If an entry is found, the function will return the flag associated with that entry.
- **Inputs**:
    - `args`: A pointer to the `args` structure containing the argument entries. Must not be null.
    - `entry`: A pointer to a pointer where the first argument entry will be stored. The caller retains ownership of this pointer.
- **Output**: Returns the flag of the first argument entry if found, or 0 if no entries are present.
- **See also**: [`args_first`](arguments.c.driver.md#args_first)  (Implementation)


---
### args_next<!-- {{#callable_declaration:args_next}} -->
Retrieves the next argument entry.
- **Description**: This function is used to iterate through a list of argument entries. It should be called with a pointer to an `args_entry` pointer, which will be updated to point to the next entry in the list. The function must be called after the initial entry has been set, and it will return 0 if there are no more entries to process. If an entry is found, the function returns the flag associated with that entry.
- **Inputs**:
    - `entry`: A pointer to a pointer of type `struct args_entry`. This must not be null and should point to the current entry. The function will update this pointer to the next entry in the list.
- **Output**: Returns the flag of the next argument entry as an unsigned char. If there are no more entries, it returns 0.
- **See also**: [`args_next`](arguments.c.driver.md#args_next)  (Implementation)


---
### args_count<!-- {{#callable_declaration:args_count}} -->
Returns the count of arguments.
- **Description**: This function retrieves the number of arguments stored in the `args` structure. It should be called after the `args` structure has been properly initialized and populated with arguments. The function does not modify the `args` structure or its contents.
- **Inputs**:
    - `args`: A pointer to an `args` structure that contains the arguments. This pointer must not be null and should point to a valid `args` instance that has been initialized and populated. If the pointer is null or points to an uninitialized structure, the behavior is undefined.
- **Output**: Returns an unsigned integer representing the count of arguments in the `args` structure.
- **See also**: [`args_count`](arguments.c.driver.md#args_count)  (Implementation)


---
### args_values<!-- {{#callable_declaration:args_values}} -->
Returns the values associated with the given arguments.
- **Description**: This function retrieves the values from an `args` structure. It should be called after the `args` structure has been properly initialized and populated with values. If the `args` structure is null or uninitialized, the behavior is undefined, and the caller should ensure that the structure is valid before invoking this function.
- **Inputs**:
    - `args`: A pointer to an `args` structure from which values are to be retrieved. This pointer must not be null and should point to a valid `args` structure that has been initialized and populated with values.
- **Output**: Returns a pointer to an array of `args_value` structures representing the values associated with the provided `args` structure. If there are no values, the return value may be null.
- **See also**: [`args_values`](arguments.c.driver.md#args_values)  (Implementation)


---
### args_string<!-- {{#callable_declaration:args_string}} -->
Retrieves the string representation of an argument.
- **Description**: This function is used to obtain the string value of an argument at a specified index from a given `args` structure. It should be called after ensuring that the `args` structure has been properly initialized and populated with values. If the provided index is greater than or equal to the count of arguments in the `args` structure, the function will return `NULL`, indicating that the requested argument does not exist.
- **Inputs**:
    - `args`: A pointer to a `struct args` that contains the arguments. This pointer must not be null and should point to a valid `args` structure that has been initialized and populated.
    - `idx`: An unsigned integer representing the index of the argument to retrieve. It must be less than the count of arguments in the `args` structure. If `idx` is equal to or greater than `args->count`, the function will return `NULL`.
- **Output**: Returns a pointer to a string representing the value of the argument at the specified index. If the index is out of bounds, it returns `NULL`.
- **See also**: [`args_string`](arguments.c.driver.md#args_string)  (Implementation)


---
### args_make_commands_now<!-- {{#callable_declaration:args_make_commands_now}} -->
Creates a list of commands from the provided arguments.
- **Description**: This function is used to generate a list of commands based on the provided arguments. It should be called when you need to create commands dynamically, typically after parsing user input. The function takes an index to specify the position in the argument list and an expand flag to determine if the arguments should be expanded. If the command list cannot be created due to an error, an error message will be logged, and the function will return `NULL`. It is important to ensure that the `self` and `item` parameters are valid and properly initialized before calling this function.
- **Inputs**:
    - `self`: A pointer to a `cmd` structure representing the command context. Must not be null.
    - `item`: A pointer to a `cmdq_item` structure representing the command queue item. Must not be null.
    - `idx`: An unsigned integer representing the index of the argument to process. Valid values depend on the context of the command.
    - `expand`: An integer flag indicating whether to expand the arguments. Typically, this is a boolean value (0 or 1).
- **Output**: Returns a pointer to a `cmd_list` structure containing the generated commands, or `NULL` if an error occurred during command creation.
- **See also**: [`args_make_commands_now`](arguments.c.driver.md#args_make_commands_now)  (Implementation)


---
### args_make_commands_prepare<!-- {{#callable_declaration:args_make_commands_prepare}} -->
Prepares command arguments for execution.
- **Description**: This function is used to prepare a command for execution based on the provided arguments. It should be called after the command has been initialized and is typically used when you want to execute a command with specific parameters. The function takes an index to select a command from a list of arguments, and if the index is out of range, it will use a default command if provided. The 'wait' parameter indicates whether the command execution should wait for completion, and the 'expand' parameter determines if the command should be expanded based on the target context. It is important to ensure that the 'self' and 'item' parameters are valid and properly initialized before calling this function.
- **Inputs**:
    - `self`: A pointer to a `cmd` structure representing the command context. Must not be null.
    - `item`: A pointer to a `cmdq_item` structure representing the command queue item. Must not be null.
    - `idx`: An unsigned integer representing the index of the command to prepare. Must be within the range of available commands.
    - `default_command`: A string representing the default command to use if the index is out of range. Can be null.
    - `wait`: An integer flag indicating whether to wait for the command to complete. Valid values are 0 (do not wait) and 1 (wait).
    - `expand`: An integer flag indicating whether to expand the command based on the target context. Valid values are 0 (do not expand) and 1 (expand).
- **Output**: Returns a pointer to an `args_command_state` structure that contains the prepared command state. If the preparation fails, the behavior is undefined.
- **See also**: [`args_make_commands_prepare`](arguments.c.driver.md#args_make_commands_prepare)  (Implementation)


---
### args_make_commands<!-- {{#callable_declaration:args_make_commands}} -->
Creates a list of commands from the provided arguments.
- **Description**: This function is used to generate a list of commands based on the provided command state and arguments. It should be called when you need to parse command-line arguments into a structured command list. The function expects that the `state` has been properly initialized and that `argc` and `argv` represent the command-line arguments. If the `state->cmdlist` is already populated and `argc` is zero, it will return the existing command list. If parsing fails, an error message will be set in the `error` parameter.
- **Inputs**:
    - `state`: A pointer to an `args_command_state` structure that holds the state for command parsing. Must not be null.
    - `argc`: An integer representing the number of command-line arguments. Must be non-negative.
    - `argv`: An array of strings representing the command-line arguments. Must not be null.
    - `error`: A pointer to a string where error messages will be stored in case of parsing failure. Caller retains ownership.
- **Output**: Returns a pointer to a `cmd_list` structure containing the parsed commands. If parsing fails, it returns NULL and sets an error message in the `error` parameter.
- **See also**: [`args_make_commands`](arguments.c.driver.md#args_make_commands)  (Implementation)


---
### args_make_commands_free<!-- {{#callable_declaration:args_make_commands_free}} -->
Frees resources associated with the command state.
- **Description**: This function is used to release all resources associated with a given `args_command_state` structure. It should be called when the command state is no longer needed, typically to prevent memory leaks. The function checks if the `cmdlist` and the client reference are non-null before attempting to free them, ensuring that it does not dereference null pointers. After freeing the command list and the client, it also frees the file name and the command string associated with the state, followed by the state itself.
- **Inputs**:
    - `state`: A pointer to an `args_command_state` structure that must not be null. This structure contains the command list and other resources that need to be freed. If the pointer is null, the function does nothing.
- **Output**: None
- **See also**: [`args_make_commands_free`](arguments.c.driver.md#args_make_commands_free)  (Implementation)


---
### args_make_commands_get_command<!-- {{#callable_declaration:args_make_commands_get_command}} -->
Retrieves the command from the command state.
- **Description**: This function is used to obtain the command string from the provided `args_command_state` structure. It should be called when you need to extract the command that is currently being processed. If the `cmdlist` in the state is not null, it retrieves the name of the first command in the list. If the list is empty, it returns an empty string. If `cmdlist` is null, it extracts the command from the `cmd` field of the state, stopping at the first space or comma. The caller is responsible for freeing the returned string.
- **Inputs**:
    - `state`: A pointer to an `args_command_state` structure that holds the current command state. Must not be null.
- **Output**: Returns a pointer to a string containing the command. The caller must free this string when it is no longer needed.
- **See also**: [`args_make_commands_get_command`](arguments.c.driver.md#args_make_commands_get_command)  (Implementation)


---
### args_first_value<!-- {{#callable_declaration:args_first_value}} -->
Retrieves the first value associated with a specified flag.
- **Description**: This function is used to obtain the first value from a set of values associated with a specific flag in the provided `args` structure. It should be called after ensuring that the `args` structure has been properly initialized and populated with entries. If the specified flag does not correspond to any entry in the `args`, the function will return `NULL`. It is important to handle the case where the return value is `NULL`, indicating that no values are available for the given flag.
- **Inputs**:
    - `args`: A pointer to an `args` structure that contains the entries to search. Must not be null.
    - `flag`: A `u_char` value representing the flag for which the first associated value is to be retrieved. Valid values depend on the specific implementation and usage context.
- **Output**: Returns a pointer to the first `args_value` associated with the specified flag, or `NULL` if no such value exists.
- **See also**: [`args_first_value`](arguments.c.driver.md#args_first_value)  (Implementation)


---
### args_next_value<!-- {{#callable_declaration:args_next_value}} -->
Retrieves the next value in a linked list of argument values.
- **Description**: This function is used to traverse a linked list of `args_value` structures. It should be called with a pointer to a valid `args_value` structure that is part of a linked list. If the provided `value` is the last element in the list, the function will return `NULL`. It is important to ensure that the `value` parameter is not `NULL` before calling this function, as passing a `NULL` pointer will result in undefined behavior.
- **Inputs**:
    - `value`: A pointer to an `args_value` structure that is part of a linked list. Must not be null. If the `value` is the last element in the list, the function will return `NULL`.
- **Output**: Returns a pointer to the next `args_value` in the linked list, or `NULL` if there are no more elements.
- **See also**: [`args_next_value`](arguments.c.driver.md#args_next_value)  (Implementation)


---
### args_strtonum<!-- {{#callable_declaration:args_strtonum}} -->
Converts a string argument to a number within specified bounds.
- **Description**: This function is used to convert a string argument from a specified `args` structure into a numeric value of type `long long`. It should be called when you need to retrieve a numeric value from a string representation, ensuring that the value falls within the provided minimum and maximum bounds. The function will return 0 if the conversion fails, which can happen if the string is missing or if it cannot be converted to a number. Additionally, if the conversion fails due to out-of-bounds values, an error message will be set in the `cause` parameter. It is important to ensure that the `args` structure is properly initialized and contains the expected values before calling this function.
- **Inputs**:
    - `args`: A pointer to the `args` structure containing the argument values. Must not be null.
    - `flag`: A flag indicating which argument to retrieve from the `args` structure. The value must correspond to a valid entry in the `args`.
    - `minval`: The minimum allowable value for the conversion. This value must be less than or equal to `maxval`.
    - `maxval`: The maximum allowable value for the conversion. This value must be greater than or equal to `minval`.
    - `cause`: A pointer to a character pointer where an error message will be stored if the conversion fails. The caller retains ownership of the memory pointed to by this pointer.
- **Output**: Returns the converted numeric value of type `long long` if successful, or 0 if the conversion fails.
- **See also**: [`args_strtonum`](arguments.c.driver.md#args_strtonum)  (Implementation)


---
### args_strtonum_and_expand<!-- {{#callable_declaration:args_strtonum_and_expand}} -->
Converts a string argument to a number and expands it.
- **Description**: This function is used to convert a string argument from a specified `args` structure into a numeric value, while also ensuring that the value falls within a defined range specified by `minval` and `maxval`. It should be called when you need to interpret a string argument as a number, particularly in command processing contexts. The function will return 0 and set an error message in `cause` if the argument is missing or invalid. It is important to ensure that the `args` structure is properly initialized and contains the expected values before calling this function.
- **Inputs**:
    - `args`: A pointer to an `args` structure that contains the argument to be converted. Must not be null.
    - `flag`: A flag indicating which argument to retrieve from the `args` structure. Must be a valid flag corresponding to an entry in `args`.
    - `minval`: The minimum allowable value for the conversion. Must be a valid long long integer.
    - `maxval`: The maximum allowable value for the conversion. Must be a valid long long integer.
    - `item`: A pointer to a `cmdq_item` structure that may be used for context during the conversion. Must not be null.
    - `cause`: A pointer to a character pointer where error messages can be stored. The caller retains ownership of the memory pointed to by this pointer.
- **Output**: Returns the converted long long integer value if successful, or 0 if there was an error, with an appropriate error message set in `cause`.
- **See also**: [`args_strtonum_and_expand`](arguments.c.driver.md#args_strtonum_and_expand)  (Implementation)


---
### args_percentage<!-- {{#callable_declaration:args_percentage}} -->
Calculates a percentage based on a string value.
- **Description**: This function is used to compute a percentage value based on a string representation of a number found in an `args` structure. It should be called after ensuring that the `args` structure has been properly initialized and populated. The function expects a valid `flag` to identify the specific entry in the `args` structure, and it will return 0 if the entry is missing or if the associated values are empty. The `minval`, `maxval`, and `curval` parameters define the range and current value for the percentage calculation. If the string value cannot be converted to a percentage, an appropriate error message will be set in the `cause` parameter.
- **Inputs**:
    - `args`: Pointer to an `args` structure that contains the values to be processed. Must not be null.
    - `flag`: A `u_char` that specifies which entry in the `args` structure to use. Must correspond to a valid entry.
    - `minval`: The minimum value for the percentage calculation. This value should be less than or equal to `maxval`.
    - `maxval`: The maximum value for the percentage calculation. This value should be greater than or equal to `minval`.
    - `curval`: The current value to be used in the percentage calculation. This value should be within the range defined by `minval` and `maxval`.
    - `cause`: Pointer to a `char*` where error messages can be stored. The caller retains ownership of the memory pointed to by this parameter.
- **Output**: Returns the calculated percentage as a `long long`. If an error occurs, it returns 0 and sets an appropriate error message in `cause`.
- **See also**: [`args_percentage`](arguments.c.driver.md#args_percentage)  (Implementation)


---
### args_string_percentage<!-- {{#callable_declaration:args_string_percentage}} -->
Parses a percentage string and returns a corresponding value.
- **Description**: This function is used to convert a string representation of a percentage into a numerical value based on a current value. It should be called when you need to interpret a percentage input, which may be provided as a string ending with a '%' character. The function expects the input string to be non-empty and will return an error if the string is empty or if the parsed value is out of the specified bounds. The resulting value is calculated as a percentage of the current value, and it must fall within the defined minimum and maximum limits. If the input string does not end with a '%', it is treated as a direct numerical value. The caller must ensure that the `cause` pointer is valid and can be modified to reflect any error messages.
- **Inputs**:
    - `value`: A pointer to a null-terminated string representing the percentage or a direct number. Must not be null or empty. If the string is empty, the function will set `cause` to 'empty'.
    - `minval`: The minimum allowable value for the result. This value must be less than or equal to `maxval`.
    - `maxval`: The maximum allowable value for the result. This value must be greater than or equal to `minval`.
    - `curval`: The current value used to calculate the percentage. This value is used when the input string represents a percentage.
    - `cause`: A pointer to a char pointer that will be set to an error message if an error occurs. The caller retains ownership of the memory pointed to by `cause`.
- **Output**: Returns the calculated long long value based on the input string. If the input is invalid or results in an error, it returns 0 and sets `cause` to an appropriate error message.
- **See also**: [`args_string_percentage`](arguments.c.driver.md#args_string_percentage)  (Implementation)


---
### args_percentage_and_expand<!-- {{#callable_declaration:args_percentage_and_expand}} -->
Calculates a percentage and expands it based on given values.
- **Description**: This function is used to calculate a percentage based on a specified current value, minimum value, and maximum value. It should be called when you need to derive a percentage from a set of values defined in an `args` structure. Before calling, ensure that the `args` structure has been properly initialized and contains the necessary entries. If the specified entry for the given flag is missing or if the entry's values are empty, an error message will be set in the `cause` parameter.
- **Inputs**:
    - `args`: A pointer to an `args` structure that contains the values needed for the calculation. Must not be null.
    - `flag`: A flag indicating which entry in the `args` structure to use. The value must be valid and correspond to an existing entry.
    - `minval`: The minimum value for the percentage calculation. This value should be a valid long long integer.
    - `maxval`: The maximum value for the percentage calculation. This value should be a valid long long integer and must be greater than minval.
    - `curval`: The current value from which the percentage will be calculated. This value should be a valid long long integer.
    - `item`: A pointer to a `cmdq_item` structure that may be used for command queue operations. Can be null if not needed.
    - `cause`: A pointer to a character pointer where error messages can be stored. The caller retains ownership of the memory and must free it if set.
- **Output**: Returns the calculated percentage as a long long integer. If an error occurs, it returns 0 and sets an appropriate error message in the `cause` parameter.
- **See also**: [`args_percentage_and_expand`](arguments.c.driver.md#args_percentage_and_expand)  (Implementation)


---
### args_string_percentage_and_expand<!-- {{#callable_declaration:args_string_percentage_and_expand}} -->
Parses a percentage string and expands it based on current value.
- **Description**: This function is used to interpret a string that may represent a percentage of a current value, expanding it to a numerical value based on the provided minimum and maximum limits. It should be called when you need to convert a percentage string (e.g., "50%") into a corresponding value based on a current value. The function handles both percentage strings and direct numerical strings, ensuring that the resulting value falls within the specified range. If the input string ends with a '%', it calculates the percentage of the current value; otherwise, it treats the input as a direct number. The function also provides error handling by returning 0 and setting an error message in the cause parameter if the input is invalid or if the calculated value is out of bounds.
- **Inputs**:
    - `value`: A string representing either a percentage (ending with '%') or a direct number. Must not be null. If the string is invalid or cannot be parsed, an error message is set in the cause parameter.
    - `minval`: The minimum allowable value for the result. Must be a valid long long integer.
    - `maxval`: The maximum allowable value for the result. Must be a valid long long integer.
    - `curval`: The current value used for percentage calculations. Must be a valid long long integer.
    - `item`: A pointer to a `struct cmdq_item`. Must not be null. This is used for formatting the input string.
    - `cause`: A pointer to a char pointer where error messages will be stored. The caller retains ownership of the memory pointed to by this parameter.
- **Output**: Returns the calculated long long value based on the input string. If the input is invalid or results in a value outside the specified range, it returns 0 and sets an appropriate error message in the cause parameter.
- **See also**: [`args_string_percentage_and_expand`](arguments.c.driver.md#args_string_percentage_and_expand)  (Implementation)


---
### cmd_find_target<!-- {{#callable_declaration:cmd_find_target}} -->
Finds a target session, window, or pane.
- **Description**: This function is used to locate a specific target, which can be a session, window, or pane, based on the provided parameters. It should be called when you need to identify a target for command execution, and it requires a valid `cmd_find_state` structure to store the result. The function can handle various target formats, including mouse events and marked targets. If the target is not found, it can return an error message unless the `CMD_FIND_QUIET` flag is set, which suppresses error messages. The function also supports flags that modify its behavior, such as `CMD_FIND_CANFAIL`, which allows it to fail quietly.
- **Inputs**:
    - `fs`: A pointer to a `cmd_find_state` structure that will be populated with the found target. Must not be null.
    - `item`: A pointer to a `cmdq_item` structure representing the command queue item. Must not be null.
    - `target`: A string representing the target to find. It can be NULL or an empty string, in which case the current target is used.
    - `type`: An enumeration value of type `cmd_find_type` indicating the type of target to find (pane, window, or session). Must be a valid value from the enumeration.
    - `flags`: An integer representing flags that modify the function's behavior. Valid flags include `CMD_FIND_CANFAIL`, `CMD_FIND_QUIET`, and others. The behavior of the function may change based on the combination of these flags.
- **Output**: Returns 0 on success, or -1 if an error occurs and `CMD_FIND_CANFAIL` is not set. If successful, the `cmd_find_state` structure is populated with the found target.
- **See also**: [`cmd_find_target`](cmd-find.c.driver.md#cmd_find_target)  (Implementation)


---
### cmd_find_best_client<!-- {{#callable_declaration:cmd_find_best_client}} -->
Finds the best client associated with a session.
- **Description**: This function is used to identify the most suitable `client` for a given `session`. It should be called when you need to determine which client is best associated with a session, particularly in scenarios where multiple clients may be connected. The function will return a pointer to the best `client` or `NULL` if no suitable client is found. It is important to note that the `session` parameter must be valid; if the session is not attached, it will be treated as `NULL`.
- **Inputs**:
    - `s`: A pointer to a `session` structure. This parameter must not be null. If the session is not attached (i.e., `s->attached` is 0), it will be treated as `NULL`.
- **Output**: Returns a pointer to the best `client` associated with the provided `session`, or `NULL` if no suitable client is found.
- **See also**: [`cmd_find_best_client`](cmd-find.c.driver.md#cmd_find_best_client)  (Implementation)


---
### cmd_find_client<!-- {{#callable_declaration:cmd_find_client}} -->
Finds a client by name or tty.
- **Description**: This function is used to locate a `client` structure based on a specified target name or tty. If the `target` parameter is `NULL`, it will return the current client. The function will trim a trailing colon from the target string if present. It searches through all clients, checking both their names and tty names for a match. If no client is found and the `quiet` flag is not set, an error message will be reported. This function should be called when you need to interact with a specific client, ensuring that the client exists before proceeding.
- **Inputs**:
    - `item`: A pointer to a `cmdq_item` structure representing the command queue item. Must not be null.
    - `target`: A string representing the name or tty of the client to find. Can be null, in which case the current client is returned.
    - `quiet`: An integer flag indicating whether to suppress error messages if the client is not found. Valid values are 0 (not quiet) and 1 (quiet).
- **Output**: Returns a pointer to the `client` structure if found, or NULL if not found and `quiet` is set.
- **See also**: [`cmd_find_client`](cmd-find.c.driver.md#cmd_find_client)  (Implementation)


---
### cmd_find_clear_state<!-- {{#callable_declaration:cmd_find_clear_state}} -->
Clears and initializes a command find state.
- **Description**: This function is used to reset a `cmd_find_state` structure to a known initial state. It should be called before using the `cmd_find_state` to ensure that it does not contain any residual data from previous uses. The `flags` parameter allows the caller to specify any initial flags that should be set in the state. It is important to ensure that the `fs` pointer is valid and points to a properly allocated `cmd_find_state` structure before calling this function.
- **Inputs**:
    - `fs`: A pointer to a `cmd_find_state` structure that will be cleared and initialized. Must not be null and must point to a valid memory location.
    - `flags`: An integer representing flags to be set in the `cmd_find_state`. The valid range of flags depends on the specific implementation and usage context.
- **Output**: None
- **See also**: [`cmd_find_clear_state`](cmd-find.c.driver.md#cmd_find_clear_state)  (Implementation)


---
### cmd_find_empty_state<!-- {{#callable_declaration:cmd_find_empty_state}} -->
Checks if the command find state is empty.
- **Description**: This function is used to determine if a `cmd_find_state` structure is empty, meaning that it does not reference any session, window, or pane. It should be called when you need to verify that the command find state has not been initialized or set to point to any valid targets. The function returns a non-zero value if the state is empty, and zero otherwise. It is important to ensure that the `cmd_find_state` structure has been properly allocated and initialized before calling this function.
- **Inputs**:
    - `fs`: A pointer to a `cmd_find_state` structure. This parameter must not be null and should point to a valid, initialized `cmd_find_state`. If the pointer is null or points to an uninitialized structure, the behavior of the function is undefined.
- **Output**: Returns 1 if the `cmd_find_state` is empty (i.e., all its pointers are null), and 0 otherwise.
- **See also**: [`cmd_find_empty_state`](cmd-find.c.driver.md#cmd_find_empty_state)  (Implementation)


---
### cmd_find_valid_state<!-- {{#callable_declaration:cmd_find_valid_state}} -->
Finds a valid state for command execution.
- **Description**: This function is used to validate the state of a command by checking the associated session, window, and pane. It should be called when you need to ensure that the command can be executed in the current context. Preconditions include that the `cmd_find_state` structure must be properly initialized and must not contain null pointers for its session, window link, window, or window pane. If any of these conditions are not met, the function will return 0, indicating an invalid state.
- **Inputs**:
    - `fs`: A pointer to a `struct cmd_find_state`. This structure must be initialized and cannot be null. It should contain valid references to a session, a window link, a window, and a window pane. If any of these references are null, the function will return 0.
- **Output**: Returns 1 if the state is valid and the specified window has the specified pane; otherwise, it returns 0.
- **See also**: [`cmd_find_valid_state`](cmd-find.c.driver.md#cmd_find_valid_state)  (Implementation)


---
### cmd_find_copy_state<!-- {{#callable_declaration:cmd_find_copy_state}} -->
Copies the state from one command find state to another.
- **Description**: This function is used to duplicate the state of a source command find state into a destination command find state. It is essential to ensure that both the source and destination pointers are valid and not null before calling this function. The function does not perform any internal validation on the input parameters, so it is the caller's responsibility to ensure that the source state is properly initialized and that the destination state is ready to receive the copied values.
- **Inputs**:
    - `dst`: A pointer to the destination `cmd_find_state` structure where the state will be copied. Must not be null.
    - `src`: A pointer to the source `cmd_find_state` structure from which the state will be copied. Must not be null.
- **Output**: None
- **See also**: [`cmd_find_copy_state`](cmd-find.c.driver.md#cmd_find_copy_state)  (Implementation)


---
### cmd_find_from_session<!-- {{#callable_declaration:cmd_find_from_session}} -->
Sets the command find state from a session.
- **Description**: This function is used to initialize a `cmd_find_state` structure with information from a specified `session`. It should be called when you need to set the current state for command finding based on an existing session. The function clears any previous state in `fs` before populating it with the current session's window and pane information. It is important to ensure that the `session` provided is valid and properly initialized.
- **Inputs**:
    - `fs`: A pointer to a `cmd_find_state` structure that will be populated with the session's current window and pane information. Must not be null.
    - `s`: A pointer to a `session` structure from which the command find state will be derived. Must not be null.
    - `flags`: An integer representing flags that may affect the behavior of the function. The valid range of flags depends on the specific implementation and usage context.
- **Output**: None
- **See also**: [`cmd_find_from_session`](cmd-find.c.driver.md#cmd_find_from_session)  (Implementation)


---
### cmd_find_from_winlink<!-- {{#callable_declaration:cmd_find_from_winlink}} -->
Sets the command find state from a specified winlink.
- **Description**: This function is used to update the `cmd_find_state` structure with information from a given `winlink`. It should be called when you need to set the current state based on a specific window link, typically after ensuring that the `cmd_find_state` is cleared. The function will populate the state with the session and window associated with the provided winlink, as well as the active window pane. It is important to ensure that the `cmd_find_state` is properly initialized before calling this function.
- **Inputs**:
    - `fs`: A pointer to a `cmd_find_state` structure that will be updated. Must not be null.
    - `wl`: A pointer to a `winlink` structure that contains the session and window information. Must not be null.
    - `flags`: An integer representing flags that may affect the behavior of the function. The valid range is implementation-specific.
- **Output**: None
- **See also**: [`cmd_find_from_winlink`](cmd-find.c.driver.md#cmd_find_from_winlink)  (Implementation)


---
### cmd_find_from_session_window<!-- {{#callable_declaration:cmd_find_from_session_window}} -->
Finds a window from a session.
- **Description**: This function is used to locate a specific `window` within a given `session`. It should be called when you need to associate a `cmd_find_state` with a particular `session` and `window`. Before calling this function, ensure that the `cmd_find_state` is properly initialized. If the specified `window` is not found within the `session`, the function will return -1, indicating failure. Otherwise, it will return 0, and the `cmd_find_state` will be updated with the found window's details.
- **Inputs**:
    - `fs`: A pointer to a `cmd_find_state` structure that will be updated with the found window's information. Must not be null.
    - `s`: A pointer to the `session` structure from which to find the window. Must not be null.
    - `w`: A pointer to the `window` structure that is to be found within the session. Must not be null.
    - `flags`: An integer representing flags that may modify the behavior of the function. Valid values depend on the specific implementation context.
- **Output**: Returns 0 on success, indicating that the window was found and the state updated. Returns -1 if the window could not be found.
- **See also**: [`cmd_find_from_session_window`](cmd-find.c.driver.md#cmd_find_from_session_window)  (Implementation)


---
### cmd_find_from_window<!-- {{#callable_declaration:cmd_find_from_window}} -->
Finds a command state from a specified window.
- **Description**: This function is used to populate a `cmd_find_state` structure with information about a specific `window`. It should be called when you need to associate a command state with a window, typically after the command state has been cleared. If the specified window is invalid or cannot be associated with a session or winlink, the function will clear the state and return an error. The function modifies the `cmd_find_state` structure to reflect the current window and its active pane.
- **Inputs**:
    - `fs`: A pointer to a `cmd_find_state` structure that will be populated with information about the specified window. Must not be null.
    - `w`: A pointer to a `window` structure that represents the window to be associated with the command state. Must not be null.
    - `flags`: An integer representing flags that modify the behavior of the function. The valid range of flags is implementation-specific. The function will handle invalid flag values gracefully.
- **Output**: Returns 0 on success, or -1 if an error occurs while trying to find the session or winlink associated with the window.
- **See also**: [`cmd_find_from_window`](cmd-find.c.driver.md#cmd_find_from_window)  (Implementation)


---
### cmd_find_from_winlink_pane<!-- {{#callable_declaration:cmd_find_from_winlink_pane}} -->
Sets the command find state from a specified winlink and pane.
- **Description**: This function is used to initialize a `cmd_find_state` structure with information from a specified `winlink` and `window_pane`. It should be called when you need to set the command find state to a specific window and pane, typically after ensuring that the `cmd_find_state` is cleared. The function will log the state after setting it, which can be useful for debugging or tracking state changes.
- **Inputs**:
    - `fs`: A pointer to a `cmd_find_state` structure that will be populated with the session, winlink, window, and pane information. Must not be null.
    - `wl`: A pointer to a `winlink` structure representing the window link to be used. Must not be null.
    - `wp`: A pointer to a `window_pane` structure representing the pane to be associated with the command find state. Must not be null.
    - `flags`: An integer representing flags that may affect the behavior of the function. Valid values depend on the specific implementation context.
- **Output**: None
- **See also**: [`cmd_find_from_winlink_pane`](cmd-find.c.driver.md#cmd_find_from_winlink_pane)  (Implementation)


---
### cmd_find_from_pane<!-- {{#callable_declaration:cmd_find_from_pane}} -->
Finds a pane from the given pane state.
- **Description**: This function is used to locate a specific pane within a command find state. It should be called when you need to set the current pane in the command find state to a specific `window_pane`. The function expects that the `cmd_find_state` has been properly initialized before calling this function. If the pane is not found, the function will return -1, indicating an error, while a successful operation will return 0.
- **Inputs**:
    - `fs`: A pointer to a `cmd_find_state` structure that must be initialized before calling this function. It is used to store the result of the pane search. Must not be null.
    - `wp`: A pointer to a `window_pane` structure representing the pane to be found. This pointer must not be null.
    - `flags`: An integer representing flags that modify the behavior of the function. Valid values depend on the specific implementation and context.
- **Output**: Returns 0 on success, or -1 if the pane could not be found.
- **See also**: [`cmd_find_from_pane`](cmd-find.c.driver.md#cmd_find_from_pane)  (Implementation)


---
### cmd_find_from_client<!-- {{#callable_declaration:cmd_find_from_client}} -->
Finds a command state from a client.
- **Description**: This function is used to populate a `cmd_find_state` structure based on the provided `client`. It should be called when you need to determine the command context associated with a specific client. If the `client` is `NULL`, the function will treat it as if it is coming from nothing. If the client is attached to a session, it will set the command find state accordingly. If the client is unattached but has an associated pane, it will attempt to find the best session that contains that pane. If no valid pane or session can be found, it will default to treating it as coming from nothing.
- **Inputs**:
    - `fs`: A pointer to a `cmd_find_state` structure that will be populated. Must not be null.
    - `c`: A pointer to a `client` structure representing the client from which to find the command state. Can be null, in which case it will be treated as coming from nothing.
    - `flags`: An integer representing flags that modify the behavior of the function. Valid values depend on the specific implementation and context.
- **Output**: Returns 0 on success, or a negative value if an error occurs.
- **See also**: [`cmd_find_from_client`](cmd-find.c.driver.md#cmd_find_from_client)  (Implementation)


---
### cmd_find_from_mouse<!-- {{#callable_declaration:cmd_find_from_mouse}} -->
Finds a pane based on a mouse event.
- **Description**: This function is used to determine the pane associated with a mouse event, which is particularly useful in graphical user interfaces where mouse interactions are common. It should be called when a mouse event occurs, and it expects that the mouse event is valid. If the mouse event is not valid or if the pane cannot be determined, the function will return an error code. The function also clears the previous state of the command find state before attempting to find the new pane.
- **Inputs**:
    - `fs`: A pointer to a `struct cmd_find_state` that will be updated with the found pane information. Must not be null.
    - `m`: A pointer to a `struct mouse_event` that contains the details of the mouse event. The `valid` field must be set to a non-zero value to indicate that the event is valid.
    - `flags`: An integer representing flags that may modify the behavior of the function. The specific values and their meanings should be defined in the documentation for the command find state.
- **Output**: Returns 0 on success if a pane is found, or -1 if the mouse event is invalid or no pane could be determined.
- **See also**: [`cmd_find_from_mouse`](cmd-find.c.driver.md#cmd_find_from_mouse)  (Implementation)


---
### cmd_find_from_nothing<!-- {{#callable_declaration:cmd_find_from_nothing}} -->
Finds the best session and updates the command find state.
- **Description**: This function is used to initialize a `cmd_find_state` structure by finding the best available session. It should be called when there is no current session or window context. If no session is found, the state is cleared, and the function returns -1. Otherwise, it populates the `cmd_find_state` with the current window and pane information from the found session and returns 0.
- **Inputs**:
    - `fs`: A pointer to a `cmd_find_state` structure that will be populated with the found session information. Must not be null.
    - `flags`: An integer representing flags that modify the behavior of the function. Valid values depend on the specific implementation context.
- **Output**: Returns 0 on success, indicating that a session was found and the state was updated. Returns -1 if no session could be found, in which case the state is cleared.
- **See also**: [`cmd_find_from_nothing`](cmd-find.c.driver.md#cmd_find_from_nothing)  (Implementation)


---
### cmd_find<!-- {{#callable_declaration:cmd_find}} -->
Finds a command entry by its name.
- **Description**: This function is used to locate a command entry in the command table based on the provided name. It should be called when you need to retrieve a command entry for execution or inspection. The function will return a pointer to the command entry if found, or NULL if the command is unknown or ambiguous. If the command is ambiguous, the `cause` parameter will be populated with a message detailing the ambiguity. The `cause` parameter must not be NULL.
- **Inputs**:
    - `name`: A string representing the name of the command to find. It must not be NULL and should be a valid command name or alias.
    - `cause`: A pointer to a character pointer that will be used to return an error message if the command is unknown or ambiguous. The caller retains ownership of the memory pointed to by this parameter.
- **Output**: Returns a pointer to the `cmd_entry` structure corresponding to the command name if found; otherwise, returns NULL. If the command is ambiguous, the `cause` parameter will contain a message describing the ambiguity.
- **See also**: [`cmd_find`](cmd.c.driver.md#cmd_find)  (Implementation)


---
### cmd_prepend_argv<!-- {{#callable_declaration:cmd_prepend_argv}} -->
Prepends an argument to the argument vector.
- **Description**: This function is used to add a new argument to the beginning of an existing argument vector, which is typically used in command-line applications. It should be called when the argument vector is already initialized and contains valid data. The function reallocates memory for the new argument vector, copies the existing arguments, and increments the argument count. If the provided argument is null, the behavior is undefined.
- **Inputs**:
    - `argc`: A pointer to an integer representing the number of arguments in the argument vector. This value will be incremented by one after the function call.
    - `argv`: A pointer to a pointer to a character array (string array) representing the argument vector. This must not be null and should point to a valid array of strings.
    - `arg`: A pointer to a string that represents the new argument to prepend. This must not be null.
- **Output**: None
- **See also**: [`cmd_prepend_argv`](cmd.c.driver.md#cmd_prepend_argv)  (Implementation)


---
### cmd_append_argv<!-- {{#callable_declaration:cmd_append_argv}} -->
Appends an argument to an argument vector.
- **Description**: This function is used to add a new argument to an existing argument vector, which is represented as an array of strings. It is essential to call this function with a valid pointer to an integer representing the count of arguments and a pointer to a pointer of strings that will hold the arguments. The function reallocates memory for the argument vector to accommodate the new argument and duplicates the provided argument string. If the provided argument is null, the behavior is undefined.
- **Inputs**:
    - `argc`: A pointer to an integer that represents the current count of arguments. Must not be null.
    - `argv`: A pointer to a pointer of strings that represents the argument vector. Must not be null.
    - `arg`: A string representing the argument to be added. Must not be null.
- **Output**: None
- **See also**: [`cmd_append_argv`](cmd.c.driver.md#cmd_append_argv)  (Implementation)


---
### cmd_pack_argv<!-- {{#callable_declaration:cmd_pack_argv}} -->
Packs command-line arguments into a buffer.
- **Description**: This function is used to concatenate command-line arguments into a single buffer, which can be useful for passing arguments to other processes or functions. It should be called with a valid `argc` greater than zero, and the `argv` array must contain valid strings. The `buf` parameter is the destination buffer where the packed arguments will be stored, and `len` specifies the maximum size of this buffer. If the buffer is not large enough to hold all the arguments, the function will return -1, indicating a failure. The function initializes the buffer by setting the first character to the null terminator, ensuring that it starts as an empty string.
- **Inputs**:
    - `argc`: The number of command-line arguments. Must be greater than zero.
    - `argv`: An array of strings representing the command-line arguments. Must not be null.
    - `buf`: A pointer to the buffer where the packed arguments will be stored. Must not be null.
    - `len`: The size of the buffer in bytes. Must be greater than zero.
- **Output**: Returns 0 on success, or -1 if the buffer is too small to hold all arguments.
- **See also**: [`cmd_pack_argv`](cmd.c.driver.md#cmd_pack_argv)  (Implementation)


---
### cmd_unpack_argv<!-- {{#callable_declaration:cmd_unpack_argv}} -->
Unpacks command-line arguments from a buffer.
- **Description**: This function is used to extract command-line arguments from a provided buffer into an array of strings. It should be called when there is a need to parse a command-line input into its constituent arguments. The caller must ensure that the `argc` parameter is greater than zero, indicating that there are arguments to unpack. If the buffer length is insufficient to accommodate the specified number of arguments, the function will return an error and free any allocated memory for the arguments.
- **Inputs**:
    - `buf`: A pointer to the buffer containing the command-line arguments. This buffer must not be null and should contain a null-terminated string format. The function assumes that the buffer is properly formatted.
    - `len`: The length of the buffer in bytes. This value must be greater than zero. If the length is insufficient to unpack the specified number of arguments, the function will return an error.
    - `argc`: The number of arguments to unpack. This value must be greater than zero. If it is zero, the function will return immediately with a success status.
    - `argv`: A pointer to a pointer that will be set to point to the array of unpacked arguments. The caller retains ownership of this pointer and must free it after use.
- **Output**: Returns 0 on success, or -1 if an error occurs during unpacking, such as insufficient buffer length.
- **See also**: [`cmd_unpack_argv`](cmd.c.driver.md#cmd_unpack_argv)  (Implementation)


---
### cmd_copy_argv<!-- {{#callable_declaration:cmd_copy_argv}} -->
Copies an array of command-line arguments.
- **Description**: This function is used to create a duplicate of an array of command-line arguments, which is useful when you need to manipulate or pass around a copy of the arguments without affecting the original. It should be called with a valid count of arguments (`argc`) and a pointer to the original arguments array (`argv`). If `argc` is zero, the function will return `NULL`. The caller is responsible for freeing the memory allocated for the new array and its contents.
- **Inputs**:
    - `argc`: An integer representing the number of command-line arguments. Must be non-negative. If zero, the function returns NULL.
    - `argv`: A pointer to an array of strings (character pointers) representing the command-line arguments. Must not be NULL. Each string in the array can be NULL, and the function will handle this by not duplicating those entries.
- **Output**: Returns a pointer to a new array of strings, which is a copy of the input `argv` array. The new array will have the same number of elements as `argc`, and each non-NULL string from `argv` will be duplicated. If `argc` is zero, returns NULL.
- **See also**: [`cmd_copy_argv`](cmd.c.driver.md#cmd_copy_argv)  (Implementation)


---
### cmd_free_argv<!-- {{#callable_declaration:cmd_free_argv}} -->
Frees memory allocated for command-line arguments.
- **Description**: This function is used to deallocate memory that was previously allocated for an array of command-line arguments. It should be called when the arguments are no longer needed to prevent memory leaks. The function expects that the `argv` parameter points to an array of strings, each of which must have been allocated with `malloc` or a similar function. If `argc` is zero, the function will return immediately without performing any operations.
- **Inputs**:
    - `argc`: The number of command-line arguments. Must be non-negative.
    - `argv`: A pointer to an array of strings (char **). Each string must be allocated memory. Must not be null.
- **Output**: None
- **See also**: [`cmd_free_argv`](cmd.c.driver.md#cmd_free_argv)  (Implementation)


---
### cmd_stringify_argv<!-- {{#callable_declaration:cmd_stringify_argv}} -->
Converts command-line arguments into a single string.
- **Description**: This function is used to concatenate an array of command-line arguments into a single string, with each argument separated by a space. It is particularly useful when you need to pass multiple arguments as a single string to another function or process. The function should be called with a valid count of arguments (`argc`) and an array of argument strings (`argv`). If `argc` is zero, an empty string is returned. The caller is responsible for freeing the returned string when it is no longer needed.
- **Inputs**:
    - `argc`: An integer representing the number of command-line arguments. Must be non-negative.
    - `argv`: An array of strings (char**) representing the command-line arguments. Must not be null and should contain `argc` valid strings.
- **Output**: Returns a pointer to a newly allocated string containing all the arguments concatenated together, separated by spaces. The caller is responsible for freeing this string.
- **See also**: [`cmd_stringify_argv`](cmd.c.driver.md#cmd_stringify_argv)  (Implementation)


---
### cmd_get_alias<!-- {{#callable_declaration:cmd_get_alias}} -->
Retrieves the command alias associated with a given name.
- **Description**: This function is used to obtain the command alias corresponding to a specified name. It should be called when you need to resolve an alias to its actual command representation. The input name must not be null, and it is expected to be a valid string. If the alias is found, the function returns a newly allocated string containing the command associated with the alias. If the alias does not exist or if an error occurs while retrieving the alias, the function returns NULL.
- **Inputs**:
    - `name`: A pointer to a null-terminated string representing the alias name to look up. Must not be null.
- **Output**: Returns a pointer to a newly allocated string containing the command associated with the alias if found; otherwise, returns NULL.
- **See also**: [`cmd_get_alias`](cmd.c.driver.md#cmd_get_alias)  (Implementation)


---
### cmd_get_entry<!-- {{#callable_declaration:cmd_get_entry}} -->
Retrieves the command entry associated with a command.
- **Description**: This function is used to obtain the `cmd_entry` structure associated with a given `cmd` structure. It should be called after ensuring that the `cmd` has been properly initialized. If the `cmd` is null or uninitialized, the behavior is undefined.
- **Inputs**:
    - `cmd`: A pointer to a `struct cmd` that represents the command for which the entry is being retrieved. This pointer must not be null and should point to a valid command structure that has been initialized.
- **Output**: Returns a pointer to the associated `cmd_entry` structure. If the `cmd` is invalid, the return value is undefined.
- **See also**: [`cmd_get_entry`](cmd.c.driver.md#cmd_get_entry)  (Implementation)


---
### cmd_get_args<!-- {{#callable_declaration:cmd_get_args}} -->
Retrieves the arguments associated with a command.
- **Description**: This function is used to obtain the `args` structure associated with a given `cmd`. It should be called after ensuring that the `cmd` has been properly initialized. If the `cmd` is null or uninitialized, the behavior is undefined.
- **Inputs**:
    - `cmd`: A pointer to a `struct cmd` that contains the command for which the arguments are to be retrieved. Must not be null.
- **Output**: Returns a pointer to the `args` structure associated with the command. If the command does not have associated arguments, the return value may be null.
- **See also**: [`cmd_get_args`](cmd.c.driver.md#cmd_get_args)  (Implementation)


---
### cmd_get_group<!-- {{#callable_declaration:cmd_get_group}} -->
Retrieves the group identifier from a command structure.
- **Description**: This function is used to obtain the group identifier associated with a given command structure. It should be called after ensuring that the `cmd` pointer is valid and points to a properly initialized `struct cmd`. The function does not modify the input structure and is safe to call as long as the `cmd` pointer is not null.
- **Inputs**:
    - `cmd`: A pointer to a `struct cmd` that contains the command data. This pointer must not be null and should point to a valid command structure. If the pointer is null, the behavior is undefined.
- **Output**: Returns the group identifier as an unsigned integer. The value corresponds to the `group` field of the provided `struct cmd`.
- **See also**: [`cmd_get_group`](cmd.c.driver.md#cmd_get_group)  (Implementation)


---
### cmd_get_source<!-- {{#callable_declaration:cmd_get_source}} -->
Retrieves the source file and line number from a command.
- **Description**: This function is used to obtain the source file and line number associated with a given command. It should be called with a valid `cmd` structure that has been properly initialized. If the `file` pointer is not null, it will be set to point to the `file` member of the `cmd` structure. Similarly, if the `line` pointer is not null, it will be set to the `line` member of the `cmd` structure. If either pointer is null, the corresponding value will not be retrieved.
- **Inputs**:
    - `cmd`: A pointer to a `struct cmd` that contains the source information. Must not be null.
    - `file`: A pointer to a pointer to a string where the file name will be stored. Can be null, in which case the file name will not be retrieved.
    - `line`: A pointer to an unsigned integer where the line number will be stored. Can be null, in which case the line number will not be retrieved.
- **Output**: The function does not return a value. It modifies the values pointed to by `file` and `line` if they are not null.
- **See also**: [`cmd_get_source`](cmd.c.driver.md#cmd_get_source)  (Implementation)


---
### cmd_parse<!-- {{#callable_declaration:cmd_parse}} -->
Parses command arguments and returns a command structure.
- **Description**: This function is used to parse command arguments provided in an array and create a command structure based on those arguments. It should be called when you have a command string and its associated arguments, typically after validating that the command exists. The function will return a pointer to a `cmd` structure if the parsing is successful. If the command is not found or if the arguments are invalid, it will return NULL and set an error message in the `cause` parameter. It is important to ensure that the first argument in `values` is a string representing the command, and that the `count` parameter accurately reflects the number of arguments provided.
- **Inputs**:
    - `values`: An array of `args_value` structures containing the command arguments. The first element must be a string representing the command. Must not be null.
    - `count`: The number of elements in the `values` array. Must be greater than 0.
    - `file`: A string representing the source file name for error reporting. Can be null.
    - `line`: An unsigned integer representing the line number for error reporting.
    - `cause`: A pointer to a string where error messages will be stored if parsing fails. The caller retains ownership of this pointer.
- **Output**: Returns a pointer to a `cmd` structure on success, or NULL if an error occurs. If an error occurs, the `cause` parameter will contain a description of the error.
- **See also**: [`cmd_parse`](cmd.c.driver.md#cmd_parse)  (Implementation)


---
### cmd_copy<!-- {{#callable_declaration:cmd_copy}} -->
Creates a copy of a command structure.
- **Description**: This function is used to create a duplicate of a given command structure, allowing modifications to the new command without affecting the original. It should be called with a valid `cmd` structure that has been properly initialized. The `argc` and `argv` parameters are used to set the arguments for the new command. If the original command's `file` field is not null, the new command will duplicate this string as well. It is important to ensure that the `cmd` parameter is not null; otherwise, the behavior is undefined.
- **Inputs**:
    - `cmd`: A pointer to the original `cmd` structure to be copied. Must not be null.
    - `argc`: An integer representing the number of arguments to be copied. Must be non-negative.
    - `argv`: An array of strings representing the arguments for the new command. Must not be null.
- **Output**: Returns a pointer to the newly created `cmd` structure. The caller is responsible for managing the memory of this new structure.
- **See also**: [`cmd_copy`](cmd.c.driver.md#cmd_copy)  (Implementation)


---
### cmd_free<!-- {{#callable_declaration:cmd_free}} -->
Frees the resources associated with a `cmd` structure.
- **Description**: This function should be called to release the memory allocated for a `cmd` structure and its associated resources. It is essential to invoke this function when a `cmd` is no longer needed to prevent memory leaks. The function will free the `file` member of the `cmd` structure, as well as the `args` associated with it. Ensure that the `cmd` pointer passed to this function is valid and was previously allocated; passing a null pointer or an uninitialized pointer may lead to undefined behavior.
- **Inputs**:
    - `cmd`: A pointer to a `cmd` structure that needs to be freed. Must not be null and should point to a valid `cmd` instance previously allocated.
- **Output**: None
- **See also**: [`cmd_free`](cmd.c.driver.md#cmd_free)  (Implementation)


---
### cmd_print<!-- {{#callable_declaration:cmd_print}} -->
Generates a formatted string representation of a command.
- **Description**: This function is used to create a string that represents a command, including its arguments. It should be called with a valid `cmd` structure that has been properly initialized. If the command has no arguments, only the command name will be included in the output. The caller is responsible for freeing the returned string when it is no longer needed.
- **Inputs**:
    - `cmd`: A pointer to a `struct cmd` that contains the command information. This pointer must not be null and should point to a valid command structure. If the command structure is invalid or uninitialized, the behavior is undefined.
- **Output**: Returns a pointer to a dynamically allocated string containing the formatted command representation. The caller must free this string when it is no longer needed.
- **See also**: [`cmd_print`](cmd.c.driver.md#cmd_print)  (Implementation)


---
### cmd_list_new<!-- {{#callable_declaration:cmd_list_new}} -->
Creates a new command list.
- **Description**: This function is used to create a new instance of a command list, which is essential for managing a collection of commands in the application. It should be called when a new command list is needed, typically at the start of a command processing sequence. The function allocates memory for the command list structure and initializes its fields. It is important to ensure that the command list is properly freed after use to avoid memory leaks.
- **Inputs**:
    - None
- **Output**: Returns a pointer to the newly created `cmd_list` structure. If memory allocation fails, the behavior is undefined.
- **See also**: [`cmd_list_new`](cmd.c.driver.md#cmd_list_new)  (Implementation)


---
### cmd_list_copy<!-- {{#callable_declaration:cmd_list_copy}} -->
Creates a copy of a command list.
- **Description**: This function is used to create a duplicate of an existing command list, allowing modifications to the new list without affecting the original. It should be called with a valid `cmd_list` pointer that has been properly initialized. The `argc` and `argv` parameters are used to pass additional arguments to the commands being copied. If the original command list is null, the behavior is undefined.
- **Inputs**:
    - `cmdlist`: A pointer to the original `cmd_list` structure to be copied. Must not be null.
    - `argc`: An integer representing the number of arguments. It can be zero or more.
    - `argv`: An array of strings representing the arguments. This can be null if `argc` is zero.
- **Output**: Returns a pointer to a new `cmd_list` structure that is a copy of the original. The caller is responsible for managing the memory of the returned structure.
- **See also**: [`cmd_list_copy`](cmd.c.driver.md#cmd_list_copy)  (Implementation)


---
### cmd_list_append<!-- {{#callable_declaration:cmd_list_append}} -->
Appends a command to a command list.
- **Description**: This function is used to add a `cmd` to the end of a `cmd_list`. It is essential to call this function when you want to build a sequence of commands that will be executed later. The `cmd` being appended must be properly initialized before calling this function. If the `cmdlist` or `cmd` is null, the behavior is undefined.
- **Inputs**:
    - `cmdlist`: A pointer to a `cmd_list` structure where the command will be appended. Must not be null.
    - `cmd`: A pointer to a `cmd` structure that represents the command to be appended. Must not be null.
- **Output**: None
- **See also**: [`cmd_list_append`](cmd.c.driver.md#cmd_list_append)  (Implementation)


---
### cmd_list_append_all<!-- {{#callable_declaration:cmd_list_append_all}} -->
Appends all commands from one command list to another.
- **Description**: This function is used to combine two command lists by appending all commands from the `from` list to the `cmdlist`. It is important to ensure that both command lists are properly initialized before calling this function. The `from` list will have its commands' group set to match the group of the `cmdlist`, effectively reassigning the group for all commands being appended. This function does not handle any memory management for the command lists; the caller is responsible for managing the memory of the command lists.
- **Inputs**:
    - `cmdlist`: A pointer to the destination command list where commands will be appended. Must not be null.
    - `from`: A pointer to the source command list from which commands will be taken. Must not be null.
- **Output**: None
- **See also**: [`cmd_list_append_all`](cmd.c.driver.md#cmd_list_append_all)  (Implementation)


---
### cmd_list_move<!-- {{#callable_declaration:cmd_list_move}} -->
Moves commands from one list to another.
- **Description**: This function is used to transfer all commands from one `cmd_list` to another. It is typically called when you want to consolidate command lists, such as when processing commands in a batch. The destination list must be properly initialized before this function is called. After the operation, the `from` list will be empty, and its contents will be appended to the `cmdlist`. It is important to ensure that both `cmdlist` and `from` are valid and initialized `cmd_list` structures.
- **Inputs**:
    - `cmdlist`: A pointer to the destination `cmd_list` where commands will be moved. Must not be null and should be initialized.
    - `from`: A pointer to the source `cmd_list` from which commands will be moved. Must not be null and should be initialized.
- **Output**: None
- **See also**: [`cmd_list_move`](cmd.c.driver.md#cmd_list_move)  (Implementation)


---
### cmd_list_free<!-- {{#callable_declaration:cmd_list_free}} -->
Frees a command list and its associated commands.
- **Description**: This function should be called to release the resources associated with a `cmd_list` structure when it is no longer needed. It is important to ensure that this function is called only when the reference count of the `cmd_list` reaches zero, indicating that no other parts of the program are using it. The function will safely iterate through the list of commands, freeing each command and then freeing the command list itself. If the reference count is greater than zero, the function will simply return without performing any actions.
- **Inputs**:
    - `cmdlist`: A pointer to a `cmd_list` structure that must not be null. This structure contains a list of commands to be freed. If the pointer is null, the behavior is undefined.
- **Output**: None
- **See also**: [`cmd_list_free`](cmd.c.driver.md#cmd_list_free)  (Implementation)


---
### cmd_list_print<!-- {{#callable_declaration:cmd_list_print}} -->
Prints a formatted list of commands.
- **Description**: This function is used to generate a string representation of a list of commands, formatted according to their grouping. It should be called with a valid `cmd_list` structure that contains the commands to be printed. The `escaped` parameter determines whether certain characters in the output should be escaped. The function handles memory allocation for the output string, which the caller is responsible for freeing. If the `cmdlist` is null, the behavior is undefined.
- **Inputs**:
    - `cmdlist`: A pointer to a `cmd_list` structure containing the commands to be printed. Must not be null.
    - `escaped`: An integer that indicates whether to escape certain characters in the output. Valid values are 0 (no escape) and 1 (escape).
- **Output**: Returns a pointer to a dynamically allocated string containing the formatted list of commands. The caller is responsible for freeing this string when it is no longer needed.
- **See also**: [`cmd_list_print`](cmd.c.driver.md#cmd_list_print)  (Implementation)


---
### cmd_list_first<!-- {{#callable_declaration:cmd_list_first}} -->
Returns the first command in the command list.
- **Description**: This function retrieves the first command from a given command list. It should be called when you need to access the first command in the list for processing or execution. The input command list must be valid and initialized; otherwise, the behavior is undefined. If the command list is empty, the function will return a null pointer.
- **Inputs**:
    - `cmdlist`: A pointer to a `cmd_list` structure that represents the command list from which the first command is to be retrieved. This pointer must not be null and should point to a valid, initialized command list. If the command list is empty, the function will return null.
- **Output**: Returns a pointer to the first `cmd` structure in the command list, or null if the command list is empty.
- **See also**: [`cmd_list_first`](cmd.c.driver.md#cmd_list_first)  (Implementation)


---
### cmd_list_next<!-- {{#callable_declaration:cmd_list_next}} -->
Retrieves the next command in the list.
- **Description**: This function is used to traverse a linked list of commands. It should be called with a valid pointer to a `cmd` structure that represents the current command. If the provided command is the last in the list, the function will return `NULL`. It is important to ensure that the `cmd` pointer is not `NULL` before calling this function, as passing a `NULL` pointer will lead to undefined behavior.
- **Inputs**:
    - `cmd`: A pointer to a `cmd` structure representing the current command. This pointer must not be `NULL`. If the command is the last in the list, the function will return `NULL`.
- **Output**: Returns a pointer to the next `cmd` in the list, or `NULL` if there are no more commands.
- **See also**: [`cmd_list_next`](cmd.c.driver.md#cmd_list_next)  (Implementation)


---
### cmd_list_all_have<!-- {{#callable_declaration:cmd_list_all_have}} -->
Checks if all commands in the list have a specific flag set.
- **Description**: This function is used to verify whether all commands in a given command list possess a specified flag. It should be called with a valid `cmd_list` structure that has been properly initialized. If any command in the list does not have the specified flag set, the function will return 0; otherwise, it will return 1. It is important to ensure that the `cmdlist` parameter is not null, as passing a null pointer may lead to undefined behavior.
- **Inputs**:
    - `cmdlist`: A pointer to a `cmd_list` structure containing the commands to be checked. Must not be null.
    - `flag`: An integer representing the flag to check against each command's entry. The valid range depends on the specific flags defined in the context of the application.
- **Output**: Returns 1 if all commands in the list have the specified flag set; otherwise, returns 0.
- **See also**: [`cmd_list_all_have`](cmd.c.driver.md#cmd_list_all_have)  (Implementation)


---
### cmd_list_any_have<!-- {{#callable_declaration:cmd_list_any_have}} -->
Checks if any command in the list has the specified flag.
- **Description**: This function is used to determine if any command within a given command list has a specific flag set. It should be called with a valid `cmd_list` structure that has been properly initialized. If the `cmdlist` is null, the behavior is undefined. The function iterates through the commands in the list and checks their flags against the provided `flag` parameter. If at least one command matches the flag, the function returns 1; otherwise, it returns 0.
- **Inputs**:
    - `cmdlist`: A pointer to a `cmd_list` structure containing the commands to check. Must not be null.
    - `flag`: An integer representing the flag to check against the commands' flags. Valid values depend on the specific implementation of flags.
- **Output**: Returns 1 if any command in the list has the specified flag set, otherwise returns 0.
- **See also**: [`cmd_list_any_have`](cmd.c.driver.md#cmd_list_any_have)  (Implementation)


---
### cmd_mouse_at<!-- {{#callable_declaration:cmd_mouse_at}} -->
Calculates mouse coordinates relative to a window pane.
- **Description**: This function is used to determine the mouse coordinates within a specified `window_pane` based on the provided `mouse_event`. It should be called when processing mouse events to translate the mouse position into coordinates that are relevant to the pane. The function adjusts the coordinates based on the pane's offset and the status of the mouse event. It is important to ensure that the `window_pane` and `mouse_event` structures are properly initialized before calling this function. If the calculated coordinates are outside the bounds of the pane, the function will return an error.
- **Inputs**:
    - `wp`: Pointer to a `window_pane` structure representing the pane in which the mouse event occurred. Must not be null.
    - `m`: Pointer to a `mouse_event` structure containing the mouse event data. Must not be null.
    - `xp`: Pointer to a `u_int` where the calculated x-coordinate will be stored. Can be null; if not null, the function will write the x-coordinate to this location.
    - `yp`: Pointer to a `u_int` where the calculated y-coordinate will be stored. Can be null; if not null, the function will write the y-coordinate to this location.
    - `last`: An integer indicating whether this is the last mouse event in a series. A value of 1 indicates it is the last event, while 0 indicates it is not.
- **Output**: Returns 0 on success, indicating that the coordinates were successfully calculated and stored. Returns -1 if the calculated coordinates are outside the bounds of the `window_pane`.
- **See also**: [`cmd_mouse_at`](cmd.c.driver.md#cmd_mouse_at)  (Implementation)


---
### cmd_mouse_window<!-- {{#callable_declaration:cmd_mouse_window}} -->
Retrieves the window link associated with a mouse event.
- **Description**: This function is used to obtain the `winlink` structure corresponding to a mouse event, which can be useful for handling mouse interactions in a terminal multiplexer environment. It should be called with a valid `mouse_event` structure that indicates the session and window identifiers. If the mouse event is invalid or if the specified session or window cannot be found, the function will return `NULL`. If the `sp` parameter is not `NULL`, it will be set to point to the session associated with the mouse event.
- **Inputs**:
    - `m`: A pointer to a `mouse_event` structure that contains information about the mouse event. This structure must be valid and initialized. The `s` field should contain a valid session ID, and the `w` field should contain a valid window ID or -1 to refer to the current window. If the session ID is invalid or the window cannot be found, the function will return `NULL`.
    - `sp`: A pointer to a pointer to a `session` structure. This parameter can be `NULL`. If it is not `NULL`, the function will set it to point to the session associated with the mouse event.
- **Output**: Returns a pointer to a `winlink` structure associated with the specified mouse event, or `NULL` if the event is invalid or the session or window cannot be found.
- **See also**: [`cmd_mouse_window`](cmd.c.driver.md#cmd_mouse_window)  (Implementation)


---
### cmd_mouse_pane<!-- {{#callable_declaration:cmd_mouse_pane}} -->
Retrieves the active `window_pane` based on a mouse event.
- **Description**: This function is used to determine which `window_pane` is associated with a given mouse event. It should be called when handling mouse interactions, particularly to identify the pane that the mouse event pertains to. The function requires a valid `mouse_event` structure, which contains information about the mouse action. If the mouse event does not correspond to a valid pane, the function will return `NULL`. Additionally, if the `wlp` parameter is provided, it will be populated with the corresponding `winlink` structure.
- **Inputs**:
    - `m`: A pointer to a `mouse_event` structure that contains details about the mouse action. This parameter must not be null.
    - `sp`: A pointer to a pointer to a `session` structure. This can be null, but if not, it will be set to the session associated with the found pane.
    - `wlp`: A pointer to a pointer to a `winlink` structure. This can be null, but if not, it will be set to the winlink associated with the found pane.
- **Output**: Returns a pointer to the `window_pane` associated with the mouse event, or `NULL` if no valid pane is found.
- **See also**: [`cmd_mouse_pane`](cmd.c.driver.md#cmd_mouse_pane)  (Implementation)


---
### cmd_template_replace<!-- {{#callable_declaration:cmd_template_replace}} -->
Replaces placeholders in a template string.
- **Description**: This function is used to replace placeholders in a given template string with a specified string based on an index. The template can contain multiple placeholders denoted by '%', and the function will replace the placeholder corresponding to the provided index with the given string. It is important to ensure that the index is within the valid range (1-9) and that the template contains at least one placeholder. If the template does not contain any placeholders, a duplicate of the original template is returned. The function dynamically allocates memory for the resulting string, which the caller is responsible for freeing.
- **Inputs**:
    - `template`: A pointer to a null-terminated string that serves as the template. Must not be null and should contain at least one '%' character to indicate a placeholder.
    - `s`: A pointer to a null-terminated string that will replace the placeholder in the template. Must not be null.
    - `idx`: An integer representing the index of the placeholder to replace. Valid values are between 1 and 9. If the index is out of this range, the function will not perform any replacement for that placeholder.
- **Output**: Returns a pointer to a newly allocated string with the placeholders replaced. If no replacements are made, a duplicate of the original template is returned. The caller is responsible for freeing the returned string.
- **See also**: [`cmd_template_replace`](cmd.c.driver.md#cmd_template_replace)  (Implementation)


---
### cmd_attach_session<!-- {{#callable_declaration:cmd_attach_session}} -->
Attaches a client to a session.
- **Description**: This function is used to attach a client to a specified session, allowing the client to interact with it. It should be called after ensuring that the server is running and that the client is properly initialized. If the session does not exist or if there are issues with the client, appropriate error messages will be generated. The function also handles various flags that modify the behavior of the attachment, such as detaching other clients or setting specific client flags.
- **Inputs**:
    - `item`: A pointer to a `cmdq_item` structure representing the command queue item. Must not be null.
    - `tflag`: A string representing the target session or pane. Can be null, in which case the current session is used.
    - `dflag`: An integer flag indicating whether to detach other clients from the session. Valid values are 0 (do not detach) or 1 (detach).
    - `xflag`: An integer flag indicating whether to detach and kill other clients. Valid values are 0 (do not kill) or 1 (kill).
    - `rflag`: An integer flag indicating whether to set the client to read-only mode. Valid values are 0 (normal) or 1 (read-only).
    - `cflag`: A string representing the current working directory to set for the session. Can be null.
    - `Eflag`: An integer flag indicating whether to ignore environment updates. Valid values are 0 (update) or 1 (ignore).
    - `fflag`: A string representing additional flags to set for the client. Can be null.
- **Output**: Returns `CMD_RETURN_NORMAL` on successful attachment, `CMD_RETURN_ERROR` if an error occurs, such as when no sessions are available or if the client is improperly configured.
- **See also**: [`cmd_attach_session`](cmd-attach-session.c.driver.md#cmd_attach_session)  (Implementation)


---
### cmdq_new_state<!-- {{#callable_declaration:cmdq_new_state}} -->
Creates a new command queue state.
- **Description**: This function is used to create a new command queue state, which is essential for managing command execution in a session. It should be called when initializing a new command queue, typically after setting up the current command state and before executing any commands. The function takes an optional `key_event` to initialize the state with, and a `flags` parameter to set specific options for the state. If the `current` state is invalid or null, the new state will be initialized with default values.
- **Inputs**:
    - `current`: A pointer to a `cmd_find_state` structure representing the current command state. This parameter can be null, in which case the new state will not inherit any current state information.
    - `event`: A pointer to a `key_event` structure that contains information about a key event. This parameter can also be null, in which case the event will be initialized to a default value (KEYC_NONE).
    - `flags`: An integer representing flags to configure the command queue state. The valid range for this parameter is implementation-defined, and it is expected to be used to set specific options for the state.
- **Output**: Returns a pointer to a newly allocated `cmdq_state` structure. The caller is responsible for managing the memory of this structure, including freeing it when it is no longer needed.
- **See also**: [`cmdq_new_state`](cmd-queue.c.driver.md#cmdq_new_state)  (Implementation)


---
### cmdq_link_state<!-- {{#callable_declaration:cmdq_link_state}} -->
Increments the reference count of a command queue state.
- **Description**: This function is used to increase the reference count of a `cmdq_state` structure, which is typically used to manage the state of command queues in a terminal multiplexer. It should be called when a new reference to the state is created, ensuring that the state remains valid as long as there are active references. The function does not perform any checks on the validity of the `state` pointer, so it is the caller's responsibility to ensure that it is not null and points to a valid `cmdq_state` structure.
- **Inputs**:
    - `state`: A pointer to a `cmdq_state` structure whose reference count is to be incremented. Must not be null and must point to a valid `cmdq_state`. If the pointer is invalid, the behavior is undefined.
- **Output**: Returns a pointer to the same `cmdq_state` structure that was passed in, allowing the caller to continue using the state after incrementing its reference count.
- **See also**: [`cmdq_link_state`](cmd-queue.c.driver.md#cmdq_link_state)  (Implementation)


---
### cmdq_copy_state<!-- {{#callable_declaration:cmdq_copy_state}} -->
Copies the command queue state.
- **Description**: This function is used to create a copy of the current command queue state, which is essential for managing command execution in a session. It should be called when you need to duplicate the state for a new command queue, ensuring that the new state is initialized correctly based on the provided parameters. The function can handle both a specified current state and a default state based on the existing state. If the `current` parameter is `NULL`, the function will use the current state of the provided `state` parameter.
- **Inputs**:
    - `state`: A pointer to the `cmdq_state` structure that represents the current command queue state. This parameter must not be null and should point to a valid state object.
    - `current`: A pointer to a `cmd_find_state` structure that represents the current command find state. This parameter can be null. If it is null, the function will use the current state from the `state` parameter.
- **Output**: Returns a pointer to a new `cmdq_state` structure that represents the copied state. If the input `state` is invalid or null, the behavior is undefined.
- **See also**: [`cmdq_copy_state`](cmd-queue.c.driver.md#cmdq_copy_state)  (Implementation)


---
### cmdq_free_state<!-- {{#callable_declaration:cmdq_free_state}} -->
Frees the command queue state.
- **Description**: This function is used to release resources associated with a `cmdq_state` structure. It should be called when the state is no longer needed, typically when the reference count reaches zero. The function decrements the reference count and, if it reaches zero, it will free any associated formats and the state itself. It is important to ensure that the `state` parameter is valid and was previously allocated; passing a null pointer or an invalid pointer may lead to undefined behavior.
- **Inputs**:
    - `state`: A pointer to a `cmdq_state` structure that is to be freed. This pointer must not be null and should point to a valid state that has been previously allocated. The function will decrement the reference count of the state, and if it reaches zero, it will free the associated resources.
- **Output**: None
- **See also**: [`cmdq_free_state`](cmd-queue.c.driver.md#cmdq_free_state)  (Implementation)


---
### cmdq_add_formats<!-- {{#callable_declaration:cmdq_add_formats}} -->
Adds format definitions to a command queue state.
- **Description**: This function is used to add format definitions from a `format_tree` to the `cmdq_state`. It should be called when you want to ensure that the command queue state has the necessary format definitions for processing commands. If the `formats` field in the `cmdq_state` is `NULL`, it will be initialized with a default format before merging the new formats. This function is typically used in the context of command processing where format definitions are required.
- **Inputs**:
    - `state`: A pointer to a `cmdq_state` structure that represents the current state of the command queue. Must not be null.
    - `ft`: A pointer to a `format_tree` structure containing the format definitions to be added. Must not be null.
- **Output**: None
- **See also**: [`cmdq_add_formats`](cmd-queue.c.driver.md#cmdq_add_formats)  (Implementation)


---
### cmdq_merge_formats<!-- {{#callable_declaration:cmdq_merge_formats}} -->
Merges format data into a format tree.
- **Description**: This function is used to combine format information from a command queue item and its associated state into a specified format tree. It should be called when there is a need to aggregate command-related formats, typically after a command has been executed. The function checks if the `cmd` field of the `cmdq_item` is not null, and if so, retrieves the corresponding command entry to add its name to the format tree. Additionally, if the `formats` field of the `state` associated with the `cmdq_item` is not null, it merges those formats into the provided format tree. It is important to ensure that the `item` and `ft` parameters are valid and properly initialized before calling this function.
- **Inputs**:
    - `item`: A pointer to a `cmdq_item` structure that contains the command information. Must not be null.
    - `ft`: A pointer to a `format_tree` structure where the formats will be merged. Must not be null.
- **Output**: None
- **See also**: [`cmdq_merge_formats`](cmd-queue.c.driver.md#cmdq_merge_formats)  (Implementation)


---
### cmdq_new<!-- {{#callable_declaration:cmdq_new}} -->
Creates a new command queue.
- **Description**: This function is used to create a new command queue, which is essential for managing commands in a structured manner. It should be called when a new command queue is needed, typically during the initialization phase of a program. The function allocates memory for the command queue and initializes its internal list structure. It is important to ensure that the created queue is eventually freed to avoid memory leaks.
- **Inputs**:
    - None
- **Output**: Returns a pointer to the newly created `cmdq_list` structure. If memory allocation fails, the behavior is undefined.
- **See also**: [`cmdq_new`](cmd-queue.c.driver.md#cmdq_new)  (Implementation)


---
### cmdq_free<!-- {{#callable_declaration:cmdq_free}} -->
Frees a command queue.
- **Description**: This function is used to deallocate memory associated with a command queue. It should only be called when the command queue is no longer needed. Before calling this function, ensure that the command queue is empty; otherwise, it will trigger a fatal error. This function does not return a value.
- **Inputs**:
    - `queue`: A pointer to a `cmdq_list` structure representing the command queue to be freed. This pointer must not be null and must point to a valid command queue that has been previously allocated. If the queue is not empty when this function is called, it will result in a fatal error.
- **Output**: None
- **See also**: [`cmdq_free`](cmd-queue.c.driver.md#cmdq_free)  (Implementation)


---
### cmdq_get_name<!-- {{#callable_declaration:cmdq_get_name}} -->
Retrieves the name of a command queue item.
- **Description**: This function is used to obtain the name associated with a `cmdq_item`. It should be called when you need to access the name of a command queue item, typically after the item has been created and initialized. The function does not modify the state of the `cmdq_item` and is safe to call as long as the `item` pointer is valid.
- **Inputs**:
    - `item`: A pointer to a `cmdq_item` structure. This pointer must not be null and should point to a valid command queue item. If the pointer is null, the behavior is undefined.
- **Output**: Returns a pointer to a string representing the name of the command queue item. If the `item` is valid, this string will be a valid C string; otherwise, the behavior is undefined.
- **See also**: [`cmdq_get_name`](cmd-queue.c.driver.md#cmdq_get_name)  (Implementation)


---
### cmdq_get_client<!-- {{#callable_declaration:cmdq_get_client}} -->
Retrieves the `client` associated with a command queue item.
- **Description**: This function is used to obtain the `client` structure associated with a given `cmdq_item`. It should be called when you need to access the client that is linked to a specific command queue item. The `item` parameter must be a valid pointer to a `cmdq_item` structure; passing a null pointer will result in undefined behavior.
- **Inputs**:
    - `item`: A pointer to a `cmdq_item` structure. This parameter must not be null and must point to a valid `cmdq_item`. If the pointer is invalid, the behavior of the function is undefined.
- **Output**: Returns a pointer to the `client` associated with the provided `cmdq_item`. If the `item` does not have an associated client, the return value will be null.
- **See also**: [`cmdq_get_client`](cmd-queue.c.driver.md#cmdq_get_client)  (Implementation)


---
### cmdq_get_target_client<!-- {{#callable_declaration:cmdq_get_target_client}} -->
Retrieves the target client associated with a command queue item.
- **Description**: This function is used to obtain the `client` structure that is designated as the target for a specific command queue item. It should be called after ensuring that the `cmdq_item` has been properly initialized. If the `item` parameter is null, the behavior is undefined.
- **Inputs**:
    - `item`: A pointer to a `cmdq_item` structure that represents the command queue item. This parameter must not be null, as it is essential for retrieving the target client.
- **Output**: Returns a pointer to the `client` structure associated with the specified command queue item. If the `item` does not have a target client, the return value may be null.
- **See also**: [`cmdq_get_target_client`](cmd-queue.c.driver.md#cmdq_get_target_client)  (Implementation)


---
### cmdq_get_state<!-- {{#callable_declaration:cmdq_get_state}} -->
Retrieves the state associated with a command queue item.
- **Description**: This function is used to obtain the `cmdq_state` associated with a given `cmdq_item`. It should be called when you need to access the state of a command queue item, typically after the item has been created and initialized. The caller must ensure that the `item` parameter is valid and not null; otherwise, the behavior is undefined.
- **Inputs**:
    - `item`: A pointer to a `cmdq_item` structure. Must not be null. The function will return the state associated with this item.
- **Output**: Returns a pointer to the `cmdq_state` associated with the provided `cmdq_item`. If the item is invalid, the behavior is undefined.
- **See also**: [`cmdq_get_state`](cmd-queue.c.driver.md#cmdq_get_state)  (Implementation)


---
### cmdq_get_target<!-- {{#callable_declaration:cmdq_get_target}} -->
Retrieves the target state from a command queue item.
- **Description**: This function is used to obtain the target state associated with a command queue item. It should be called after ensuring that the `cmdq_item` is valid and properly initialized. The function does not modify the input item, and it is safe to call even if the item does not have a valid target; however, the behavior in such cases should be handled by the caller.
- **Inputs**:
    - `item`: A pointer to a `cmdq_item` structure. Must not be null and should point to a valid command queue item. If the item is invalid, the behavior is undefined.
- **Output**: Returns a pointer to a `cmd_find_state` structure representing the target state. If the target is not set, the returned pointer may still be valid but should be checked by the caller.
- **See also**: [`cmdq_get_target`](cmd-queue.c.driver.md#cmdq_get_target)  (Implementation)


---
### cmdq_get_source<!-- {{#callable_declaration:cmdq_get_source}} -->
Retrieves the source state of a command queue item.
- **Description**: This function is used to obtain the `cmd_find_state` associated with a given `cmdq_item`. It should be called when you need to access the source state of a command queue item, typically after the item has been created and initialized. The caller must ensure that the `item` parameter is valid and not null; otherwise, the behavior is undefined.
- **Inputs**:
    - `item`: A pointer to a `cmdq_item` structure. Must not be null. The function expects a valid command queue item from which to retrieve the source state.
- **Output**: Returns a pointer to the `cmd_find_state` structure associated with the provided `cmdq_item`. If the `item` is invalid, the behavior is undefined.
- **See also**: [`cmdq_get_source`](cmd-queue.c.driver.md#cmdq_get_source)  (Implementation)


---
### cmdq_get_event<!-- {{#callable_declaration:cmdq_get_event}} -->
Retrieves the key event associated with a command queue item.
- **Description**: This function is used to obtain the `key_event` structure associated with a given `cmdq_item`. It should be called after ensuring that the `cmdq_item` has been properly initialized and is valid. The function does not perform any checks on the validity of the `item` parameter, so it is the caller's responsibility to ensure that it is not null and points to a valid `cmdq_item`. Accessing the event structure returned by this function should be done with caution, as it may not be valid if the `cmdq_item` is not in a proper state.
- **Inputs**:
    - `item`: A pointer to a `cmdq_item` structure. Must not be null and should point to a valid command queue item. The function does not validate the state of the item, so it is the caller's responsibility to ensure it is in a valid state.
- **Output**: Returns a pointer to the `key_event` structure associated with the provided `cmdq_item`. The returned pointer should be used with caution, as the validity of the event depends on the state of the `cmdq_item`.
- **See also**: [`cmdq_get_event`](cmd-queue.c.driver.md#cmdq_get_event)  (Implementation)


---
### cmdq_get_current<!-- {{#callable_declaration:cmdq_get_current}} -->
Retrieves the current command state from a command queue item.
- **Description**: This function is used to obtain the current state of a command from a given command queue item. It should be called when you need to access the state associated with a command that is currently being processed. The input parameter must not be null, and the function will return a pointer to the current command state. If the provided item is invalid or does not contain a valid state, the behavior is undefined.
- **Inputs**:
    - `item`: A pointer to a `cmdq_item` structure representing the command queue item. This parameter must not be null.
- **Output**: Returns a pointer to a `cmd_find_state` structure representing the current command state. The returned pointer is valid as long as the input `item` is valid.
- **See also**: [`cmdq_get_current`](cmd-queue.c.driver.md#cmdq_get_current)  (Implementation)


---
### cmdq_get_flags<!-- {{#callable_declaration:cmdq_get_flags}} -->
Retrieves the flags associated with a command queue item.
- **Description**: This function is used to obtain the flags from a specified command queue item. It should be called when you need to check the state or properties of a command queue item, particularly after it has been initialized and added to the command queue. Ensure that the `item` parameter is valid and points to a properly initialized `cmdq_item` structure; otherwise, the behavior is undefined.
- **Inputs**:
    - `item`: A pointer to a `cmdq_item` structure. This parameter must not be null and should point to a valid command queue item that has been initialized. Passing an invalid pointer may lead to undefined behavior.
- **Output**: Returns an integer representing the flags associated with the command queue item. The specific values of the flags depend on the implementation and usage of the command queue.
- **See also**: [`cmdq_get_flags`](cmd-queue.c.driver.md#cmdq_get_flags)  (Implementation)


---
### cmdq_get_command<!-- {{#callable_declaration:cmdq_get_command}} -->
Retrieves a command from the command list.
- **Description**: This function is used to obtain a command from a specified command list, optionally using a command queue state. It should be called when there is a need to process commands from the command list. If the provided `state` is `NULL`, a new command queue state will be created internally, which the caller does not need to manage. The function will return a linked list of command queue items, which can be traversed to access each command. If the command list is empty, a callback for an empty command will be returned.
- **Inputs**:
    - `cmdlist`: A pointer to a `cmd_list` structure representing the list of commands to retrieve from. Must not be null.
    - `state`: A pointer to a `cmdq_state` structure representing the current state of the command queue. Can be null, in which case a new state will be created.
- **Output**: Returns a pointer to the first `cmdq_item` in a linked list of command queue items. If the command list is empty, it returns a callback for an empty command.
- **See also**: [`cmdq_get_command`](cmd-queue.c.driver.md#cmdq_get_command)  (Implementation)


---
### cmdq_get_callback1<!-- {{#callable_declaration:cmdq_get_callback1}} -->
Creates a new command queue item for a callback.
- **Description**: This function is used to create a new `cmdq_item` that encapsulates a callback function, allowing it to be queued for execution later. It should be called when you need to schedule a callback to be executed in the command queue. The `name` parameter is used for identification purposes, while the `cb` parameter is the callback function that will be executed, and `data` is a pointer to any additional data that the callback may need. It is important to ensure that the `cb` function is valid and that the `data` pointer is correctly initialized before calling this function.
- **Inputs**:
    - `name`: A string representing the name of the callback. Must not be null.
    - `cb`: A function pointer to the callback function. Must not be null.
    - `data`: A pointer to user-defined data that will be passed to the callback. Can be null.
- **Output**: Returns a pointer to the newly created `cmdq_item`. This pointer should be used to manage the command queue item, and it is the caller's responsibility to ensure that it is properly freed when no longer needed.
- **See also**: [`cmdq_get_callback1`](cmd-queue.c.driver.md#cmdq_get_callback1)  (Implementation)


---
### cmdq_get_error<!-- {{#callable_declaration:cmdq_get_error}} -->
Retrieves a command queue item representing an error.
- **Description**: This function is used to obtain a `cmdq_item` that encapsulates an error message. It should be called when an error occurs and you want to create a corresponding command queue item to handle that error. The input string must not be null, and it is expected to contain a valid error message. The function duplicates the error message string, so the caller does not need to manage the memory of the string passed in.
- **Inputs**:
    - `error`: A pointer to a null-terminated string containing the error message. Must not be null. The function duplicates this string, so the caller retains no ownership over the memory.
- **Output**: Returns a pointer to a `cmdq_item` that represents the error. If the input is invalid or memory allocation fails, the behavior is unspecified.
- **See also**: [`cmdq_get_error`](cmd-queue.c.driver.md#cmdq_get_error)  (Implementation)


---
### cmdq_insert_after<!-- {{#callable_declaration:cmdq_insert_after}} -->
Inserts a command queue item after a specified item.
- **Description**: This function is used to insert one or more `cmdq_item` structures into a command queue, specifically after a given `cmdq_item`. It is essential to call this function when you need to manage the order of command execution in a queue. The `after` parameter must point to a valid `cmdq_item` that is already part of a command queue. If the `item` parameter is null, the function will not perform any insertion. The function will update the references of the client associated with the items being inserted, ensuring proper management of resources.
- **Inputs**:
    - `after`: A pointer to the `cmdq_item` after which the new item(s) will be inserted. This parameter must not be null and must point to a valid item in the command queue.
    - `item`: A pointer to the `cmdq_item` to be inserted. This can be a single item or a chain of items. If this parameter is null, no insertion will occur.
- **Output**: Returns a pointer to the last `cmdq_item` inserted into the queue. If no items were inserted, it returns the `after` item.
- **See also**: [`cmdq_insert_after`](cmd-queue.c.driver.md#cmdq_insert_after)  (Implementation)


---
### cmdq_append<!-- {{#callable_declaration:cmdq_append}} -->
Appends a command queue item to a client's command queue.
- **Description**: This function is used to add one or more `cmdq_item` structures to the command queue associated with a specified `client`. It should be called when you want to queue commands for execution. The function handles multiple items by iterating through a linked list of `cmdq_item` structures, appending each to the client's command queue. It is important to ensure that the `client` is valid and initialized before calling this function. If the `client` is `NULL`, the function will not increment the reference count for the client.
- **Inputs**:
    - `c`: A pointer to the `client` structure representing the client whose command queue will be modified. Must not be null.
    - `item`: A pointer to the first `cmdq_item` to be appended. This can be a linked list of items. If this is null, no items will be appended.
- **Output**: Returns a pointer to the last `cmdq_item` in the queue after all items have been appended. If no items were appended, the return value will be the last item in the queue before the operation.
- **See also**: [`cmdq_append`](cmd-queue.c.driver.md#cmdq_append)  (Implementation)


---
### cmdq_continue<!-- {{#callable_declaration:cmdq_continue}} -->
Continues the execution of a command queue item.
- **Description**: This function should be called to resume the processing of a command queue item that was previously marked as waiting. It is essential to ensure that the `item` parameter points to a valid `cmdq_item` structure that has been properly initialized. The function modifies the flags of the specified command queue item, specifically clearing the `CMDQ_WAITING` flag, which indicates that the item is no longer in a waiting state. It is important to note that calling this function on an item that is not in a waiting state may lead to undefined behavior.
- **Inputs**:
    - `item`: A pointer to a `cmdq_item` structure that represents the command queue item to be resumed. This pointer must not be null and must point to a valid `cmdq_item` that has been initialized. If the item is not in a waiting state, the behavior of the function is undefined.
- **Output**: This function does not return a value and does not modify any inputs by reference.
- **See also**: [`cmdq_continue`](cmd-queue.c.driver.md#cmdq_continue)  (Implementation)


---
### cmdq_next<!-- {{#callable_declaration:cmdq_next}} -->
Retrieves the next command from the command queue.
- **Description**: This function is used to process the next command in the command queue associated with a given client. It should be called when there are commands to be executed, and it will return the number of commands that were processed. If the queue is empty or if the first command is waiting for an external event, the function will return zero. It is important to ensure that the client is properly initialized before calling this function.
- **Inputs**:
    - `c`: A pointer to a `struct client` representing the client whose command queue is being processed. This pointer must not be null.
- **Output**: Returns the number of commands that were processed from the queue. If no commands were processed, it returns zero.
- **See also**: [`cmdq_next`](cmd-queue.c.driver.md#cmdq_next)  (Implementation)


---
### cmdq_running<!-- {{#callable_declaration:cmdq_running}} -->
Returns the currently running command queue item.
- **Description**: This function retrieves the command queue item that is currently running for a specified client. It is important to call this function when you need to check the status of the command queue for a client. If there is no item currently running or if the running item is in a waiting state, the function will return `NULL`. Ensure that the client pointer passed to this function is valid and properly initialized.
- **Inputs**:
    - `c`: A pointer to a `client` structure representing the client whose command queue item is to be retrieved. This pointer must not be null.
- **Output**: Returns a pointer to a `cmdq_item` structure representing the currently running command queue item, or `NULL` if there is no running item or if the running item is waiting.
- **See also**: [`cmdq_running`](cmd-queue.c.driver.md#cmdq_running)  (Implementation)


---
### cmdq_guard<!-- {{#callable_declaration:cmdq_guard}} -->
Sends a command to a control client.
- **Description**: This function is intended to be called when you need to send a command to a control client associated with a `cmdq_item`. It should be invoked only when the `cmdq_item` has a valid client that has the `CLIENT_CONTROL` flag set. If the client is not valid or does not have the appropriate flag, the function will not perform any action. The command sent includes a guard string, a timestamp, a number, and flags, which can be used to control the behavior of the command being sent.
- **Inputs**:
    - `item`: A pointer to a `cmdq_item` structure that contains the client and other relevant data. Must not be null.
    - `guard`: A string representing the command guard. Must not be null.
    - `flags`: An integer representing additional flags for the command. Valid values depend on the specific command being sent.
- **Output**: None
- **See also**: [`cmdq_guard`](cmd-queue.c.driver.md#cmdq_guard)  (Implementation)


---
### cmdq_print_data<!-- {{#callable_declaration:cmdq_print_data}} -->
Prints data associated with a command queue item.
- **Description**: This function is used to print data related to a specific command queue item to a provided event buffer. It should be called when there is a need to output the data associated with the command queue item to the client. The function assumes that the `cmdq_item` and `evbuffer` parameters are valid and properly initialized before calling. If either parameter is null, the behavior is undefined.
- **Inputs**:
    - `item`: A pointer to a `cmdq_item` structure that contains the command queue item whose data is to be printed. Must not be null.
    - `evb`: A pointer to an `evbuffer` structure where the data will be printed. Must not be null.
- **Output**: None
- **See also**: [`cmdq_print_data`](cmd-queue.c.driver.md#cmdq_print_data)  (Implementation)


---
### cmd_wait_for_flush<!-- {{#callable_declaration:cmd_wait_for_flush}} -->
Waits for all commands to finish flushing.
- **Description**: This function is intended to be called when you need to ensure that all pending commands in the command queue have been processed and executed. It iterates through all wait channels and their associated waiters and lockers, waking them up and allowing them to continue execution. It is important to call this function in a controlled environment where command processing is expected to be completed, as it modifies the state of the wait channels. There are no specific preconditions for calling this function, but it should be used judiciously to avoid unintended side effects.
- **Inputs**:
    - None
- **Output**: None
- **See also**: [`cmd_wait_for_flush`](cmd-wait-for.c.driver.md#cmd_wait_for_flush)  (Implementation)


---
### client_main<!-- {{#callable_declaration:client_main}} -->
Starts the client application.
- **Description**: This function initializes and runs the client application, establishing a connection to a server if one is available. It should be called with a valid `event_base` and command-line arguments. The function handles various flags that modify its behavior, such as starting a server or executing a command. It is important to ensure that the provided arguments are valid and that the server is reachable; otherwise, appropriate error messages will be printed, and the function will return a non-zero value to indicate failure.
- **Inputs**:
    - `base`: A pointer to an `event_base` structure that manages event loops. Must not be null.
    - `argc`: An integer representing the number of command-line arguments. Must be non-negative.
    - `argv`: An array of strings representing the command-line arguments. Must not be null.
    - `flags`: A bitmask of flags that modify the behavior of the client. Valid values depend on the specific implementation.
    - `feat`: An integer representing feature flags for the client. Must be a valid feature identifier.
- **Output**: Returns 0 on success, or a non-zero value on failure, indicating the type of error encountered.
- **See also**: [`client_main`](client.c.driver.md#client_main)  (Implementation)


---
### key_bindings_get_table<!-- {{#callable_declaration:key_bindings_get_table}} -->
Retrieves a key table by name, optionally creating it.
- **Description**: This function is used to obtain a `key_table` structure associated with a given name. If the specified name already exists, the corresponding key table is returned. If it does not exist and the `create` parameter is set to a non-zero value, a new key table will be created and initialized. It is important to ensure that the `name` parameter is a valid string and that the function is called in a context where key tables can be managed. The caller is responsible for managing the memory of the returned key table.
- **Inputs**:
    - `name`: A pointer to a null-terminated string representing the name of the key table. Must not be null.
    - `create`: An integer flag indicating whether to create a new key table if one does not exist. Valid values are 0 (do not create) and non-zero (create).
- **Output**: Returns a pointer to the `key_table` structure associated with the specified name. If the key table is created, it will be initialized; if it already exists, the existing table is returned.
- **See also**: [`key_bindings_get_table`](key-bindings.c.driver.md#key_bindings_get_table)  (Implementation)


---
### key_bindings_first_table<!-- {{#callable_declaration:key_bindings_first_table}} -->
Returns the first key table.
- **Description**: This function retrieves the first key table from the collection of key tables. It is typically used when initializing key bindings or when a developer needs to access the default key bindings for a specific context. The function does not require any prior setup or parameters, and it is safe to call at any time. If there are no key tables available, the return value will be `NULL`.
- **Inputs**:
    - None
- **Output**: Returns a pointer to the first `key_table` structure, or `NULL` if no key tables are available.
- **See also**: [`key_bindings_first_table`](key-bindings.c.driver.md#key_bindings_first_table)  (Implementation)


---
### key_bindings_next_table<!-- {{#callable_declaration:key_bindings_next_table}} -->
Retrieves the next key table in the key bindings.
- **Description**: This function is used to navigate through a linked list of key tables. It should be called with a valid pointer to a `key_table` structure that has been previously obtained. If the provided `table` is the last in the list, the function will return `NULL`. It is important to ensure that the `table` parameter is not `NULL` before calling this function.
- **Inputs**:
    - `table`: A pointer to a `key_table` structure representing the current key table. Must not be null. If the table is the last in the list, the function will return `NULL`.
- **Output**: Returns a pointer to the next `key_table` in the sequence, or `NULL` if there are no more tables.
- **See also**: [`key_bindings_next_table`](key-bindings.c.driver.md#key_bindings_next_table)  (Implementation)


---
### key_bindings_unref_table<!-- {{#callable_declaration:key_bindings_unref_table}} -->
Releases a reference to a key table.
- **Description**: This function is used to decrement the reference count of a `key_table` structure. When the reference count reaches zero, it will free all associated key bindings and the table itself. It should be called when a key table is no longer needed, ensuring that resources are properly released. It is important to ensure that this function is not called on a `key_table` that is still in use, as this may lead to undefined behavior.
- **Inputs**:
    - `table`: A pointer to a `key_table` structure. Must not be null. The caller retains ownership of the `key_table`, and it is expected that this function is called when the table is no longer needed.
- **Output**: Returns nothing and does not mutate any inputs.
- **See also**: [`key_bindings_unref_table`](key-bindings.c.driver.md#key_bindings_unref_table)  (Implementation)


---
### key_bindings_get<!-- {{#callable_declaration:key_bindings_get}} -->
Retrieves a key binding from a key table.
- **Description**: This function is used to obtain a `key_binding` structure associated with a specific `key_code` from a given `key_table`. It should be called when you need to find the command associated with a particular key press. The `table` parameter must point to a valid `key_table` that has been initialized, and the `key` parameter should be a valid `key_code`. If the key binding does not exist for the specified key, the function will return `NULL`.
- **Inputs**:
    - `table`: A pointer to a `key_table` structure from which to retrieve the key binding. Must not be null.
    - `key`: A `key_code` representing the key for which the binding is to be retrieved. Valid values are defined by the key_code type.
- **Output**: Returns a pointer to a `key_binding` structure if a binding exists for the specified key; otherwise, returns `NULL`.
- **See also**: [`key_bindings_get`](key-bindings.c.driver.md#key_bindings_get)  (Implementation)


---
### key_bindings_get_default<!-- {{#callable_declaration:key_bindings_get_default}} -->
Retrieves the default key binding for a specified key.
- **Description**: This function is used to obtain the default key binding associated with a specific key within a given key table. It should be called when you need to check what command is bound to a particular key in the context of the provided key table. The function expects that the key table has been properly initialized and populated with key bindings prior to this call. If the specified key does not have an associated binding in the default key bindings, the function will return `NULL`.
- **Inputs**:
    - `table`: A pointer to a `key_table` structure that contains the key bindings. Must not be null.
    - `key`: A `key_code` representing the key for which the default binding is requested. This should be a valid key code defined in the system.
- **Output**: Returns a pointer to a `key_binding` structure representing the default binding for the specified key, or `NULL` if no binding exists.
- **See also**: [`key_bindings_get_default`](key-bindings.c.driver.md#key_bindings_get_default)  (Implementation)


---
### key_bindings_first<!-- {{#callable_declaration:key_bindings_first}} -->
Returns the first key binding in the specified key table.
- **Description**: This function is used to retrieve the first key binding from a given key table. It should be called after ensuring that the key table has been properly initialized. If the key table is empty or uninitialized, the function may return a null pointer, indicating that there are no key bindings available.
- **Inputs**:
    - `table`: A pointer to a `key_table` structure representing the key table from which to retrieve the first key binding. This pointer must not be null and should point to a valid key table that has been initialized.
- **Output**: Returns a pointer to the first `key_binding` in the specified key table, or null if the key table is empty or invalid.
- **See also**: [`key_bindings_first`](key-bindings.c.driver.md#key_bindings_first)  (Implementation)


---
### key_bindings_next<!-- {{#callable_declaration:key_bindings_next}} -->
Retrieves the next key binding in a key table.
- **Description**: This function is used to iterate through the key bindings associated with a specific key table. It should be called with a valid `key_table` structure and a `key_binding` structure that represents the current binding. If the provided `key_binding` is the last in the table, the function will return `NULL`. It is important to ensure that the `key_table` is properly initialized before calling this function.
- **Inputs**:
    - `table`: A pointer to a `key_table` structure that contains the key bindings. Must not be null.
    - `bd`: A pointer to a `key_binding` structure representing the current binding. Must not be null.
- **Output**: Returns a pointer to the next `key_binding` in the key table, or `NULL` if there are no more bindings.
- **See also**: [`key_bindings_next`](key-bindings.c.driver.md#key_bindings_next)  (Implementation)


---
### key_bindings_add<!-- {{#callable_declaration:key_bindings_add}} -->
Adds a key binding to the specified key table.
- **Description**: This function is used to add a key binding to a specified key table, allowing a key to trigger a command or a series of commands. It should be called when you want to define or update key bindings for user interactions. The `name` parameter specifies the key table to which the binding will be added. If the `cmdlist` parameter is NULL, the function will update the existing binding if it exists, modifying its note and repeat flag as necessary. If `cmdlist` is provided, a new binding will be created, and any existing binding for the same key will be removed. It is important to ensure that the `name` parameter corresponds to a valid key table, and that the `key` is a valid key code. The function does not return a value.
- **Inputs**:
    - `name`: The name of the key table to which the binding will be added. Must not be null and should correspond to a valid key table.
    - `key`: The key code representing the key to bind. Must be a valid key code.
    - `note`: An optional note associated with the key binding. Can be null.
    - `repeat`: An integer flag indicating whether the key binding should allow repeat actions. Valid values are 0 (no repeat) or 1 (allow repeat).
    - `cmdlist`: A pointer to a list of commands to be executed when the key is pressed. Can be null, in which case the existing binding will be updated.
- **Output**: None
- **See also**: [`key_bindings_add`](key-bindings.c.driver.md#key_bindings_add)  (Implementation)


---
### key_bindings_remove<!-- {{#callable_declaration:key_bindings_remove}} -->
Removes a key binding from the specified key table.
- **Description**: This function is used to remove a key binding associated with a specific key from a named key table. It should be called after ensuring that the key table has been properly initialized. If the specified key table does not exist or if the key binding for the given key is not found, the function will simply return without making any changes. It is important to note that if the key table becomes empty after the removal of the key binding, the key table itself will also be removed.
- **Inputs**:
    - `name`: The name of the key table from which the key binding should be removed. This string must not be null.
    - `key`: The key code representing the key binding to be removed. This should be a valid `key_code` value.
- **Output**: None
- **See also**: [`key_bindings_remove`](key-bindings.c.driver.md#key_bindings_remove)  (Implementation)


---
### key_bindings_reset<!-- {{#callable_declaration:key_bindings_reset}} -->
Resets key bindings to their default state.
- **Description**: This function is used to reset the key bindings associated with a specific name to their default values. It should be called when you want to restore the original key bindings after they have been modified. The function will first retrieve the key table associated with the provided name. If the key table is found, it will then look for the specific key binding to reset. If the binding exists and a default binding is available, it will replace the current command list and note with the default values. If no default binding is found, the key binding will be removed. It is important to ensure that the name provided corresponds to a valid key table.
- **Inputs**:
    - `name`: A string representing the name of the key bindings to reset. Must not be null.
    - `key`: A `key_code` representing the specific key binding to reset. The value should be a valid key code defined in the system.
- **Output**: None
- **See also**: [`key_bindings_reset`](key-bindings.c.driver.md#key_bindings_reset)  (Implementation)


---
### key_bindings_remove_table<!-- {{#callable_declaration:key_bindings_remove_table}} -->
Removes a key bindings table by name.
- **Description**: This function is used to remove a key bindings table identified by its name. It should be called when the key bindings table is no longer needed, typically during cleanup or reconfiguration. The function first attempts to retrieve the key table associated with the provided name. If the table exists, it is removed from the internal list of key tables, and any clients currently using this key table are updated to use a null key table instead. It is important to ensure that the name provided corresponds to an existing key bindings table; otherwise, no action will be taken.
- **Inputs**:
    - `name`: A pointer to a null-terminated string representing the name of the key bindings table to be removed. This parameter must not be null and should correspond to an existing key bindings table; otherwise, the function will have no effect.
- **Output**: None
- **See also**: [`key_bindings_remove_table`](key-bindings.c.driver.md#key_bindings_remove_table)  (Implementation)


---
### key_bindings_reset_table<!-- {{#callable_declaration:key_bindings_reset_table}} -->
Resets the key bindings for a specified key table.
- **Description**: This function should be called when you want to reset the key bindings associated with a specific key table identified by its name. It is important to ensure that the key table has been initialized before calling this function. If the specified key table does not exist or if it has no default key bindings, the function will safely return without making any changes. This function may have side effects on the key bindings, so it should be used with caution.
- **Inputs**:
    - `name`: A pointer to a null-terminated string representing the name of the key table to reset. This parameter must not be null. If an invalid name is provided or if the key table does not exist, the function will handle it gracefully without any changes.
- **Output**: None
- **See also**: [`key_bindings_reset_table`](key-bindings.c.driver.md#key_bindings_reset_table)  (Implementation)


---
### key_bindings_init<!-- {{#callable_declaration:key_bindings_init}} -->
Initializes key bindings for the application.
- **Description**: This function sets up default key bindings for the application, which are essential for user interaction. It should be called during the initialization phase of the application to ensure that all key commands are available for use. The function processes a predefined list of key bindings, and if any of the bindings are invalid, it logs an error and terminates the application. It is important to ensure that this function is called only once, as it initializes static data.
- **Inputs**:
    - None
- **Output**: None
- **See also**: [`key_bindings_init`](key-bindings.c.driver.md#key_bindings_init)  (Implementation)


---
### key_bindings_dispatch<!-- {{#callable_declaration:key_bindings_dispatch}} -->
Dispatches key bindings for a given key event.
- **Description**: This function is used to handle key events by dispatching the appropriate command associated with the provided key binding. It should be called when a key event occurs, and it will determine the correct command to execute based on the current client state and the key event details. The function takes into account whether the client is in read-only mode and handles command execution accordingly. It is important to ensure that the `key_binding` structure is properly initialized before calling this function.
- **Inputs**:
    - `bd`: A pointer to a `key_binding` structure that contains the key binding information. Must not be null.
    - `item`: A pointer to a `cmdq_item` structure that represents the current command queue item. Can be null.
    - `c`: A pointer to a `client` structure representing the client associated with the key event. Can be null.
    - `event`: A pointer to a `key_event` structure that contains the details of the key event. Must not be null.
    - `fs`: A pointer to a `cmd_find_state` structure that represents the current command find state. Must not be null.
- **Output**: Returns a pointer to a `cmdq_item` structure representing the newly created command queue item. This item can be used to track the execution of the command associated with the key event.
- **See also**: [`key_bindings_dispatch`](key-bindings.c.driver.md#key_bindings_dispatch)  (Implementation)


---
### key_string_lookup_string<!-- {{#callable_declaration:key_string_lookup_string}} -->
Looks up a key code from a string representation.
- **Description**: This function is used to convert a string representation of a key into its corresponding key code. It can handle various formats, including special keywords like 'None' and 'Any', hexadecimal values, and standard ASCII or UTF-8 characters. The function should be called with a valid string input representing a key, and it will return a key code that can be used in further processing. If the input string is invalid or does not correspond to a known key, the function will return a special key code indicating an unknown key.
- **Inputs**:
    - `string`: A pointer to a null-terminated string representing the key. It must not be null. Valid values include 'None', 'Any', hexadecimal strings starting with '0x', single ASCII characters, or UTF-8 encoded strings. If the string does not match any known key format, the function will return KEYC_UNKNOWN.
- **Output**: Returns a `key_code` representing the key associated with the input string. If the string is 'None', it returns KEYC_NONE; if 'Any', it returns KEYC_ANY; if the string is invalid or unrecognized, it returns KEYC_UNKNOWN.
- **See also**: [`key_string_lookup_string`](key-string.c.driver.md#key_string_lookup_string)  (Implementation)


---
### key_string_lookup_key<!-- {{#callable_declaration:key_string_lookup_key}} -->
Looks up the string representation of a key code.
- **Description**: This function is used to retrieve a human-readable string representation of a given key code, which can include modifiers such as Control, Meta, and Shift. It should be called with a valid `key_code` and an integer flag indicating whether to include additional flags in the output. The function handles various special key codes and can also represent printable ASCII characters and Unicode characters. If the key code is invalid or not recognized, it will return a string indicating the issue. It is important to ensure that the `key_code` provided is valid, as invalid codes may lead to unexpected output.
- **Inputs**:
    - `key`: The key code to look up. It must be a valid `key_code` value. If the key code is invalid, the function will return an error string.
    - `with_flags`: An integer flag that determines whether to include additional flags in the output string. It can be 0 or 1, where 1 indicates that flags should be included.
- **Output**: Returns a pointer to a string that represents the key code. The string may indicate the key itself, a special key, or an error message if the key code is invalid.
- **See also**: [`key_string_lookup_key`](key-string.c.driver.md#key_string_lookup_key)  (Implementation)


---
### alerts_reset_all<!-- {{#callable_declaration:alerts_reset_all}} -->
Resets all alerts for the windows.
- **Description**: This function is used to reset all alerts associated with the windows in the application. It should be called when you want to clear any notifications or alerts that have been triggered for the windows. There are no specific preconditions for calling this function, but it is generally expected to be used in a context where the application is managing multiple windows and their associated alerts.
- **Inputs**:
    - None
- **Output**: None
- **See also**: [`alerts_reset_all`](alerts.c.driver.md#alerts_reset_all)  (Implementation)


---
### alerts_queue<!-- {{#callable_declaration:alerts_queue}} -->
Queues alerts for a specified window.
- **Description**: This function is used to queue alerts for a given `window` based on specified `flags`. It should be called when you want to ensure that alerts are properly managed and displayed for the window. The function first resets any existing alerts for the window, then checks if the specified flags are already set. If not, it adds the flags to the window's flag set. If alerts are enabled for the specified flags and no alerts are currently queued, it marks the alerts as queued and schedules a check for alerts. This function should be called in contexts where alert management is necessary, and it is important to ensure that the `window` pointer is valid and not null before calling this function.
- **Inputs**:
    - `w`: A pointer to a `struct window`. This must not be null and should point to a valid window structure. The function does not take ownership of this pointer.
    - `flags`: An integer representing alert flags. The valid range is determined by the defined alert options. The function will handle any invalid flag values by ignoring them.
- **Output**: This function does not return a value and does not mutate any inputs directly. It modifies the state of the `window` structure by updating its flags and queuing alerts.
- **See also**: [`alerts_queue`](alerts.c.driver.md#alerts_queue)  (Implementation)


---
### alerts_check_session<!-- {{#callable_declaration:alerts_check_session}} -->
Checks alerts for all windows in a session.
- **Description**: This function should be called to verify and process alerts for all windows associated with a given session. It is typically invoked during session management to ensure that any alerts are handled appropriately. The function assumes that the session has been properly initialized and is valid. If the session is null, the behavior is undefined.
- **Inputs**:
    - `s`: A pointer to a `struct session` representing the session to check for alerts. This pointer must not be null, as passing a null pointer may lead to undefined behavior.
- **Output**: None
- **See also**: [`alerts_check_session`](alerts.c.driver.md#alerts_check_session)  (Implementation)


---
### file_cmp<!-- {{#callable_declaration:file_cmp}} -->
Compares two client files.
- **Description**: This function is used to compare two `client_file` structures based on their `stream` values. It should be called when there is a need to determine the relative order of two client files, such as when sorting or organizing them. The function returns an integer indicating the comparison result: a negative value if the first file's stream is less than the second's, a positive value if it is greater, and zero if they are equal. It is important to ensure that both `client_file` pointers are valid and not null before calling this function.
- **Inputs**:
    - `cf1`: A pointer to the first `client_file` structure to compare. Must not be null.
    - `cf2`: A pointer to the second `client_file` structure to compare. Must not be null.
- **Output**: Returns an integer: -1 if `cf1`'s stream is less than `cf2`'s, 1 if greater, and 0 if they are equal.
- **See also**: [`file_cmp`](file.c.driver.md#file_cmp)  (Implementation)


---
### file_create_with_peer<!-- {{#callable_declaration:file_create_with_peer}} -->
Creates a new client file with a peer connection.
- **Description**: This function is used to create a new `client_file` structure that represents a file associated with a client connection. It should be called when a new file needs to be managed in the context of a client and its associated peer. The `peer` parameter must be a valid pointer to a `tmuxpeer` structure, and the `files` parameter must point to a valid `client_files` structure where the new file will be inserted. The `stream` parameter specifies the stream type for the file, and the `cb` parameter is a callback function that will be invoked for file operations. The `cbdata` parameter allows passing additional data to the callback. If memory allocation fails for the new `client_file`, the function will terminate the program.
- **Inputs**:
    - `peer`: A pointer to a `tmuxpeer` structure representing the peer connection. Must not be null.
    - `files`: A pointer to a `client_files` structure where the new client file will be inserted. Must not be null.
    - `stream`: An integer representing the stream type. Valid values depend on the application context.
    - `cb`: A callback function of type `client_file_cb` that will be called for file operations. Must not be null.
    - `cbdata`: A pointer to user-defined data that will be passed to the callback. Can be null.
- **Output**: Returns a pointer to the newly created `client_file` structure. This structure will be initialized and ready for use.
- **See also**: [`file_create_with_peer`](file.c.driver.md#file_create_with_peer)  (Implementation)


---
### file_create_with_client<!-- {{#callable_declaration:file_create_with_client}} -->
Creates a new client file.
- **Description**: This function is used to create a new `client_file` structure associated with a specified `client`. It should be called when a new file stream is needed for a client, typically after the client has been initialized. If the provided `client` is not attached, it will be set to `NULL`. The function allocates memory for the new `client_file` and initializes its fields, including a buffer for data. If memory allocation fails, the function will terminate the program.
- **Inputs**:
    - `c`: A pointer to a `client` structure. This parameter can be NULL, but if provided, the client must be attached. The function will increment the reference count of the client if it is valid.
    - `stream`: An integer representing the stream identifier for the client file. This value should be a valid stream identifier.
    - `cb`: A callback function of type `client_file_cb` that will be invoked for events related to the client file. This parameter must not be NULL.
    - `cbdata`: A pointer to user-defined data that will be passed to the callback function. This can be NULL if no additional data is needed.
- **Output**: Returns a pointer to the newly created `client_file` structure. If memory allocation fails, the program will terminate.
- **See also**: [`file_create_with_client`](file.c.driver.md#file_create_with_client)  (Implementation)


---
### file_free<!-- {{#callable_declaration:file_free}} -->
Frees a client file structure.
- **Description**: This function is used to release resources associated with a `client_file` structure. It should be called when the file is no longer needed, typically when the reference count reaches zero. The function handles the deallocation of the associated buffer and path, and it also manages the unreferencing of the client if it exists. It is important to ensure that this function is not called while there are still active references to the file, as it will only free the resources when the reference count is zero.
- **Inputs**:
    - `cf`: A pointer to a `client_file` structure that needs to be freed. This pointer must not be null. The caller retains ownership of the pointer and is responsible for ensuring that it is valid and that the reference count is managed correctly.
- **Output**: None
- **See also**: [`file_free`](file.c.driver.md#file_free)  (Implementation)


---
### file_fire_done<!-- {{#callable_declaration:file_fire_done}} -->
Triggers the completion callback for a file operation.
- **Description**: This function should be called when a file operation associated with a `client_file` has been completed. It schedules a callback to handle the completion event, allowing the system to process any necessary follow-up actions. It is important to ensure that the `client_file` structure passed to this function is valid and properly initialized, as passing a null or invalid pointer may lead to undefined behavior.
- **Inputs**:
    - `cf`: A pointer to a `client_file` structure representing the file operation. Must not be null. The caller retains ownership of this pointer.
- **Output**: None
- **See also**: [`file_fire_done`](file.c.driver.md#file_fire_done)  (Implementation)


---
### file_fire_read<!-- {{#callable_declaration:file_fire_read}} -->
Triggers a read callback for a client file.
- **Description**: This function is used to invoke a read callback associated with a `client_file` structure. It should be called when the file is ready to be read, typically after a read operation has been completed. The callback will be executed only if it has been set (i.e., it is not NULL). The function does not handle any errors related to the file or the callback execution; it is the caller's responsibility to ensure that the `client_file` is properly initialized and that the callback is valid.
- **Inputs**:
    - `cf`: A pointer to a `client_file` structure. Must not be null. The structure must be properly initialized, and the callback (`cb`) within it should be set if it is to be invoked.
- **Output**: None
- **See also**: [`file_fire_read`](file.c.driver.md#file_fire_read)  (Implementation)


---
### file_can_print<!-- {{#callable_declaration:file_can_print}} -->
Checks if a client can print.
- **Description**: This function determines whether a given client can print output. It should be called when you need to verify if the client is in a state that allows printing. The function checks if the client pointer is valid and whether the client is attached or in control mode. If the client is NULL, attached, or in control mode, it will return 0, indicating that printing is not possible. Otherwise, it returns 1, indicating that printing is allowed.
- **Inputs**:
    - `c`: A pointer to a `struct client`. Must not be NULL. If the client is NULL, or if the client is in an attached or control state, the function will return 0.
- **Output**: Returns 1 if the client can print, otherwise returns 0.
- **See also**: [`file_can_print`](file.c.driver.md#file_can_print)  (Implementation)


---
### file_print_buffer<!-- {{#callable_declaration:file_print_buffer}} -->
Prints data to a file associated with a client.
- **Description**: This function is used to send a buffer of data to a file associated with a client. It should be called only if the client is allowed to print, which can be checked using the `file_can_print` function. If the client does not have permission to print, the function will return immediately without any action. If the client does have permission and the file stream does not already exist, a new file stream will be created, and the data will be added to the buffer. If the stream already exists, the data will be added to the existing buffer and pushed for processing.
- **Inputs**:
    - `c`: A pointer to a `struct client` representing the client associated with the file. Must not be null.
    - `data`: A pointer to the data to be printed. This can be any valid memory address. Must not be null.
    - `size`: The size of the data to be printed, in bytes. Must be greater than zero.
- **Output**: None
- **See also**: [`file_print_buffer`](file.c.driver.md#file_print_buffer)  (Implementation)


---
### file_write<!-- {{#callable_declaration:file_write}} -->
Writes data to a specified file.
- **Description**: This function is used to write data to a file specified by the `path` parameter. It can be called with a valid `client` structure, and the `path` must be a valid file path. The `flags` parameter can include options like `O_APPEND` to append data. The `bdata` parameter contains the data to be written, and `bsize` specifies the size of this data. A callback function `cb` can be provided to handle completion events, and `cbdata` can be used to pass additional data to the callback. If the `path` is '-', the function writes to standard output. The function handles various error conditions, such as invalid paths or file access issues, and will invoke the callback with an error if any issues arise.
- **Inputs**:
    - `c`: A pointer to a `client` structure representing the client making the request. Must not be null.
    - `path`: A string representing the file path where data will be written. Must not be null.
    - `flags`: An integer representing file access flags. Valid values include standard file access modes.
    - `bdata`: A pointer to the data buffer that contains the data to be written. Must not be null.
    - `bsize`: A size_t value indicating the size of the data to be written. Must be greater than zero.
    - `cb`: A callback function to be called upon completion. Can be null if no callback is needed.
    - `cbdata`: A pointer to user-defined data to be passed to the callback. Can be null.
- **Output**: The function does not return a value. It may invoke the callback with an error code if an error occurs during the write operation.
- **See also**: [`file_write`](file.c.driver.md#file_write)  (Implementation)


---
### file_read<!-- {{#callable_declaration:file_read}} -->
Reads a file and processes its content.
- **Description**: This function is used to read the contents of a specified file and process it using a callback function. It should be called when a client is ready to read data from a file, and it can handle both regular files and standard input. The function will return a pointer to a `client_file` structure that represents the file being read. If the specified file cannot be opened or read, an error will be set in the `client_file` structure, and the function will return `NULL`. It is important to ensure that the `client` structure is valid and not in a state that prevents file reading, such as being attached or in control mode.
- **Inputs**:
    - `c`: A pointer to a `client` structure representing the client that is requesting the file read. Must not be null.
    - `path`: A string representing the path to the file to be read. If the path is '-', standard input will be used. Must not be null.
    - `cb`: A callback function of type `client_file_cb` that will be called with the results of the file read operation. Must not be null.
    - `cbdata`: A pointer to user-defined data that will be passed to the callback function. Can be null.
- **Output**: Returns a pointer to a `client_file` structure representing the file being read. If an error occurs, it returns `NULL` and sets an error code in the `client_file` structure.
- **See also**: [`file_read`](file.c.driver.md#file_read)  (Implementation)


---
### file_cancel<!-- {{#callable_declaration:file_cancel}} -->
Cancels a file read operation.
- **Description**: This function is used to cancel an ongoing read operation for a specified client file. It should be called when the read operation is no longer needed, such as when the user closes the associated client or when the application no longer requires the data. The function checks if the file is already closed; if it is, the function returns immediately without performing any action. If the file is open, it marks the file as closed and sends a cancellation message to the peer associated with the client file.
- **Inputs**:
    - `cf`: A pointer to a `struct client_file` representing the file to be canceled. This pointer must not be null. If the file is already closed, the function will not perform any action.
- **Output**: None
- **See also**: [`file_cancel`](file.c.driver.md#file_cancel)  (Implementation)


---
### file_push<!-- {{#callable_declaration:file_push}} -->
Pushes data from a client file to its peer.
- **Description**: This function is used to send data from a `client_file`'s buffer to its associated peer. It should be called when there is data available to send, and it will continue to send data until the buffer is empty or an error occurs. If there is still data left in the buffer after the initial send, the function will schedule a callback to attempt to send the remaining data later. It is important to ensure that the `client_file` is properly initialized before calling this function.
- **Inputs**:
    - `cf`: A pointer to a `struct client_file`. Must not be null. The function takes ownership of the data in the buffer and will modify it as data is sent.
- **Output**: None
- **See also**: [`file_push`](file.c.driver.md#file_push)  (Implementation)


---
### file_write_left<!-- {{#callable_declaration:file_write_left}} -->
Counts the number of client files with pending output.
- **Description**: This function is used to determine how many client files have data left to be written. It should be called when you need to check if there are any pending writes to client files, typically before performing operations that depend on the availability of output data. The function iterates through all client files and counts those that have non-empty output buffers. If no client files are found with pending output, the function will return 0; otherwise, it will return a non-zero value indicating the count of such files.
- **Inputs**:
    - `files`: A pointer to a `struct client_files` that represents the collection of client files. This parameter must not be null, and it is expected to be properly initialized before calling this function. If the pointer is null, the behavior is undefined.
- **Output**: Returns an integer value: 0 if no client files have pending output, or a non-zero value indicating the count of client files with data left to write.
- **See also**: [`file_write_left`](file.c.driver.md#file_write_left)  (Implementation)


---
### file_write_open<!-- {{#callable_declaration:file_write_open}} -->
Opens a file for writing.
- **Description**: This function is used to open a file for writing, allowing the client to send data to it. It must be called after the client has been initialized and is ready to handle file operations. The function checks if the specified stream is already in use and will return an error if it is. If the file descriptor is not provided, it will attempt to open the file at the specified path with the given flags. If the file is successfully opened, it sets up a buffer event for writing. If any errors occur during this process, they are reported back to the peer.
- **Inputs**:
    - `files`: A pointer to a `struct client_files` that manages the files for the client. Must not be null.
    - `peer`: A pointer to a `struct tmuxpeer` representing the peer connection. Must not be null.
    - `imsg`: A pointer to an `imsg` structure containing the message data for the file operation. Must not be null.
    - `allow_streams`: An integer flag indicating whether to allow the use of standard output or error file descriptors. Valid values are 0 (disallow) or 1 (allow).
    - `close_received`: An integer flag indicating whether the file descriptor should be closed after use. Valid values are 0 (do not close) or 1 (close).
    - `cb`: A callback function of type `client_file_cb` that will be called when the file operation is complete. Must not be null.
    - `cbdata`: A pointer to user-defined data that will be passed to the callback function. Can be null.
- **Output**: Returns nothing. If an error occurs, it sends an error message back to the peer.
- **See also**: [`file_write_open`](file.c.driver.md#file_write_open)  (Implementation)


---
### file_write_data<!-- {{#callable_declaration:file_write_data}} -->
Writes data to a specified client file.
- **Description**: This function is used to write data to a client file associated with a specific stream. It should be called when there is data to be sent to a client, and it expects that the `client_files` structure has been properly initialized and contains the relevant client file. If the stream number provided in the message is unknown, the function will trigger a fatal error. Additionally, if the message length is less than the expected size, it will also result in a fatal error.
- **Inputs**:
    - `files`: A pointer to a `struct client_files` that contains the client file information. Must not be null.
    - `imsg`: A pointer to an `struct imsg` that contains the message data to be written. Must not be null.
- **Output**: None
- **See also**: [`file_write_data`](file.c.driver.md#file_write_data)  (Implementation)


---
### file_write_close<!-- {{#callable_declaration:file_write_close}} -->
Closes a file associated with a client.
- **Description**: This function is used to close a file that is associated with a client. It should be called when the client is done with the file, typically during cleanup or disconnection. The function checks if the file is currently being written to; if not, it will free the associated resources, including the file descriptor and any event buffers. It is important to ensure that this function is called only after the file has been opened and is valid.
- **Inputs**:
    - `files`: A pointer to a `struct client_files` that manages the files associated with clients. Must not be null.
    - `imsg`: A pointer to an `struct imsg` containing the message data for the close operation. Must not be null.
- **Output**: None
- **See also**: [`file_write_close`](file.c.driver.md#file_write_close)  (Implementation)


---
### file_read_open<!-- {{#callable_declaration:file_read_open}} -->
Opens a file for reading.
- **Description**: This function is used to open a file for reading, either from a specified file descriptor or a file path. It must be called with a valid `struct client_files` and `struct tmuxpeer` to ensure proper communication with the client. The `imsg` parameter contains the necessary information to identify the file to be opened. If the file is successfully opened, a callback function can be provided to handle further operations on the file. If an error occurs during the opening process, an appropriate error message is sent back to the peer.
- **Inputs**:
    - `files`: A pointer to a `struct client_files` that manages the files for the client. Must not be null.
    - `peer`: A pointer to a `struct tmuxpeer` representing the peer connection. Must not be null.
    - `imsg`: A pointer to a `struct imsg` containing the message data for the file operation. Must not be null.
    - `allow_streams`: An integer flag indicating whether to allow opening from streams. Valid values are 0 (disallow) or 1 (allow).
    - `close_received`: An integer flag indicating whether the file descriptor should be closed after use. Valid values are 0 (do not close) or 1 (close).
    - `cb`: A callback function of type `client_file_cb` that will be called for file operations. Must not be null.
    - `cbdata`: A pointer to user-defined data that will be passed to the callback function. Can be null.
- **Output**: None
- **See also**: [`file_read_open`](file.c.driver.md#file_read_open)  (Implementation)


---
### file_write_ready<!-- {{#callable_declaration:file_write_ready}} -->
Handles the readiness of a file write operation.
- **Description**: This function should be called to process a notification indicating that a file write operation is ready to proceed. It expects to be invoked with a valid `struct client_files` and an `imsg` containing the relevant message data. The function checks the size of the message and verifies that it matches the expected size. If the message indicates an error, it updates the corresponding client file's error state and triggers a completion event. If there is no error, it proceeds to push the file for writing. It is important to ensure that the `imsg` structure is properly initialized and that the `client_files` structure is valid before calling this function.
- **Inputs**:
    - `files`: A pointer to a `struct client_files` that manages the files associated with the client. Must not be null.
    - `imsg`: A pointer to an `imsg` structure containing the message data. Must not be null and should be properly initialized.
- **Output**: None
- **See also**: [`file_write_ready`](file.c.driver.md#file_write_ready)  (Implementation)


---
### file_read_data<!-- {{#callable_declaration:file_read_data}} -->
Reads data from a file.
- **Description**: This function is used to read data from a file associated with a client. It should be called when there is a message indicating that data is available to be read. The function checks the size of the incoming message and ensures it is valid before proceeding. If the file is not found or if there is an error, the function will handle it gracefully without crashing. It is important to ensure that the file is not closed and that there are no errors before attempting to read data.
- **Inputs**:
    - `files`: A pointer to a `struct client_files` that manages the files associated with the client. This parameter must not be null.
    - `imsg`: A pointer to a `struct imsg` that contains the message data to be read. This parameter must not be null and should contain valid data.
- **Output**: The function does not return a value. It may mutate the state of the `struct client_file` associated with the read operation, particularly updating its buffer with the read data.
- **See also**: [`file_read_data`](file.c.driver.md#file_read_data)  (Implementation)


---
### file_read_done<!-- {{#callable_declaration:file_read_done}} -->
Indicates that a file read operation is complete.
- **Description**: This function should be called when a file read operation has finished. It processes the completion message, updates the corresponding client file's error status, and triggers any necessary follow-up actions. It is important to ensure that this function is called with a valid `imsg` structure that contains the appropriate data. If the message length does not match the expected size, the function will not proceed further. The function does not return any value.
- **Inputs**:
    - `files`: A pointer to a `struct client_files` that manages the collection of client files. This parameter must not be null.
    - `imsg`: A pointer to an `struct imsg` that contains the message data related to the file read completion. This parameter must not be null.
- **Output**: None
- **See also**: [`file_read_done`](file.c.driver.md#file_read_done)  (Implementation)


---
### file_read_cancel<!-- {{#callable_declaration:file_read_cancel}} -->
Cancels a file read operation.
- **Description**: This function is used to cancel an ongoing file read operation associated with a specific stream. It should be called when a read operation needs to be aborted, such as when the user decides to stop waiting for data. The function expects that the `client_files` structure has been properly initialized and that the `imsg` parameter contains a valid message indicating which stream to cancel. If the stream number provided in the message is unknown, the function will trigger a fatal error.
- **Inputs**:
    - `files`: A pointer to a `client_files` structure that manages the file read operations. Must not be null.
    - `imsg`: A pointer to an `imsg` structure containing the message data. Must not be null. The message must have a valid format, and its length must match the expected size for a cancel operation.
- **Output**: None
- **See also**: [`file_read_cancel`](file.c.driver.md#file_read_cancel)  (Implementation)


---
### server_set_marked<!-- {{#callable_declaration:server_set_marked}} -->
Sets the marked pane for the server.
- **Description**: This function is used to mark a specific pane within a session, allowing for operations to be performed on it later. It should be called when you want to designate a pane as marked, typically after ensuring that the session and window link are valid. The function does not return any value, and it will overwrite any previously marked pane.
- **Inputs**:
    - `s`: A pointer to a `struct session` representing the session containing the pane. Must not be null.
    - `wl`: A pointer to a `struct winlink` representing the window link associated with the pane. Must not be null.
    - `wp`: A pointer to a `struct window_pane` representing the pane to be marked. Must not be null.
- **Output**: None
- **See also**: [`server_set_marked`](server.c.driver.md#server_set_marked)  (Implementation)


---
### server_clear_marked<!-- {{#callable_declaration:server_clear_marked}} -->
Clears the marked state of the server.
- **Description**: This function is used to clear any marked state in the server, which may be necessary when the user wants to reset the selection or marking of panes. It should be called when there is a need to ensure that no panes are marked, such as after a user action that requires a fresh state. There are no specific preconditions for calling this function, and it does not return any value.
- **Inputs**:
    - None
- **Output**: None
- **See also**: [`server_clear_marked`](server.c.driver.md#server_clear_marked)  (Implementation)


---
### server_is_marked<!-- {{#callable_declaration:server_is_marked}} -->
Checks if a specific pane is marked.
- **Description**: This function is used to determine if a given `window_pane` is marked within a specific `session` and `winlink`. It should be called when you need to verify the marking status of a pane, typically after a marking operation has been performed. The function will return 0 if any of the provided pointers are null or if the specified pane does not match the currently marked pane. It is important to ensure that the session, winlink, and window pane are valid before calling this function.
- **Inputs**:
    - `s`: A pointer to a `session` structure. Must not be null. If null, the function returns 0.
    - `wl`: A pointer to a `winlink` structure. Must not be null. If null, the function returns 0.
    - `wp`: A pointer to a `window_pane` structure. Must not be null. If null, the function returns 0.
- **Output**: Returns 1 if the specified pane is marked, otherwise returns 0.
- **See also**: [`server_is_marked`](server.c.driver.md#server_is_marked)  (Implementation)


---
### server_check_marked<!-- {{#callable_declaration:server_check_marked}} -->
Checks if a marked pane is valid.
- **Description**: This function is used to determine if the currently marked pane is in a valid state. It should be called when there is a need to verify the status of the marked pane, particularly before performing operations that depend on its validity. The function does not require any parameters and can be called at any time, but it is expected that a pane has been marked previously for the check to be meaningful.
- **Inputs**:
    - None
- **Output**: Returns an integer indicating the validity of the marked pane. A return value of 0 typically indicates that the marked pane is valid, while a non-zero value indicates an invalid state.
- **See also**: [`server_check_marked`](server.c.driver.md#server_check_marked)  (Implementation)


---
### server_start<!-- {{#callable_declaration:server_start}} -->
Starts the server process.
- **Description**: This function initializes and starts the server process, setting up necessary configurations and handling client connections. It should be called when the server is ready to accept clients, typically after any required initialization steps have been completed. The function may block if the server is set to fork, and it will handle any necessary cleanup of resources such as lock files. If an error occurs during the startup process, it will return an error code, and if a cause for failure is identified, it will be reported to the user.
- **Inputs**:
    - `client`: A pointer to a `struct tmuxproc` representing the client process. Must not be null.
    - `flags`: A bitmask of flags that control server behavior. Valid values include CLIENT_NOFORK. The function will handle invalid flags gracefully.
    - `base`: A pointer to an `event_base` structure used for event handling. Must not be null.
    - `lockfd`: An integer file descriptor for a lock file. Can be -1 if no lock is needed.
    - `lockfile`: A string representing the path to the lock file. Caller retains ownership and must ensure it is valid.
- **Output**: Returns an integer indicating the success or failure of the server startup. A negative value indicates an error, while a non-negative value indicates success.
- **See also**: [`server_start`](server.c.driver.md#server_start)  (Implementation)


---
### server_update_socket<!-- {{#callable_declaration:server_update_socket}} -->
Updates the socket permissions based on session attachment.
- **Description**: This function should be called to ensure that the socket permissions are correctly set based on whether any sessions are currently attached. It checks the current state of sessions and modifies the socket permissions accordingly. The function should be invoked after the server has started and is managing sessions. If there are no attached sessions, it removes execute permissions from the socket. If there are attached sessions, it grants execute permissions based on the read permissions of the user, group, and others.
- **Inputs**:
    - None
- **Output**: None
- **See also**: [`server_update_socket`](server.c.driver.md#server_update_socket)  (Implementation)


---
### server_add_accept<!-- {{#callable_declaration:server_add_accept}} -->
Adds an accept event to the server.
- **Description**: This function is used to add an event for accepting incoming connections on the server. It should be called after the server has been initialized and is ready to accept connections. The `timeout` parameter determines how long the server will wait for a connection before timing out. If `timeout` is set to zero, the server will accept connections immediately without waiting. If a non-zero timeout is specified, the server will wait for the specified duration before timing out. It is important to note that if the server file descriptor is invalid (i.e., `server_fd` is -1), the function will return immediately without making any changes.
- **Inputs**:
    - `timeout`: An integer representing the timeout duration in seconds. Must be non-negative. If set to zero, the server will accept connections immediately. If the value is negative, it will be ignored.
- **Output**: None
- **See also**: [`server_add_accept`](server.c.driver.md#server_add_accept)  (Implementation)


---
### server_create_socket<!-- {{#callable_declaration:server_create_socket}} -->
Creates a UNIX domain socket.
- **Description**: This function is used to create a UNIX domain socket for inter-process communication. It must be called before any attempts to bind or listen on the socket. The `flags` parameter can be used to specify socket options, and the `cause` parameter can be used to retrieve an error message if the socket creation fails. If the socket path exceeds the maximum length, or if any other error occurs during socket creation, binding, or listening, the function will return -1 and set the `cause` to a descriptive error message.
- **Inputs**:
    - `flags`: Specifies options for socket creation. Valid values depend on the implementation and can include flags like CLIENT_DEFAULTSOCKET. The behavior on invalid values is not specified.
    - `cause`: A pointer to a character pointer that will be set to an error message if the function fails. This parameter can be NULL if the error message is not needed.
- **Output**: Returns a non-negative integer representing the file descriptor of the created socket on success, or -1 on failure.
- **See also**: [`server_create_socket`](server.c.driver.md#server_create_socket)  (Implementation)


---
### server_client_how_many<!-- {{#callable_declaration:server_client_how_many}} -->
Returns the number of attached clients.
- **Description**: This function is used to determine how many clients are currently attached to the server. It iterates through the list of clients and counts those that have an active session and are not marked as unattached. It is important to call this function when you need to know the number of active clients, for example, when managing resources or displaying status information. There are no specific preconditions for calling this function, and it handles the counting internally.
- **Inputs**:
    - None
- **Output**: Returns an unsigned integer representing the count of clients that are currently attached and active.
- **See also**: [`server_client_how_many`](server-client.c.driver.md#server_client_how_many)  (Implementation)


---
### server_client_set_overlay<!-- {{#callable_declaration:server_client_set_overlay}} -->
Sets overlay callbacks for a client.
- **Description**: This function configures overlay callbacks for a specified client, allowing for custom behavior when drawing overlays, handling keys, and resizing. It should be called after the client has been initialized and before any overlay operations are performed. If the `delay` parameter is non-zero, a timer is set to manage the overlay's display duration. If any of the callback functions are set to `NULL`, specific flags are set on the client's terminal to adjust its behavior, such as freezing input or hiding the cursor.
- **Inputs**:
    - `c`: Pointer to a `struct client` representing the client to configure. Must not be null.
    - `delay`: An unsigned integer representing the delay in milliseconds before the overlay is cleared. A value of 0 means no delay.
    - `checkcb`: Callback function for checking overlay conditions. Can be NULL, in which case the client will freeze.
    - `modecb`: Callback function for setting overlay mode. Can be NULL, which will hide the cursor.
    - `drawcb`: Callback function for drawing the overlay. Must not be NULL.
    - `keycb`: Callback function for handling key events related to the overlay. Can be NULL.
    - `freecb`: Callback function for freeing overlay resources. Can be NULL.
    - `resizecb`: Callback function for handling overlay resizing. Can be NULL.
    - `data`: Pointer to user-defined data that will be passed to the callback functions. Can be NULL.
- **Output**: None
- **See also**: [`server_client_set_overlay`](server-client.c.driver.md#server_client_set_overlay)  (Implementation)


---
### server_client_clear_overlay<!-- {{#callable_declaration:server_client_clear_overlay}} -->
Clears the overlay settings for a client.
- **Description**: This function is used to reset the overlay settings of a `client` structure. It should be called when the overlay is no longer needed, such as when the client is being closed or when the overlay needs to be refreshed. The function checks if the overlay is currently set; if not, it returns immediately. If the overlay is active, it will remove any associated timer, free any allocated overlay data, and reset various overlay-related function pointers to `NULL`. Additionally, it updates the client's terminal flags to ensure the cursor is visible and redraws the client to reflect the changes.
- **Inputs**:
    - `c`: A pointer to a `client` structure. Must not be null. The function assumes that the `client` has been properly initialized and is in a valid state. If the pointer is null, the behavior is undefined.
- **Output**: None
- **See also**: [`server_client_clear_overlay`](server-client.c.driver.md#server_client_clear_overlay)  (Implementation)


---
### server_client_overlay_range<!-- {{#callable_declaration:server_client_overlay_range}} -->
Calculates visible overlay ranges.
- **Description**: This function computes the visible ranges around an overlay defined by its position and size, and stores the results in the provided `overlay_ranges` structure. It should be called when determining which areas of the screen are not obstructed by the overlay, particularly when rendering or updating the display. The function handles cases where there is no overlap in the vertical direction, ensuring that the output reflects the actual visible areas. It is important to ensure that the `overlay_ranges` structure is properly initialized before calling this function.
- **Inputs**:
    - `x`: The x-coordinate of the overlay's top-left corner. Must be a non-negative integer.
    - `y`: The y-coordinate of the overlay's top-left corner. Must be a non-negative integer.
    - `sx`: The width of the overlay. Must be a positive integer.
    - `sy`: The height of the overlay. Must be a positive integer.
    - `px`: The x-coordinate of the point to check for visibility. Must be a non-negative integer.
    - `py`: The y-coordinate of the point to check for visibility. Must be a non-negative integer.
    - `nx`: The width of the area to check for visibility. Must be a non-negative integer.
    - `r`: A pointer to an `overlay_ranges` structure where the results will be stored. Must not be null.
- **Output**: The function does not return a value. Instead, it populates the `overlay_ranges` structure pointed to by `r` with the calculated visible ranges.
- **See also**: [`server_client_overlay_range`](server-client.c.driver.md#server_client_overlay_range)  (Implementation)


---
### server_client_set_key_table<!-- {{#callable_declaration:server_client_set_key_table}} -->
Sets the key table for a client.
- **Description**: This function is used to assign a key table to a specified client. It can be called at any time, but it is important to ensure that the client is properly initialized before invoking this function. If the `name` parameter is `NULL`, the function retrieves the current key table associated with the client. The function also updates the activity time of the key table to the current time. It is crucial to manage the key table's reference count appropriately, as failing to do so may lead to memory leaks.
- **Inputs**:
    - `c`: A pointer to a `struct client` representing the client whose key table is to be set. Must not be null.
    - `name`: A string representing the name of the key table to set. If this is `NULL`, the current key table for the client will be used. Must be a valid string or `NULL`.
- **Output**: None
- **See also**: [`server_client_set_key_table`](server-client.c.driver.md#server_client_set_key_table)  (Implementation)


---
### server_client_get_key_table<!-- {{#callable_declaration:server_client_get_key_table}} -->
Retrieves the key table associated with a client.
- **Description**: This function is used to obtain the key table name for a given client. It should be called when you need to determine the key table that is currently in use by the client. If the client's session is not set, or if the key table name is an empty string, the function will return the default value 'root'. Ensure that the client structure is properly initialized before calling this function.
- **Inputs**:
    - `c`: A pointer to a `client` structure representing the client whose key table is to be retrieved. This pointer must not be null.
- **Output**: Returns a pointer to a string containing the name of the key table. If the session is null or the key table name is empty, it returns 'root'.
- **See also**: [`server_client_get_key_table`](server-client.c.driver.md#server_client_get_key_table)  (Implementation)


---
### server_client_check_nested<!-- {{#callable_declaration:server_client_check_nested}} -->
Checks if a client is nested within a tmux session.
- **Description**: This function is used to determine if a given client is currently nested within a tmux session. It should be called when you need to verify the nesting status of a client, particularly before performing operations that depend on whether the client is in a nested state. The function checks the client's environment for the 'TMUX' variable, which indicates that it is running inside a tmux session. If the variable is not set or is empty, the function will return 0, indicating that the client is not nested. If the variable is present and non-empty, it will then check against all window panes to see if any match the client's terminal name. If a match is found, it returns 1, indicating that the client is indeed nested.
- **Inputs**:
    - `c`: A pointer to a `client` structure representing the client to check. Must not be null.
- **Output**: Returns 1 if the client is nested within a tmux session, 0 otherwise.
- **See also**: [`server_client_check_nested`](server-client.c.driver.md#server_client_check_nested)  (Implementation)


---
### server_client_handle_key<!-- {{#callable_declaration:server_client_handle_key}} -->
Handles a key event for a client.
- **Description**: This function processes a key event for a specified client, allowing for immediate handling of key presses in certain modes, such as overlay mode or command prompt. It should be called when the client is ready to accept input, which means the associated session must be valid and the client should not have any unattached flags set. If the client is in read-only mode or if certain conditions are met, the function may return early without processing the key event. The function also manages the queuing of key events to ensure they are processed in the correct order.
- **Inputs**:
    - `c`: A pointer to a `struct client` representing the client that is handling the key event. This pointer must not be null.
    - `event`: A pointer to a `struct key_event` that contains the details of the key event to be processed. This pointer must not be null.
- **Output**: Returns 1 if the key event was successfully processed and added to the command queue, or 0 if the event was ignored or not processed.
- **See also**: [`server_client_handle_key`](server-client.c.driver.md#server_client_handle_key)  (Implementation)


---
### server_client_create<!-- {{#callable_declaration:server_client_create}} -->
Creates a new client instance.
- **Description**: This function is used to create a new client instance associated with a given file descriptor. It should be called when a new client connection is established, and it initializes various properties of the client, including its environment and event timers. The file descriptor must be valid and non-blocking, as the function sets it to non-blocking mode. The function allocates memory for the client structure, and it is the caller's responsibility to manage this memory appropriately, including freeing it when the client is no longer needed.
- **Inputs**:
    - `fd`: The file descriptor for the client connection. It must be a valid, non-negative integer representing an open socket or file descriptor. The function sets this descriptor to non-blocking mode. If an invalid file descriptor is provided, the behavior is undefined.
- **Output**: Returns a pointer to the newly created `client` structure. If memory allocation fails, the behavior is undefined.
- **See also**: [`server_client_create`](server-client.c.driver.md#server_client_create)  (Implementation)


---
### server_client_open<!-- {{#callable_declaration:server_client_open}} -->
Opens a client connection.
- **Description**: This function is used to establish a connection for a client. It should be called when a client is ready to connect to the server. Before calling, ensure that the client is not already in control mode and that it is a terminal. If the client's terminal name matches the default terminal path or if it is not a terminal, an error will be reported through the `cause` parameter.
- **Inputs**:
    - `c`: A pointer to a `struct client` representing the client to be opened. Must not be null.
    - `cause`: A pointer to a character pointer where error messages can be stored. The caller retains ownership of the memory pointed to by this pointer.
- **Output**: Returns 0 on success, or -1 on failure. If an error occurs, `cause` will be set to a descriptive error message.
- **See also**: [`server_client_open`](server-client.c.driver.md#server_client_open)  (Implementation)


---
### server_client_unref<!-- {{#callable_declaration:server_client_unref}} -->
Decrements the reference count of a client.
- **Description**: This function is used to manage the reference count of a `client` structure. It should be called when a reference to a client is no longer needed, typically when the client is being released or cleaned up. The function decrements the reference count, and if it reaches zero, it schedules the client for freeing. It is important to ensure that this function is called only after the client has been properly initialized and is in use, as calling it on an uninitialized or already freed client may lead to undefined behavior.
- **Inputs**:
    - `c`: A pointer to a `client` structure. Must not be null. The caller retains ownership of the `client` structure and is responsible for ensuring it is valid before calling this function.
- **Output**: None
- **See also**: [`server_client_unref`](server-client.c.driver.md#server_client_unref)  (Implementation)


---
### server_client_set_session<!-- {{#callable_declaration:server_client_set_session}} -->
Sets the session for a client.
- **Description**: This function is used to associate a `session` with a `client`. It should be called when a client is ready to interact with a session, typically after the client has been initialized. If the new session is different from the current session, the current session is saved as the last session. If the new session is `NULL`, the last session is cleared. The function also updates the client state to indicate it is focused and triggers various updates related to window focus and session activity.
- **Inputs**:
    - `c`: A pointer to the `client` structure. Must not be null. The caller retains ownership.
    - `s`: A pointer to the `session` structure. Can be null. If null, the last session is cleared.
- **Output**: None
- **See also**: [`server_client_set_session`](server-client.c.driver.md#server_client_set_session)  (Implementation)


---
### server_client_lost<!-- {{#callable_declaration:server_client_lost}} -->
Handles the loss of a client connection.
- **Description**: This function should be called when a client connection is lost, typically due to disconnection or termination. It performs necessary cleanup operations, such as freeing resources associated with the client, notifying other components of the disconnection, and updating the server state. It is important to ensure that this function is called to prevent resource leaks and maintain the integrity of the server's client management.
- **Inputs**:
    - `c`: A pointer to a `struct client` representing the client that has been lost. This pointer must not be null. If the pointer is invalid or null, the behavior is undefined.
- **Output**: None
- **See also**: [`server_client_lost`](server-client.c.driver.md#server_client_lost)  (Implementation)


---
### server_client_suspend<!-- {{#callable_declaration:server_client_suspend}} -->
Suspends a client connection.
- **Description**: This function is used to suspend a client connection, typically when the client is no longer attached to a session. It should be called only when the client is attached to a session; otherwise, it will have no effect. If the client is already marked as suspended or is unattached, the function will return immediately without making any changes. The function also stops the terminal associated with the client and sends a suspend message to the peer.
- **Inputs**:
    - `c`: A pointer to a `struct client` representing the client to be suspended. This pointer must not be null and must point to a valid client that is currently attached to a session.
- **Output**: None
- **See also**: [`server_client_suspend`](server-client.c.driver.md#server_client_suspend)  (Implementation)


---
### server_client_detach<!-- {{#callable_declaration:server_client_detach}} -->
Detaches a client from its session.
- **Description**: This function is used to detach a `client` from its associated `session`. It should be called when the client is ready to exit the session, typically when the user initiates a detach command. Before calling this function, ensure that the `client` is not already marked for detachment and that it has an active session. If the `client` is already marked with certain flags indicating it should not be detached, the function will return without making any changes.
- **Inputs**:
    - `c`: A pointer to the `client` structure that is to be detached. Must not be null. If the `client` is already marked for detachment, the function will not perform any action.
    - `msgtype`: An enumeration value of type `msgtype` that indicates the reason for detaching the client. This value is used to set the exit message type for the client.
- **Output**: None
- **See also**: [`server_client_detach`](server-client.c.driver.md#server_client_detach)  (Implementation)


---
### server_client_exec<!-- {{#callable_declaration:server_client_exec}} -->
Executes a command in the context of a client.
- **Description**: This function is intended to be called when a command needs to be executed for a specific client. It requires that the `client` structure is properly initialized and associated with a session. The command string must not be empty; if it is, the function will return immediately without performing any action. The function retrieves the default shell from the client's session options or global options if the session is not available. If the shell is invalid, it defaults to a predefined shell path. The command and shell are then combined and sent to the client's peer for execution.
- **Inputs**:
    - `c`: A pointer to a `client` structure representing the client for which the command is to be executed. Must not be null.
    - `cmd`: A pointer to a null-terminated string containing the command to be executed. Must not be null or empty.
- **Output**: None
- **See also**: [`server_client_exec`](server-client.c.driver.md#server_client_exec)  (Implementation)


---
### server_client_loop<!-- {{#callable_declaration:server_client_loop}} -->
Processes client events in a loop.
- **Description**: This function is responsible for managing the main event loop for clients connected to the server. It should be called to handle client interactions, including checking for window resizes, client exits, and updating the display state of windows and panes. It is expected to be called continuously while the server is running, ensuring that all client-related events are processed in a timely manner. There are no specific preconditions for calling this function, but it should not be called when the server is shutting down.
- **Inputs**:
    - None
- **Output**: None
- **See also**: [`server_client_loop`](server-client.c.driver.md#server_client_loop)  (Implementation)


---
### server_client_get_cwd<!-- {{#callable_declaration:server_client_get_cwd}} -->
Retrieves the current working directory for a client.
- **Description**: This function is used to obtain the current working directory of a client in a session. It should be called when you need to determine the directory context for a client, such as when executing commands that depend on the current directory. The function checks various sources for the current working directory, including the client configuration, the session, and a fallback to the user's home directory if none are found. It is important to ensure that the client and session structures are properly initialized before calling this function.
- **Inputs**:
    - `c`: A pointer to a `client` structure representing the client whose current working directory is to be retrieved. This parameter must not be null.
    - `s`: A pointer to a `session` structure representing the session associated with the client. This parameter can be null.
- **Output**: Returns a pointer to a string containing the current working directory. If no valid directory is found, it returns a pointer to the root directory ("/").
- **See also**: [`server_client_get_cwd`](server-client.c.driver.md#server_client_get_cwd)  (Implementation)


---
### server_client_set_flags<!-- {{#callable_declaration:server_client_set_flags}} -->
Sets flags for a client.
- **Description**: This function is used to modify the flags associated with a specified client. It takes a string of comma-separated flag names, which can be prefixed with '!' to indicate that the flag should be cleared instead of set. The function should be called when you need to update the client's behavior or state based on these flags. It is important to ensure that the client is properly initialized before calling this function, as it directly modifies the client's flag state.
- **Inputs**:
    - `c`: A pointer to a `client` structure representing the client whose flags are to be set. Must not be null.
    - `flags`: A string containing comma-separated flag names. Each flag can be 'read-only', 'ignore-size', 'active-pane', or 'no-detach-on-destroy'. Invalid flags are ignored.
- **Output**: None
- **See also**: [`server_client_set_flags`](server-client.c.driver.md#server_client_set_flags)  (Implementation)


---
### server_client_get_flags<!-- {{#callable_declaration:server_client_get_flags}} -->
Retrieves the flags associated with a client.
- **Description**: This function is used to obtain a string representation of the flags set for a given client. It concatenates the names of the flags that are currently active for the client into a single string, separated by commas. The function should be called with a valid pointer to a `client` structure, which must be properly initialized. The resulting string is statically allocated and will be overwritten on subsequent calls, so it should be used immediately or copied if needed for later use.
- **Inputs**:
    - `c`: A pointer to a `client` structure. Must not be null and should point to a valid client that has been initialized.
- **Output**: Returns a pointer to a statically allocated string containing the concatenated names of the active flags for the client. If no flags are set, an empty string is returned.
- **See also**: [`server_client_get_flags`](server-client.c.driver.md#server_client_get_flags)  (Implementation)


---
### server_client_get_client_window<!-- {{#callable_declaration:server_client_get_client_window}} -->
Retrieves a client window by its ID.
- **Description**: This function is used to obtain a pointer to a `client_window` structure associated with a specific `client` and identified by a unique window ID. It should be called when you need to access the properties or state of a client window. The function will return `NULL` if no matching window is found for the given ID.
- **Inputs**:
    - `c`: A pointer to a `client` structure. Must not be null.
    - `id`: An unsigned integer representing the window ID. Must be a valid ID corresponding to a window associated with the client.
- **Output**: Returns a pointer to a `client_window` structure if found; otherwise, returns `NULL`.
- **See also**: [`server_client_get_client_window`](server-client.c.driver.md#server_client_get_client_window)  (Implementation)


---
### server_client_add_client_window<!-- {{#callable_declaration:server_client_add_client_window}} -->
Adds a client window to the server.
- **Description**: This function is used to add a new client window associated with a specific client identified by the `client` pointer and a unique `id`. It should be called when a new window needs to be created for a client, typically after the client has been initialized. If a window with the specified `id` already exists for the client, it retrieves that existing window instead of creating a new one. The function does not handle null pointers for the client; thus, the caller must ensure that the `client` pointer is valid.
- **Inputs**:
    - `c`: A pointer to the `client` structure representing the client to which the window will be added. Must not be null.
    - `id`: An unsigned integer representing the unique identifier for the window. This value should be within a valid range as defined by the application context.
- **Output**: Returns a pointer to the `client_window` structure representing the newly added or existing client window. If the window could not be created or retrieved, the behavior is undefined.
- **See also**: [`server_client_add_client_window`](server-client.c.driver.md#server_client_add_client_window)  (Implementation)


---
### server_client_get_pane<!-- {{#callable_declaration:server_client_get_pane}} -->
Retrieves the active `window_pane` for a given client.
- **Description**: This function is used to obtain the currently active `window_pane` associated with a specific `client`. It should be called when you need to interact with the pane that the client is currently focused on. If the client is not associated with a session or if the client is not active, the function will return `NULL`. It is important to ensure that the client is properly initialized and has an active session before calling this function.
- **Inputs**:
    - `c`: A pointer to a `client` structure. This parameter must not be null and should point to a valid client that is part of an active session.
- **Output**: Returns a pointer to the active `window_pane` associated with the client. If the client is not active or does not have an associated session, it returns `NULL`.
- **See also**: [`server_client_get_pane`](server-client.c.driver.md#server_client_get_pane)  (Implementation)


---
### server_client_set_pane<!-- {{#callable_declaration:server_client_set_pane}} -->
Sets the pane for a client.
- **Description**: This function is used to associate a specific `window_pane` with a `client`. It should be called when a client is ready to display a particular pane, typically after the client has been initialized and is part of a session. If the `client` does not have an associated session, the function will return without making any changes. The function also logs the action of setting the pane.
- **Inputs**:
    - `c`: A pointer to the `client` structure that represents the client for which the pane is being set. Must not be null.
    - `wp`: A pointer to the `window_pane` structure that represents the pane to be associated with the client. Must not be null.
- **Output**: None
- **See also**: [`server_client_set_pane`](server-client.c.driver.md#server_client_set_pane)  (Implementation)


---
### server_client_remove_pane<!-- {{#callable_declaration:server_client_remove_pane}} -->
Removes a pane from all associated clients.
- **Description**: This function should be called when a pane is no longer needed, typically during cleanup or when a pane is being destroyed. It iterates through all connected clients and removes any reference to the specified pane from their associated windows. It is important to ensure that the `window_pane` structure passed as an argument is valid and properly initialized, as passing a null or invalid pointer may lead to undefined behavior.
- **Inputs**:
    - `wp`: A pointer to a `window_pane` structure that represents the pane to be removed. This pointer must not be null and should point to a valid pane that is currently associated with clients. If the pane is not found in any client's window, no action is taken.
- **Output**: None
- **See also**: [`server_client_remove_pane`](server-client.c.driver.md#server_client_remove_pane)  (Implementation)


---
### server_client_print<!-- {{#callable_declaration:server_client_print}} -->
Prints a message to a client.
- **Description**: This function is used to send a message to a specified client, either in a parsed format or as raw data. It should be called when there is a need to communicate with a client, such as displaying output or logging information. The `client` parameter must not be null, and the function handles different message formats based on the `parse` flag. If `parse` is set to 1, the function processes the message line by line; otherwise, it sanitizes the entire message. The function also ensures that the message is properly formatted for the client's capabilities, such as UTF-8 support.
- **Inputs**:
    - `c`: A pointer to the `client` structure representing the target client. Must not be null.
    - `parse`: An integer flag indicating whether to parse the message (1) or not (0). Valid values are 0 or 1.
    - `evb`: A pointer to an `evbuffer` structure containing the message data. Must not be null.
- **Output**: None
- **See also**: [`server_client_print`](server-client.c.driver.md#server_client_print)  (Implementation)


---
### server_redraw_client<!-- {{#callable_declaration:server_redraw_client}} -->
Marks a client for a full redraw.
- **Description**: This function is used to indicate that a client needs to be fully redrawn. It should be called when the state of the client has changed in a way that requires a complete refresh of its display. The function modifies the client's flags to include all redraw flags, ensuring that the next rendering cycle will account for all necessary updates. It is important to ensure that the `client` structure passed to this function is valid and properly initialized.
- **Inputs**:
    - `c`: A pointer to a `client` structure that represents the client to be redrawn. This pointer must not be null and must point to a valid `client` object. If the pointer is invalid, the behavior of the function is undefined.
- **Output**: None
- **See also**: [`server_redraw_client`](server-fn.c.driver.md#server_redraw_client)  (Implementation)


---
### server_status_client<!-- {{#callable_declaration:server_status_client}} -->
Sets the redraw status flag for a client.
- **Description**: This function is used to mark a client for a status redraw. It should be called when the status information for the client needs to be updated, such as after a change in the session or window state. The function modifies the `flags` field of the `client` structure to include the `CLIENT_REDRAWSTATUS` flag, indicating that the status line should be redrawn. It is important to ensure that the `client` pointer passed to this function is valid and points to an initialized `client` structure.
- **Inputs**:
    - `c`: A pointer to a `struct client`. This pointer must not be null and should point to a valid client structure that has been properly initialized.
- **Output**: None
- **See also**: [`server_status_client`](server-fn.c.driver.md#server_status_client)  (Implementation)


---
### server_redraw_session<!-- {{#callable_declaration:server_redraw_session}} -->
Redraws the session for all connected clients.
- **Description**: This function should be called when a session's state has changed and needs to be reflected in the user interface. It iterates through all connected clients and triggers a redraw for each client that is associated with the specified session. It is important to ensure that the session pointer passed to this function is valid and points to an existing session.
- **Inputs**:
    - `s`: A pointer to a `struct session` that represents the session to be redrawn. This pointer must not be null and should point to a valid session object.
- **Output**: None
- **See also**: [`server_redraw_session`](server-fn.c.driver.md#server_redraw_session)  (Implementation)


---
### server_redraw_session_group<!-- {{#callable_declaration:server_redraw_session_group}} -->
Redraws the session or all sessions in a session group.
- **Description**: This function is used to refresh the display of a session or all sessions within a session group. It should be called when there is a need to update the visual representation of the session, such as after changes to the session's state or content. If the provided session is part of a session group, all sessions in that group will be redrawn. If the session is not part of any group, only the specified session will be redrawn.
- **Inputs**:
    - `s`: A pointer to a `struct session` that represents the session to be redrawn. This parameter must not be null. If the session is not part of a session group, only this session will be redrawn.
- **Output**: None
- **See also**: [`server_redraw_session_group`](server-fn.c.driver.md#server_redraw_session_group)  (Implementation)


---
### server_status_session<!-- {{#callable_declaration:server_status_session}} -->
Updates the status of all clients associated with a given session.
- **Description**: This function should be called when there is a need to refresh or update the status of all clients that are currently connected to a specific session. It iterates through the list of clients and invokes the `server_status_client` function for each client that is associated with the provided session. It is important to ensure that the session pointer passed to this function is valid and points to an existing session.
- **Inputs**:
    - `s`: A pointer to a `struct session` that represents the session whose clients' statuses are to be updated. This pointer must not be null and should point to a valid session object.
- **Output**: None
- **See also**: [`server_status_session`](server-fn.c.driver.md#server_status_session)  (Implementation)


---
### server_status_session_group<!-- {{#callable_declaration:server_status_session_group}} -->
Processes the status of a session or its group.
- **Description**: This function is used to retrieve and process the status of a given `session`. It should be called when you need to check the status of a session, either individually or as part of a group. If the provided `session` is part of a `session_group`, the function will iterate through all sessions in that group and process their statuses. If the session is not part of a group, it will process the status of the session directly. Ensure that the `session` pointer is valid and properly initialized before calling this function.
- **Inputs**:
    - `s`: A pointer to a `session` structure representing the session whose status is to be processed. This pointer must not be null and should point to a valid session object.
- **Output**: The function does not return a value and does not modify the input session pointer. It performs status processing as a side effect.
- **See also**: [`server_status_session_group`](server-fn.c.driver.md#server_status_session_group)  (Implementation)


---
### server_redraw_window<!-- {{#callable_declaration:server_redraw_window}} -->
Redraws the specified window for all connected clients.
- **Description**: This function should be called when a window's content needs to be refreshed for all clients currently connected to the server. It iterates through all clients and triggers a redraw for those whose current session is associated with the specified window. It is important to ensure that the window pointer passed as an argument is valid and points to an existing window.
- **Inputs**:
    - `w`: A pointer to a `struct window` that represents the window to be redrawn. This pointer must not be null and should point to a valid window structure.
- **Output**: None
- **See also**: [`server_redraw_window`](server-fn.c.driver.md#server_redraw_window)  (Implementation)


---
### server_redraw_window_borders<!-- {{#callable_declaration:server_redraw_window_borders}} -->
Marks the window borders for redrawing.
- **Description**: This function should be called when the visual representation of a window's borders needs to be updated. It iterates through all connected clients and sets a flag to indicate that the borders of the specified window should be redrawn. It is important to ensure that the `window` parameter is valid and corresponds to an existing window that is currently being displayed to clients.
- **Inputs**:
    - `w`: A pointer to a `struct window` that represents the window whose borders need to be redrawn. This pointer must not be null and should point to a valid window structure.
- **Output**: None
- **See also**: [`server_redraw_window_borders`](server-fn.c.driver.md#server_redraw_window_borders)  (Implementation)


---
### server_status_window<!-- {{#callable_declaration:server_status_window}} -->
Redraws the status line for all sessions containing the specified window.
- **Description**: This function should be called when the status line needs to be updated for all sessions that include the specified window. It is particularly useful when the state of the window changes and the status line needs to reflect this change. The function iterates through all active sessions and triggers a redraw of the status line for each session that has the specified window. It is important to ensure that the window pointer passed to this function is valid and points to an existing window.
- **Inputs**:
    - `w`: A pointer to a `struct window` that represents the window whose status line needs to be redrawn. This pointer must not be null and should point to a valid window structure.
- **Output**: None
- **See also**: [`server_status_window`](server-fn.c.driver.md#server_status_window)  (Implementation)


---
### server_lock<!-- {{#callable_declaration:server_lock}} -->
Locks all clients with active sessions.
- **Description**: This function should be called when you need to ensure that all clients with active sessions are locked, preventing any further interaction until they are unlocked. It iterates through all connected clients and applies a lock to those that have an active session. It is important to ensure that this function is called in a context where client sessions are valid and active.
- **Inputs**:
    - None
- **Output**: None
- **See also**: [`server_lock`](server-fn.c.driver.md#server_lock)  (Implementation)


---
### server_lock_session<!-- {{#callable_declaration:server_lock_session}} -->
Locks the session associated with the given session pointer.
- **Description**: This function is used to lock all clients that are associated with a specific session. It should be called when you want to prevent any interaction with the session, typically when the session is being paused or secured. The function iterates through all connected clients and locks those that are currently using the specified session. It is important to ensure that the session pointer passed to this function is valid and points to an existing session.
- **Inputs**:
    - `s`: A pointer to a `struct session` that represents the session to be locked. This pointer must not be null and should point to a valid session object.
- **Output**: None
- **See also**: [`server_lock_session`](server-fn.c.driver.md#server_lock_session)  (Implementation)


---
### server_lock_client<!-- {{#callable_declaration:server_lock_client}} -->
Locks a client session.
- **Description**: This function is used to lock a client session, preventing further input until it is unlocked. It should be called when the client is active and not already in a control or suspended state. The function retrieves a lock command from the client's session options and executes it if valid. If the command is empty or exceeds the maximum message size, the function will return without taking action. The client will be marked as suspended, and the terminal will be cleared and set to a raw mode.
- **Inputs**:
    - `c`: A pointer to a `client` structure representing the client to be locked. Must not be null. If the client is already in a control state or suspended, the function will return without modifying the client.
- **Output**: None
- **See also**: [`server_lock_client`](server-fn.c.driver.md#server_lock_client)  (Implementation)


---
### server_kill_pane<!-- {{#callable_declaration:server_kill_pane}} -->
Terminates a specified pane in a window.
- **Description**: This function is used to close a specific pane within a window. It should be called when you want to remove a pane from the user interface. If the pane being closed is the last one in the window, the entire window will be closed instead. It is important to ensure that the pane is valid and belongs to a window before calling this function, as invalid or null pointers may lead to undefined behavior.
- **Inputs**:
    - `wp`: A pointer to a `struct window_pane` representing the pane to be closed. This pointer must not be null and must point to a valid pane that is part of a window.
- **Output**: None
- **See also**: [`server_kill_pane`](server-fn.c.driver.md#server_kill_pane)  (Implementation)


---
### server_kill_window<!-- {{#callable_declaration:server_kill_window}} -->
Terminates a specified window.
- **Description**: This function is used to terminate a `window` and optionally renumber the sessions associated with it. It should be called when you want to close a window and clean up any associated resources. The function will detach the window from all sessions it is part of, and if the `renumber` parameter is set to a non-zero value, it will also renumber the sessions to maintain continuity. It is important to ensure that the `window` is valid and properly initialized before calling this function.
- **Inputs**:
    - `w`: A pointer to the `window` structure that is to be terminated. Must not be null and should point to a valid window.
    - `renumber`: An integer flag indicating whether to renumber the sessions after the window is closed. Valid values are 0 (do not renumber) and 1 (renumber).
- **Output**: None
- **See also**: [`server_kill_window`](server-fn.c.driver.md#server_kill_window)  (Implementation)


---
### server_renumber_session<!-- {{#callable_declaration:server_renumber_session}} -->
Renumbers the windows of a session.
- **Description**: This function should be called when there is a need to renumber the windows associated with a given session. It checks the session's options to determine if renumbering is enabled. If the option 'renumber-windows' is set, it will either renumber all windows in the session group if the session belongs to one, or just the windows of the specified session if it does not belong to a group. It is important to ensure that the session is properly initialized before calling this function.
- **Inputs**:
    - `s`: A pointer to a `struct session` representing the session whose windows are to be renumbered. This pointer must not be null. If the session is invalid or not initialized, the behavior is undefined.
- **Output**: None
- **See also**: [`server_renumber_session`](server-fn.c.driver.md#server_renumber_session)  (Implementation)


---
### server_renumber_all<!-- {{#callable_declaration:server_renumber_all}} -->
Renumbers all sessions.
- **Description**: This function is used to renumber all active sessions in the server. It should be called when there is a need to update the session identifiers, typically after sessions have been created or destroyed. There are no parameters to pass, and it operates on the global state of the server. It is important to ensure that this function is called in a context where session management is appropriate, as it may affect the integrity of session references.
- **Inputs**:
    - None
- **Output**: None
- **See also**: [`server_renumber_all`](server-fn.c.driver.md#server_renumber_all)  (Implementation)


---
### server_link_window<!-- {{#callable_declaration:server_link_window}} -->
Links a window from one session to another.
- **Description**: This function is used to link a window from a source session to a destination session. It should be called when you want to transfer a window between sessions, ensuring that the source and destination sessions are not part of the same session group. The function can also detach the window from the destination session if specified by the `killflag`. It is important to note that the `dstidx` parameter determines the index at which the window will be linked in the destination session, and if it is set to -1, the function will use a base index defined in the session options. The `selectflag` parameter indicates whether the newly linked window should be selected after linking.
- **Inputs**:
    - `src`: Pointer to the source `session` structure. Must not be null.
    - `srcwl`: Pointer to the `winlink` structure representing the window to be linked. Must not be null.
    - `dst`: Pointer to the destination `session` structure. Must not be null.
    - `dstidx`: Index in the destination session where the window will be linked. Valid values are -1 or a non-negative integer.
    - `killflag`: Flag indicating whether to detach the window from the destination session if it already exists. Valid values are 0 (do not kill) or 1 (kill).
    - `selectflag`: Flag indicating whether to select the newly linked window after linking. Valid values are 0 (do not select) or 1 (select).
    - `cause`: Pointer to a string pointer where error messages can be stored. The caller retains ownership and must allocate memory for it.
- **Output**: Returns 0 on success, or -1 on failure. If an error occurs, an error message may be stored in the `cause` parameter.
- **See also**: [`server_link_window`](server-fn.c.driver.md#server_link_window)  (Implementation)


---
### server_unlink_window<!-- {{#callable_declaration:server_unlink_window}} -->
Unlinks a window from a session.
- **Description**: This function is used to unlink a `winlink` from a `session`. It should be called when a window needs to be removed from a session, typically when the window is no longer needed or is being closed. The function first attempts to detach the specified `winlink` from the `session`. If the detachment is successful, it will also destroy the session group associated with the session. If the detachment fails, it will trigger a redraw of the session group instead. It is important to ensure that the `session` and `winlink` pointers are valid before calling this function.
- **Inputs**:
    - `s`: A pointer to the `session` structure from which the window will be unlinked. Must not be null.
    - `wl`: A pointer to the `winlink` structure that represents the window to be unlinked. Must not be null.
- **Output**: None
- **See also**: [`server_unlink_window`](server-fn.c.driver.md#server_unlink_window)  (Implementation)


---
### server_destroy_pane<!-- {{#callable_declaration:server_destroy_pane}} -->
Destroys a window pane.
- **Description**: This function is used to safely destroy a `window_pane`, releasing any associated resources. It should be called when a pane is no longer needed, typically when the user closes a pane or when the application is shutting down. The function checks the pane's status and options to determine if it should remain visible after exit. If the `notify` parameter is set, it will send notifications about the pane's exit status. It is important to ensure that the pane is properly initialized before calling this function.
- **Inputs**:
    - `wp`: A pointer to the `window_pane` structure to be destroyed. Must not be null.
    - `notify`: An integer flag indicating whether to notify other components about the pane's exit. Valid values are 0 (no notification) and 1 (send notification).
- **Output**: None
- **See also**: [`server_destroy_pane`](server-fn.c.driver.md#server_destroy_pane)  (Implementation)


---
### server_destroy_session<!-- {{#callable_declaration:server_destroy_session}} -->
Destroys a session and updates associated clients.
- **Description**: This function should be called when a session is no longer needed. It detaches clients from the session and may reassign them to a new session based on the 'detach-on-destroy' option. The function handles various scenarios for client reassignment, including finding a newer session or a previous/next session. It is important to ensure that the session being destroyed is valid and properly initialized before calling this function.
- **Inputs**:
    - `s`: A pointer to the `session` structure that is to be destroyed. Must not be null. If the session is invalid or not initialized, the behavior is undefined.
- **Output**: None
- **See also**: [`server_destroy_session`](server-fn.c.driver.md#server_destroy_session)  (Implementation)


---
### server_check_unattached<!-- {{#callable_declaration:server_check_unattached}} -->
Checks and destroys unattached sessions.
- **Description**: This function is intended to be called periodically to manage sessions that are no longer attached to any clients. It checks each session to determine if it is unattached and whether it should be destroyed based on its configuration options. The function will only act on sessions that have the 'destroy-unattached' option set to a value that allows for their destruction. It is important to ensure that this function is called in a context where session management is appropriate, as it may lead to the loss of session data.
- **Inputs**:
    - None
- **Output**: None
- **See also**: [`server_check_unattached`](server-fn.c.driver.md#server_check_unattached)  (Implementation)


---
### server_unzoom_window<!-- {{#callable_declaration:server_unzoom_window}} -->
Unzooms the specified window.
- **Description**: This function is used to unzoom a window, restoring it to its original size. It should be called when a window is currently zoomed in, and it will trigger a redraw of the window if the unzoom operation is successful. The function assumes that the window has been properly initialized and is in a valid state for unzooming. If the window is not zoomed, the function will have no effect.
- **Inputs**:
    - `w`: A pointer to a `struct window` that represents the window to be unzoomed. This pointer must not be null and should point to a valid window structure. If the window is not in a zoomed state, the function will simply return without making any changes.
- **Output**: The function does not return a value and does not modify any inputs directly. It may trigger a redraw of the window if the unzoom operation is successful.
- **See also**: [`server_unzoom_window`](server-fn.c.driver.md#server_unzoom_window)  (Implementation)


---
### status_timer_start<!-- {{#callable_declaration:status_timer_start}} -->
Starts the status timer for a client.
- **Description**: This function is used to initiate the status timer for a given client. It should be called when the client is ready to start receiving status updates. If the timer is already initialized, it will be deleted and reset. If the associated session has status updates enabled, the status timer callback will be invoked immediately. It is important to ensure that the client and its session are properly initialized before calling this function.
- **Inputs**:
    - `c`: A pointer to a `struct client` representing the client for which the status timer is to be started. This pointer must not be null, and the client must be properly initialized. If the client is invalid or uninitialized, the behavior is undefined.
- **Output**: None
- **See also**: [`status_timer_start`](status.c.driver.md#status_timer_start)  (Implementation)


---
### status_timer_start_all<!-- {{#callable_declaration:status_timer_start_all}} -->
Starts all status timers for connected clients.
- **Description**: This function is intended to be called when you want to initiate the status timers for all connected clients. It iterates through the list of clients and invokes the `status_timer_start` function for each one. It is important to ensure that the clients are properly initialized and connected before calling this function, as it assumes that the client list is populated. There are no side effects on the clients themselves, but if there are no clients connected, the function will simply do nothing.
- **Inputs**:
    - None
- **Output**: None
- **See also**: [`status_timer_start_all`](status.c.driver.md#status_timer_start_all)  (Implementation)


---
### status_update_cache<!-- {{#callable_declaration:status_update_cache}} -->
Updates the status line cache for a session.
- **Description**: This function should be called to refresh the status line settings for a given session. It retrieves the number of status lines and their position from the session's options. If the number of status lines is zero, the status position is set to -1, indicating that no status line should be displayed. If the status position option is set to zero, the status position is set to 0, otherwise it is set to 1. This function must be called after the session has been initialized and options have been set.
- **Inputs**:
    - `s`: A pointer to a `struct session`. Must not be null. The caller retains ownership of the session structure.
- **Output**: None
- **See also**: [`status_update_cache`](status.c.driver.md#status_update_cache)  (Implementation)


---
### status_at_line<!-- {{#callable_declaration:status_at_line}} -->
Returns the status line position for a client.
- **Description**: This function is used to retrieve the current status line position for a given client. It should be called when the client is active and not in a state that disables status updates, such as when the client is in control mode or has the status turned off. If the client is in a valid state, the function will return the position of the status line, which can be affected by the size of the terminal and the status line size. If the client is not in a valid state, it will return -1 or the current status at the session.
- **Inputs**:
    - `c`: A pointer to a `struct client` representing the client for which the status line position is being queried. This pointer must not be null. If the client is in a state that disables status updates, the function will return -1.
- **Output**: Returns an integer representing the status line position. If the client is in a valid state, it returns the calculated position; otherwise, it returns -1.
- **See also**: [`status_at_line`](status.c.driver.md#status_at_line)  (Implementation)


---
### status_line_size<!-- {{#callable_declaration:status_line_size}} -->
Returns the size of the status line.
- **Description**: This function retrieves the number of status lines for a given client. It should be called when the client is expected to display status information. If the client's status is turned off or if it is in control mode, the function will return 0. If the client's session is not set, it will return a default value obtained from global options. Otherwise, it returns the number of status lines associated with the client's session.
- **Inputs**:
    - `c`: A pointer to a `struct client`. Must not be null. If the client is in control mode or has the status turned off, the function will return 0.
- **Output**: Returns an unsigned integer representing the number of status lines. If the client is in control mode or has the status turned off, it returns 0. If the session is null, it returns a default value from global options.
- **See also**: [`status_line_size`](status.c.driver.md#status_line_size)  (Implementation)


---
### status_get_range<!-- {{#callable_declaration:status_get_range}} -->
Retrieves the style range for a given position in the status line.
- **Description**: This function is used to obtain the `style_range` associated with a specific position defined by the coordinates `x` and `y` in the status line. It should be called with valid coordinates, where `y` must be less than the number of entries in the status line. If the specified `y` coordinate is out of bounds, the function will return `NULL`. If the `x` coordinate falls within the start and end range of any `style_range` entry for the specified `y`, that entry will be returned; otherwise, `NULL` will be returned.
- **Inputs**:
    - `c`: A pointer to a `client` structure. Must not be null.
    - `x`: An unsigned integer representing the x-coordinate. Valid values depend on the width of the status line.
    - `y`: An unsigned integer representing the y-coordinate. Must be less than the number of entries in the status line.
- **Output**: Returns a pointer to a `style_range` structure if a matching range is found; otherwise, returns `NULL`.
- **See also**: [`status_get_range`](status.c.driver.md#status_get_range)  (Implementation)


---
### status_init<!-- {{#callable_declaration:status_init}} -->
Initializes the status line for a client.
- **Description**: This function should be called to set up the status line for a `client` before it is used. It initializes the status line's entries and prepares the screen for display. The function assumes that the `client` structure has been properly allocated and initialized. It is important to call this function after the client has been created but before any operations that depend on the status line.
- **Inputs**:
    - `c`: A pointer to a `client` structure that represents the client whose status line is to be initialized. This pointer must not be null, and the `client` must be properly initialized before calling this function.
- **Output**: None
- **See also**: [`status_init`](status.c.driver.md#status_init)  (Implementation)


---
### status_free<!-- {{#callable_declaration:status_free}} -->
Frees resources associated with a `client`.
- **Description**: This function is intended to be called when a `client` is no longer needed, typically during cleanup or shutdown processes. It releases memory allocated for the status line entries and their associated ranges, as well as any active screen resources. It is important to ensure that this function is called only after the `client` has been properly initialized and is no longer in use, to avoid accessing freed memory.
- **Inputs**:
    - `c`: A pointer to a `struct client`. Must not be null. The function assumes ownership of the resources associated with this client and will free them.
- **Output**: None
- **See also**: [`status_free`](status.c.driver.md#status_free)  (Implementation)


---
### status_redraw<!-- {{#callable_declaration:status_redraw}} -->
Redraws the status line for a client.
- **Description**: This function is used to update and redraw the status line for a specified client. It should be called when the status line needs to be refreshed, such as after changes in the session or window state. Preconditions include that the client must have an active screen and a valid status line. If the client has no status line or if the terminal height is zero, the function will return early without making changes. The function also handles color and style updates based on the current options set for the session.
- **Inputs**:
    - `c`: A pointer to a `struct client` representing the client whose status line is to be redrawn. This pointer must not be null and must point to a valid client structure.
- **Output**: Returns an integer indicating whether the status line was changed (1) or not (0). A return value of 1 indicates that the status line was updated, while 0 indicates no changes were made.
- **See also**: [`status_redraw`](status.c.driver.md#status_redraw)  (Implementation)


---
### status_message_clear<!-- {{#callable_declaration:status_message_clear}} -->
Clears the status message for a client.
- **Description**: This function is used to clear the current status message displayed for a client. It should be called when the status message is no longer needed, such as after it has been displayed or when a new message is to be set. The function checks if the `message_string` is not null before attempting to free it, ensuring that no invalid memory access occurs. If the `prompt_string` is also null after clearing the message, it updates the client's terminal flags to allow cursor visibility and unfreeze the terminal if it was previously frozen. This function may affect the visual state of the terminal, so it should be used judiciously.
- **Inputs**:
    - `c`: A pointer to a `struct client`. Must not be null. The function assumes ownership of the `message_string` within the client structure, freeing it if it is set.
- **Output**: None
- **See also**: [`status_message_clear`](status.c.driver.md#status_message_clear)  (Implementation)


---
### status_message_redraw<!-- {{#callable_declaration:status_message_redraw}} -->
Redraws the status message for a client.
- **Description**: This function should be called when the status message needs to be updated on the client's terminal. It is important to ensure that the client has a valid terminal size before invoking this function, as it will not perform any operations if the terminal dimensions are zero. The function will redraw the status line and update the message displayed, taking into account any styles that may be applied. If the new message is identical to the previous one, no redraw will occur, and the function will return 0; otherwise, it will return 1 to indicate that a redraw has taken place.
- **Inputs**:
    - `c`: A pointer to a `struct client` representing the client whose status message is to be redrawn. This pointer must not be null.
- **Output**: Returns an integer: 0 if no redraw was necessary (the message is unchanged), or 1 if the status message was successfully redrawn.
- **See also**: [`status_message_redraw`](status.c.driver.md#status_message_redraw)  (Implementation)


---
### status_prompt_set<!-- {{#callable_declaration:status_prompt_set}} -->
Sets a status prompt for a client.
- **Description**: This function is used to display a prompt to the user, allowing for input and interaction. It should be called when a prompt needs to be shown, typically after the client has been initialized. The function clears any existing status messages and prepares the client for a new prompt. It handles various flags to customize the prompt behavior, such as whether it should be incremental or formatted. The input callback and free callback are used to manage user input and cleanup, respectively.
- **Inputs**:
    - `c`: A pointer to the `client` structure representing the client that will display the prompt. Must not be null.
    - `fs`: A pointer to the `cmd_find_state` structure that holds the state for command finding. Can be null, in which case default formatting is used.
    - `msg`: A string containing the message to display in the prompt. Must not be null.
    - `input`: A string representing the initial input for the prompt. Can be null, in which case an empty string is used.
    - `inputcb`: A callback function to handle input from the user. Must not be null.
    - `freecb`: A callback function to free any allocated data associated with the prompt. Must not be null.
    - `data`: A pointer to user-defined data that will be passed to the input callback. Can be null.
    - `flags`: An integer representing various flags that modify the behavior of the prompt. Valid values include PROMPT_NOFORMAT, PROMPT_INCREMENTAL, and others.
    - `prompt_type`: An enumeration value indicating the type of prompt being set. Must be a valid `prompt_type`.
- **Output**: This function does not return a value and does not mutate any inputs directly. It modifies the state of the `client` to prepare it for displaying a prompt.
- **See also**: [`status_prompt_set`](status.c.driver.md#status_prompt_set)  (Implementation)


---
### status_prompt_clear<!-- {{#callable_declaration:status_prompt_clear}} -->
Clears the status prompt for a client.
- **Description**: This function is used to clear the status prompt associated with a `client`. It should be called when the prompt is no longer needed, such as when the user has completed their input or when the application is transitioning to a different state. The function will free any allocated resources related to the prompt, including the prompt string, formats, and any associated data. It is important to ensure that the `client` structure is properly initialized before calling this function, as it relies on the presence of valid pointers within the `client` structure.
- **Inputs**:
    - `c`: A pointer to a `client` structure. This parameter must not be null and should point to a valid `client` instance that has been initialized. If the `prompt_string` within the `client` is null, the function will return immediately without performing any actions.
- **Output**: None
- **See also**: [`status_prompt_clear`](status.c.driver.md#status_prompt_clear)  (Implementation)


---
### status_prompt_redraw<!-- {{#callable_declaration:status_prompt_redraw}} -->
Redraws the status prompt for a client.
- **Description**: This function is used to refresh the display of the status prompt for a given client. It should be called when the prompt needs to be updated, such as after user input or when the terminal size changes. The function checks if the terminal dimensions are valid before proceeding with the redraw. If the redraw results in no changes to the screen, it will return 0; otherwise, it will return 1, indicating that a redraw occurred.
- **Inputs**:
    - `c`: A pointer to a `struct client` representing the client whose status prompt is to be redrawn. This pointer must not be null.
- **Output**: Returns an integer: 0 if no redraw was necessary, or 1 if the screen was updated.
- **See also**: [`status_prompt_redraw`](status.c.driver.md#status_prompt_redraw)  (Implementation)


---
### status_prompt_key<!-- {{#callable_declaration:status_prompt_key}} -->
Processes a key event for the status prompt.
- **Description**: This function is intended to handle key events for the status prompt in a client session. It should be called when a key event occurs, and it will update the prompt buffer accordingly. The function manages various key inputs, including navigation, editing, and command execution. It is important to ensure that the client is properly initialized and that the prompt is active before invoking this function. The function may modify the prompt buffer and trigger callbacks for input handling.
- **Inputs**:
    - `c`: A pointer to a `struct client` representing the client session. Must not be null.
    - `key`: A `key_code` representing the key event. Valid values include ASCII characters, control characters, and special keys defined in the key codes. The function will handle invalid key codes gracefully.
- **Output**: Returns 0 on success, or 1 if the key event was processed as a numeric input. The function may also modify the prompt buffer and trigger input callbacks.
- **See also**: [`status_prompt_key`](status.c.driver.md#status_prompt_key)  (Implementation)


---
### status_prompt_update<!-- {{#callable_declaration:status_prompt_update}} -->
Updates the status prompt for a client.
- **Description**: This function is used to update the status prompt displayed to a client. It should be called when there is a need to change the prompt message or the input context. The function expects that the `client` structure has been properly initialized and is valid. It will free any existing prompt strings and buffers associated with the client before setting new values. If the provided message or input is invalid (e.g., null), the function will handle it gracefully without crashing.
- **Inputs**:
    - `c`: A pointer to a `struct client`. Must not be null and should point to a valid client structure.
    - `msg`: A pointer to a string containing the new prompt message. Must not be null.
    - `input`: A pointer to a string containing the input context. Must not be null.
- **Output**: None
- **See also**: [`status_prompt_update`](status.c.driver.md#status_prompt_update)  (Implementation)


---
### status_prompt_load_history<!-- {{#callable_declaration:status_prompt_load_history}} -->
Loads the command history from a file.
- **Description**: This function is used to load command history from a file into the application. It should be called when the application is ready to restore previous commands, typically during initialization. The function attempts to find the history file and read its contents line by line. If the history file cannot be found or opened, the function will log an error and return without making any changes. It is important to ensure that the history file exists and is accessible before calling this function.
- **Inputs**:
    - `None`: This function does not take any parameters.
- **Output**: None
- **See also**: [`status_prompt_load_history`](status.c.driver.md#status_prompt_load_history)  (Implementation)


---
### status_prompt_save_history<!-- {{#callable_declaration:status_prompt_save_history}} -->
Saves the status prompt history to a file.
- **Description**: This function is intended to be called when the application needs to persist the current status prompt history to a file. It will locate the appropriate history file and write the history entries categorized by their types. It is important to ensure that this function is called in a context where the history is valid and ready to be saved. If the history file cannot be found or opened, the function will log an error but will not return any indication of failure.
- **Inputs**:
    - None
- **Output**: None
- **See also**: [`status_prompt_save_history`](status.c.driver.md#status_prompt_save_history)  (Implementation)


---
### status_prompt_type_string<!-- {{#callable_declaration:status_prompt_type_string}} -->
Returns the string representation of a prompt type.
- **Description**: This function is used to retrieve the string associated with a specific prompt type, identified by the `type` parameter. It is important to ensure that the `type` provided is within the valid range, specifically between 0 and `PROMPT_NTYPES - 1`. If an invalid type is passed (i.e., greater than or equal to `PROMPT_NTYPES`), the function will return the string "invalid". This function is typically called when there is a need to display or log the type of prompt being used.
- **Inputs**:
    - `type`: An unsigned integer representing the prompt type. Valid values range from 0 to PROMPT_NTYPES - 1. If the value is out of this range, the function will return 'invalid'.
- **Output**: Returns a pointer to a string that represents the prompt type. If the input type is invalid, it returns a pointer to the string 'invalid'.
- **See also**: [`status_prompt_type_string`](status.c.driver.md#status_prompt_type_string)  (Implementation)


---
### status_prompt_type<!-- {{#callable_declaration:status_prompt_type}} -->
Returns the prompt type corresponding to the given string.
- **Description**: This function is used to retrieve the prompt type enumeration value based on a string input. It should be called with a valid prompt type string, which must match one of the predefined prompt types. If the input string does not correspond to any known prompt type, the function will return `PROMPT_TYPE_INVALID`. It is important to ensure that the input string is not null.
- **Inputs**:
    - `type`: A pointer to a null-terminated string representing the prompt type. This string must not be null and should match one of the predefined prompt types. If the string does not match any known type, the function will return `PROMPT_TYPE_INVALID`.
- **Output**: Returns an enumeration value of type `prompt_type`, which indicates the corresponding prompt type. If the input string does not match any known prompt type, it returns `PROMPT_TYPE_INVALID`.
- **See also**: [`status_prompt_type`](status.c.driver.md#status_prompt_type)  (Implementation)


---
### resize_window<!-- {{#callable_declaration:resize_window}} -->
Resizes a window to the specified dimensions.
- **Description**: This function is used to resize a window to the specified width and height in cells, as well as to set the pixel dimensions for the window. It should be called when the window needs to be adjusted, such as during initialization or when the user requests a resize. The function enforces minimum and maximum size constraints, ensuring that the window does not become smaller than the defined limits. If the window is currently zoomed, it will be unzoomed before resizing. After resizing, the layout is updated, and notifications are sent to inform other components of the change.
- **Inputs**:
    - `w`: A pointer to the `window` structure that represents the window to be resized. Must not be null.
    - `sx`: The desired width of the window in cells. Must be at least `WINDOW_MINIMUM` and no greater than `WINDOW_MAXIMUM`. If an invalid value is provided, it will be clamped to the nearest valid value.
    - `sy`: The desired height of the window in cells. Must be at least `WINDOW_MINIMUM` and no greater than `WINDOW_MAXIMUM`. If an invalid value is provided, it will be clamped to the nearest valid value.
    - `xpixel`: The desired width of the window in pixels. This value is used for pixel-based rendering and can be set to any non-negative integer.
    - `ypixel`: The desired height of the window in pixels. This value is used for pixel-based rendering and can be set to any non-negative integer.
- **Output**: None
- **See also**: [`resize_window`](resize.c.driver.md#resize_window)  (Implementation)


---
### default_window_size<!-- {{#callable_declaration:default_window_size}} -->
Calculates the default window size.
- **Description**: This function determines the default size of a window based on the provided client, session, and window structures, as well as the specified type. It should be called when initializing a window to ensure it has appropriate dimensions. The function can adjust the size based on the latest client settings or fallback to default values if necessary. It is important to ensure that the provided pointers for width and height are valid and initialized, as the function will modify them directly. The function enforces minimum and maximum size constraints, ensuring that the resulting dimensions are within acceptable limits.
- **Inputs**:
    - `c`: A pointer to a `struct client`. Must not be null. If null, the function will use default size options.
    - `s`: A pointer to a `struct session`. Must not be null. This is used to retrieve session-specific options.
    - `w`: A pointer to a `struct window`. Must not be null. This is used to retrieve window-specific options.
    - `sx`: A pointer to a `u_int` where the calculated width will be stored. Must be initialized.
    - `sy`: A pointer to a `u_int` where the calculated height will be stored. Must be initialized.
    - `xpixel`: A pointer to a `u_int` where the pixel width will be stored. Must be initialized.
    - `ypixel`: A pointer to a `u_int` where the pixel height will be stored. Must be initialized.
    - `type`: An integer indicating the type of window size to calculate. Valid values are defined in the header. If set to -1, the function will use a default type.
- **Output**: The function does not return a value but modifies the values pointed to by `sx`, `sy`, `xpixel`, and `ypixel` to reflect the calculated window size.
- **See also**: [`default_window_size`](resize.c.driver.md#default_window_size)  (Implementation)


---
### recalculate_size<!-- {{#callable_declaration:recalculate_size}} -->
Recalculates the size of a window.
- **Description**: This function is used to adjust the size of a window based on its current configuration and the specified resizing options. It should be called when the window is active and has a valid pane. The function checks if the window's size needs to be updated based on the current resizing type and whether the resizing should occur immediately or be deferred. If the size has not changed, it updates the window's offset instead. It is important to ensure that the window is not in the process of being destroyed before calling this function.
- **Inputs**:
    - `w`: A pointer to a `struct window` that represents the window to be resized. This pointer must not be null and must point to a valid window structure that is currently active.
    - `now`: An integer flag indicating whether the resizing should occur immediately (non-zero value) or be deferred (zero value). This parameter can take any integer value, but typically a value of 1 indicates immediate resizing.
- **Output**: The function does not return a value. It may mutate the state of the `struct window` pointed to by `w`, specifically updating its size and pixel dimensions based on the calculations performed.
- **See also**: [`recalculate_size`](resize.c.driver.md#recalculate_size)  (Implementation)


---
### recalculate_sizes<!-- {{#callable_declaration:recalculate_sizes}} -->
Recalculates the sizes of windows and panes.
- **Description**: This function should be called when there is a need to update the sizes of windows and panes in the application. It is typically used after a resize event or when the layout needs to be adjusted. There are no parameters to pass, and it does not return any value. It is important to ensure that the application is in a valid state for resizing before calling this function.
- **Inputs**:
    - None
- **Output**: None
- **See also**: [`recalculate_sizes`](resize.c.driver.md#recalculate_sizes)  (Implementation)


---
### recalculate_sizes_now<!-- {{#callable_declaration:recalculate_sizes_now}} -->
Recalculates the sizes of windows and updates session status.
- **Description**: This function should be called to update the sizes of all windows and the attached status of sessions based on the current state. It iterates through all sessions to reset their attached counts and updates their status line information. It also checks each client to determine if they are attached to a session and adjusts the status line visibility accordingly. Finally, it recalculates the size of each window based on the provided parameter. It is important to call this function when the layout or number of clients changes to ensure the display remains accurate.
- **Inputs**:
    - `now`: An integer representing the current time or state used for recalculating sizes. Must be a non-negative integer.
- **Output**: None
- **See also**: [`recalculate_sizes_now`](resize.c.driver.md#recalculate_sizes_now)  (Implementation)


---
### input_init<!-- {{#callable_declaration:input_init}} -->
Initializes an input context.
- **Description**: This function is used to create and initialize an `input_ctx` structure, which is essential for handling input in a window pane. It must be called with a valid `window_pane`, a `bufferevent` for event handling, and a `colour_palette` for color management. The function allocates memory for the input context and sets up initial values, including a buffer for input data. If memory allocation fails for any of the components, the function will terminate the program with an error message.
- **Inputs**:
    - `wp`: A pointer to a `window_pane` structure. Must not be null.
    - `bev`: A pointer to a `bufferevent` structure for handling events. Must not be null.
    - `palette`: A pointer to a `colour_palette` structure for color management. Must not be null.
- **Output**: Returns a pointer to the initialized `input_ctx` structure.
- **See also**: [`input_init`](input.c.driver.md#input_init)  (Implementation)


---
### input_free<!-- {{#callable_declaration:input_free}} -->
Frees resources associated with an `input_ctx`.
- **Description**: This function should be called to release all resources allocated for an `input_ctx` structure. It is essential to invoke this function when the input context is no longer needed to prevent memory leaks. The function will free any dynamically allocated strings within the `param_list`, the input buffer, and the `since_ground` buffer. It also ensures that any associated timers are properly deleted. It is important to ensure that the `ictx` parameter is not null before calling this function.
- **Inputs**:
    - `ictx`: A pointer to an `input_ctx` structure that holds the context to be freed. This pointer must not be null. If it is null, the function will not perform any operations.
- **Output**: None
- **See also**: [`input_free`](input.c.driver.md#input_free)  (Implementation)


---
### input_reset<!-- {{#callable_declaration:input_reset}} -->
Resets the input context.
- **Description**: This function is used to reset the state of an `input_ctx` structure, which is typically associated with handling input for a terminal pane. It should be called when you want to clear any existing input state and prepare the context for new input. The `clear` parameter determines whether the screen should be cleared; if set to a non-zero value and the associated window pane is not null, the screen will be reset and cleared. It is important to ensure that the `input_ctx` is properly initialized before calling this function.
- **Inputs**:
    - `ictx`: A pointer to the `input_ctx` structure that needs to be reset. Must not be null.
    - `clear`: An integer flag indicating whether to clear the screen (non-zero to clear). This parameter can be zero or one.
- **Output**: None
- **See also**: [`input_reset`](input.c.driver.md#input_reset)  (Implementation)


---
### input_pending<!-- {{#callable_declaration:input_pending}} -->
Returns the pending input buffer.
- **Description**: This function retrieves the input buffer that has been pending since the last ground state. It should be called when there is a need to access the input data that has not yet been processed. The caller must ensure that the `input_ctx` structure is properly initialized before invoking this function. If the `input_ctx` is invalid or uninitialized, the behavior is undefined.
- **Inputs**:
    - `ictx`: A pointer to an `input_ctx` structure that holds the context for input processing. This pointer must not be null and should point to a valid, initialized `input_ctx` instance.
- **Output**: Returns a pointer to an `evbuffer` structure containing the pending input data. If there is no pending input, the returned pointer may be null.
- **See also**: [`input_pending`](input.c.driver.md#input_pending)  (Implementation)


---
### input_parse_pane<!-- {{#callable_declaration:input_parse_pane}} -->
Parses input data for a window pane.
- **Description**: This function is intended to be called when input data needs to be processed for a specific `window_pane`. It retrieves new data based on the current offset, parses that data, and updates the pane's used data offset accordingly. It is important to ensure that the `window_pane` is properly initialized before calling this function, as it relies on the internal state of the pane to function correctly. If the pane is not initialized or is in an invalid state, the behavior of this function may be unpredictable.
- **Inputs**:
    - `wp`: A pointer to a `struct window_pane`. This parameter must not be null and should point to a valid, initialized window pane. The function expects the pane to be in a state where it can accept input parsing. If the pointer is null or the pane is not properly initialized, the function may lead to undefined behavior.
- **Output**: This function does not return a value and does not mutate any inputs directly. However, it updates the internal state of the `window_pane` by modifying its offset and potentially its data.
- **See also**: [`input_parse_pane`](input.c.driver.md#input_parse_pane)  (Implementation)


---
### input_parse_buffer<!-- {{#callable_declaration:input_parse_buffer}} -->
Parses input data from a buffer.
- **Description**: This function is used to parse input data from a specified buffer into the context of a given window pane. It should be called when there is new input to process, and it will update the pane's state accordingly. The function will not perform any action if the length of the input buffer is zero. It is important to ensure that the `window_pane` structure is properly initialized before calling this function, as it relies on the internal state of the pane to function correctly. Additionally, if the pane is in a mode that prevents updates to the terminal, the function will handle this by not updating the terminal display.
- **Inputs**:
    - `wp`: A pointer to a `struct window_pane`. This must not be null and should point to a valid window pane that has been initialized. The function expects this pane to be in a valid state for processing input.
    - `buf`: A pointer to a buffer of type `u_char*` containing the input data to be parsed. This buffer can be null if the length is zero, but if it is not null, it should point to valid data.
    - `len`: A size_t value representing the length of the input buffer. This must be greater than zero for the function to proceed with parsing. If it is zero, the function will return immediately without any action.
- **Output**: This function does not return a value and does not mutate any of the input parameters directly. It may change the state of the `window_pane` by updating its flags and context based on the parsed input.
- **See also**: [`input_parse_buffer`](input.c.driver.md#input_parse_buffer)  (Implementation)


---
### input_parse_screen<!-- {{#callable_declaration:input_parse_screen}} -->
Parses input data and updates the screen.
- **Description**: This function is used to parse input data and update the specified screen accordingly. It should be called when there is new input data to process, and it requires that the `input_ctx` and `screen` structures are properly initialized. If the length of the input buffer is zero, the function will return immediately without performing any operations. The function also handles the initialization and finalization of the screen write context, ensuring that any necessary callbacks are executed during the process.
- **Inputs**:
    - `ictx`: A pointer to the `input_ctx` structure that holds the context for input processing. Must not be null.
    - `s`: A pointer to the `screen` structure that represents the screen to be updated. Must not be null.
    - `cb`: A callback function of type `screen_write_init_ctx_cb` that is called to initialize the screen write context. Can be null.
    - `arg`: A pointer to user-defined data that will be passed to the callback function. Can be null.
    - `buf`: A pointer to a buffer containing the input data to be parsed. Must not be null.
    - `len`: The length of the input buffer. Must be greater than zero.
- **Output**: None
- **See also**: [`input_parse_screen`](input.c.driver.md#input_parse_screen)  (Implementation)


---
### input_reply_clipboard<!-- {{#callable_declaration:input_reply_clipboard}} -->
Sends a clipboard reply.
- **Description**: This function is used to send a clipboard reply to a specified `bufferevent`. It should be called when there is a need to send clipboard data, typically after receiving a request for clipboard content. The function handles base64 encoding of the provided data before sending it. It is important to ensure that the `buf` parameter is not null and that its length is within acceptable limits; otherwise, the function will not perform any operations. The `end` parameter is used to signify the end of the clipboard data being sent.
- **Inputs**:
    - `bev`: A pointer to a `bufferevent` structure that represents the event to which the clipboard data will be sent. Must not be null.
    - `buf`: A pointer to a character buffer containing the data to be sent to the clipboard. This buffer must not be null and its length must be greater than zero.
    - `len`: The length of the data in `buf`. This value must be greater than zero and less than or equal to (3/4 * INT_MAX) - 1 to avoid overflow.
    - `end`: A pointer to a null-terminated string that indicates the end of the clipboard data. This parameter must not be null.
- **Output**: The function does not return a value and does not mutate any of the input parameters.
- **See also**: [`input_reply_clipboard`](input.c.driver.md#input_reply_clipboard)  (Implementation)


---
### input_set_buffer_size<!-- {{#callable_declaration:input_set_buffer_size}} -->
Sets the size of the input buffer.
- **Description**: This function is used to configure the size of the input buffer, which is essential for managing input data effectively. It should be called before any input operations are performed to ensure that the buffer is appropriately sized for the expected data. The function does not perform any validation on the `buffer_size` parameter, so it is the caller's responsibility to ensure that the size is within acceptable limits to avoid potential issues.
- **Inputs**:
    - `buffer_size`: The desired size of the input buffer, specified as a `size_t`. This value should be a positive integer, and it must not be zero. The function does not handle negative values or zero, and passing such values may lead to undefined behavior.
- **Output**: None
- **See also**: [`input_set_buffer_size`](input.c.driver.md#input_set_buffer_size)  (Implementation)


---
### input_key_build<!-- {{#callable_declaration:input_key_build}} -->
Builds input key mappings.
- **Description**: This function is responsible for constructing the input key mappings based on predefined defaults and modifiers. It should be called during the initialization phase of the application to ensure that all key mappings are set up correctly before any input handling occurs. The function processes a set of default key entries and generates new mappings for each modifier, inserting them into a key mapping tree. It is important to note that this function does not return any value and may allocate memory for new key entries, which should be managed appropriately.
- **Inputs**:
    - None
- **Output**: None
- **See also**: [`input_key_build`](input-keys.c.driver.md#input_key_build)  (Implementation)


---
### input_key_pane<!-- {{#callable_declaration:input_key_pane}} -->
Processes input key events for a window pane.
- **Description**: This function is used to handle key input events directed at a specific window pane. It should be called when a key event occurs, and it can process both keyboard and mouse events. The function expects that the window pane is already initialized and valid. If the key event corresponds to a mouse action, it will be processed accordingly if the mouse event structure is provided and valid. Otherwise, it will handle the key event as a standard keyboard input.
- **Inputs**:
    - `wp`: A pointer to a `struct window_pane` representing the target pane for the input. Must not be null.
    - `key`: A `key_code` representing the key event. This can be any valid key code, including mouse events.
    - `m`: A pointer to a `struct mouse_event` representing the mouse event details. This can be null if the key is not a mouse event.
- **Output**: Returns 0 on success. If the key corresponds to a mouse event and is processed, the return value is still 0. If the key is not recognized, the behavior is not specified.
- **See also**: [`input_key_pane`](input-keys.c.driver.md#input_key_pane)  (Implementation)


---
### input_key<!-- {{#callable_declaration:input_key}} -->
Processes a key input event.
- **Description**: This function is designed to handle key input events for a terminal interface. It should be called when a key event occurs, and it processes various types of keys, including literal keys, backspace, and special keys like function keys and arrow keys. The function expects a valid `screen` and `bufferevent` structure to be provided, and it will ignore mouse key events. If the key is not recognized, it may produce an invalid output. It is important to ensure that the `screen` is properly initialized and in the correct mode before calling this function.
- **Inputs**:
    - `s`: A pointer to a `screen` structure representing the current screen context. Must not be null.
    - `bev`: A pointer to a `bufferevent` structure used for output. Must not be null.
    - `key`: A `key_code` representing the key event. Valid values include literal keys, special keys, and control characters. The function will handle invalid key codes gracefully by ignoring them.
- **Output**: Returns 0 on success, indicating that the key event was processed. If the key is ignored or invalid, it also returns 0.
- **See also**: [`input_key`](input-keys.c.driver.md#input_key)  (Implementation)


---
### input_key_get_mouse<!-- {{#callable_declaration:input_key_get_mouse}} -->
Retrieves mouse input events.
- **Description**: This function is used to process mouse events for a given screen. It should be called when mouse input is detected, and it will populate the provided buffer with the appropriate mouse event data. The function checks the current mode of the screen to determine if the event should be processed or discarded. It is important to ensure that the screen is in a mode that supports mouse events before calling this function. If the mouse event is valid, the function will fill the output buffer with the event data and set the length of the data accordingly.
- **Inputs**:
    - `s`: A pointer to a `struct screen` that represents the current screen context. Must not be null.
    - `m`: A pointer to a `struct mouse_event` that contains the details of the mouse event. Must not be null.
    - `x`: An unsigned integer representing the x-coordinate of the mouse event. Valid values are within the screen dimensions.
    - `y`: An unsigned integer representing the y-coordinate of the mouse event. Valid values are within the screen dimensions.
    - `rbuf`: A pointer to a pointer where the function will store the address of the output buffer containing the mouse event data. The caller retains ownership of this buffer.
    - `rlen`: A pointer to a size_t variable where the function will store the length of the output buffer. Must not be null.
- **Output**: Returns 1 if the mouse event was processed successfully, 0 if the event was ignored due to the current screen mode, or -1 if an error occurred.
- **See also**: [`input_key_get_mouse`](input-keys.c.driver.md#input_key_get_mouse)  (Implementation)


---
### colour_find_rgb<!-- {{#callable_declaration:colour_find_rgb}} -->
Finds the closest 256-color representation of an RGB color.
- **Description**: This function is used to determine the closest matching color index in a 256-color palette for a given RGB color. It should be called with valid RGB values, where each component (red, green, blue) is an unsigned char in the range of 0 to 255. The function will return an index that represents the closest color match, which can be used in terminal applications that support 256 colors. If the exact RGB color is found in the palette, it will return that color's index directly. If the input values are outside the valid range, the behavior is undefined.
- **Inputs**:
    - `r`: The red component of the RGB color, must be in the range 0 to 255.
    - `g`: The green component of the RGB color, must be in the range 0 to 255.
    - `b`: The blue component of the RGB color, must be in the range 0 to 255.
- **Output**: Returns an integer representing the closest color index in the 256-color palette, with a flag indicating that it is a 256-color value.
- **See also**: [`colour_find_rgb`](colour.c.driver.md#colour_find_rgb)  (Implementation)


---
### colour_join_rgb<!-- {{#callable_declaration:colour_join_rgb}} -->
Combines RGB color components into a single integer.
- **Description**: This function is used to create a single integer representation of an RGB color by combining the red, green, and blue components. Each component is an 8-bit unsigned character, and the function expects values in the range of 0 to 255 for each component. The resulting integer will have the red component in the highest byte, followed by green and blue, with a specific color flag added to indicate that the color is in RGB format. It is important to ensure that the input values are valid; otherwise, the function will still process them but may not yield the expected color representation.
- **Inputs**:
    - `r`: The red component of the color, must be an 8-bit unsigned character (0-255). Caller retains ownership.
    - `g`: The green component of the color, must be an 8-bit unsigned character (0-255). Caller retains ownership.
    - `b`: The blue component of the color, must be an 8-bit unsigned character (0-255). Caller retains ownership.
- **Output**: Returns an integer that represents the combined RGB color, with the COLOUR_FLAG_RGB flag set.
- **See also**: [`colour_join_rgb`](colour.c.driver.md#colour_join_rgb)  (Implementation)


---
### colour_split_rgb<!-- {{#callable_declaration:colour_split_rgb}} -->
Splits a color value into its RGB components.
- **Description**: This function is used to extract the red, green, and blue components from a 24-bit color value represented as an integer. It should be called with a valid color value, and the pointers for the red, green, and blue components must not be null. The function does not perform any validation on the color value itself, but it assumes that the provided pointers are valid and can be written to.
- **Inputs**:
    - `c`: An integer representing a 24-bit color value. The value should be in the range of 0 to 16777215 (0xFFFFFF).
    - `r`: A pointer to a `u_char` where the red component will be stored. Must not be null.
    - `g`: A pointer to a `u_char` where the green component will be stored. Must not be null.
    - `b`: A pointer to a `u_char` where the blue component will be stored. Must not be null.
- **Output**: The function does not return a value. Instead, it writes the extracted red, green, and blue components directly to the memory locations pointed to by the provided pointers.
- **See also**: [`colour_split_rgb`](colour.c.driver.md#colour_split_rgb)  (Implementation)


---
### colour_force_rgb<!-- {{#callable_declaration:colour_force_rgb}} -->
Converts a color code to its RGB representation.
- **Description**: This function is used to convert a color code into its RGB equivalent. It should be called when you need to ensure that a color code is in RGB format, especially when dealing with terminal colors. The function can handle color codes that are already in RGB format, 256-color codes, and a limited range of basic color codes (0-7 and 90-97). If the input color code does not match any valid format, the function will return -1, indicating an error.
- **Inputs**:
    - `c`: An integer representing the color code. It can be a color code in RGB format (indicated by COLOUR_FLAG_RGB), a 256-color code (indicated by COLOUR_FLAG_256), or a basic color code (0-7 or 90-97). The function will return -1 for any invalid color code.
- **Output**: Returns the RGB representation of the color code as an integer. If the input is invalid, it returns -1.
- **See also**: [`colour_force_rgb`](colour.c.driver.md#colour_force_rgb)  (Implementation)


---
### colour_tostring<!-- {{#callable_declaration:colour_tostring}} -->
Converts a colour code to its string representation.
- **Description**: This function is used to obtain a string representation of a colour based on its integer code. It can be called with various colour codes, including special values for RGB and 256-colour modes. The function handles specific predefined colour codes, returning their corresponding names, and also supports RGB values by formatting them as hexadecimal strings. If the input code is -1, it returns 'none'. If the code does not match any known colour, it returns 'invalid'. This function should be called with a valid integer colour code.
- **Inputs**:
    - `c`: An integer representing the colour code. Valid values include -1 for 'none', specific integers for standard colours (0-7 for basic colours, 90-97 for bright colours), and flags COLOUR_FLAG_RGB and COLOUR_FLAG_256 for RGB and 256-colour modes respectively. The function does not modify the input value.
- **Output**: Returns a pointer to a string that represents the colour corresponding to the input code. The string is statically allocated and should not be freed by the caller.
- **See also**: [`colour_tostring`](colour.c.driver.md#colour_tostring)  (Implementation)


---
### colour_totheme<!-- {{#callable_declaration:colour_totheme}} -->
Maps a color value to a client theme.
- **Description**: This function is used to determine the theme of a client based on a given color value. It should be called with a valid color integer, which can represent either an RGB value or a predefined color code. The function will return a theme value indicating whether the theme is light, dark, or unknown. It is important to note that the input color must be properly formatted; otherwise, the function may return THEME_UNKNOWN. The function handles both RGB and 256-color formats, and it can also process specific color codes directly.
- **Inputs**:
    - `c`: An integer representing a color value. It can be an RGB value (with COLOUR_FLAG_RGB set) or a 256-color code (with COLOUR_FLAG_256 set). The value must be a valid color representation; otherwise, the function will return THEME_UNKNOWN.
- **Output**: Returns an enum value of type `client_theme`, which can be THEME_LIGHT, THEME_DARK, or THEME_UNKNOWN, indicating the determined theme based on the input color.
- **See also**: [`colour_totheme`](colour.c.driver.md#colour_totheme)  (Implementation)


---
### colour_fromstring<!-- {{#callable_declaration:colour_fromstring}} -->
Converts a string representation of a color to an integer.
- **Description**: This function is used to convert a string representation of a color into an integer value that can be used in terminal applications. It supports various formats, including hexadecimal color codes (e.g., '#RRGGBB'), color names (e.g., 'red', 'green'), and special color identifiers (e.g., 'default', 'terminal'). The function should be called with a valid string; if the string is invalid or does not represent a recognized color, the function will return -1. It is important to ensure that the input string is properly formatted to avoid errors.
- **Inputs**:
    - `s`: A pointer to a null-terminated string representing the color. It must not be null. Valid formats include a hexadecimal string starting with '#' followed by six hexadecimal digits, or color names such as 'red', 'green', etc. If the string is not in a recognized format, the function will return -1.
- **Output**: Returns an integer representing the color. If the input string is invalid, it returns -1.
- **See also**: [`colour_fromstring`](colour.c.driver.md#colour_fromstring)  (Implementation)


---
### colour_256toRGB<!-- {{#callable_declaration:colour_256toRGB}} -->
Converts a 256-color value to its RGB representation.
- **Description**: This function is used to convert a color value from the 256-color palette to its corresponding RGB value. It is particularly useful in applications that need to display colors in a more standard RGB format. The function should be called with a valid 256-color index, which must be in the range of 0 to 255. If an invalid index is provided, the function will handle it by clamping the value to the valid range.
- **Inputs**:
    - `c`: An integer representing the 256-color index. Valid values are in the range of 0 to 255. The function will mask the input to ensure it falls within this range.
- **Output**: Returns an integer representing the RGB value corresponding to the input color index, with an additional flag indicating that the value is in RGB format.
- **See also**: [`colour_256toRGB`](colour.c.driver.md#colour_256toRGB)  (Implementation)


---
### colour_256to16<!-- {{#callable_declaration:colour_256to16}} -->
Converts a 256-color value to a 16-color value.
- **Description**: This function is used to map a color value from a 256-color palette to a 16-color palette, which is often necessary for compatibility with older terminal emulators that only support a limited color range. The input value must be a valid 8-bit color value (0-255). If the input value is outside this range, it will be masked to fit within the valid range. The function should be called whenever a conversion from 256-color to 16-color is required, such as when rendering text in a terminal that does not support 256 colors.
- **Inputs**:
    - `c`: An integer representing the 256-color value to be converted. Valid values are in the range of 0 to 255. The caller retains ownership of this value, and it must not be null.
- **Output**: Returns an integer representing the corresponding 16-color value. The output is derived from a predefined mapping table.
- **See also**: [`colour_256to16`](colour.c.driver.md#colour_256to16)  (Implementation)


---
### colour_byname<!-- {{#callable_declaration:colour_byname}} -->
Retrieves the RGB color value associated with a given color name.
- **Description**: This function is used to obtain the RGB color value corresponding to a specified color name. It should be called with a valid color name string, which can be in various formats, including standard color names or shades like 'grey' or 'gray' followed by a percentage. If the input name is not recognized, the function will return -1. Additionally, if the name is a valid percentage for grey or gray, it will convert that percentage to an RGB value. The function is case-insensitive and can handle both standard and non-standard color names.
- **Inputs**:
    - `name`: A pointer to a null-terminated string representing the color name. Must not be null. If the name is not recognized, the function returns -1.
- **Output**: Returns the RGB color value as an integer, or -1 if the color name is not recognized.
- **See also**: [`colour_byname`](colour.c.driver.md#colour_byname)  (Implementation)


---
### colour_parseX11<!-- {{#callable_declaration:colour_parseX11}} -->
Parses a color string in X11 format.
- **Description**: This function is used to convert a color string in various formats (such as RGB, CMYK, or color names) into an integer representation of the color. It should be called with a valid color string, and it will return a color value that can be used in other parts of the application. The function handles different formats, including hexadecimal RGB values, RGB percentages, and CMYK values. If the input string is not in a recognized format, the function will attempt to interpret it as a color name. Leading and trailing whitespace in the input string is ignored.
- **Inputs**:
    - `p`: A pointer to a null-terminated string representing the color. The string must not be null. Valid formats include 'rgb:xx/yy/zz', '#xxxxxx', 'xx,yy,zz', or color names. If the string does not match any expected format, the function will return -1.
- **Output**: Returns an integer representing the color in a format suitable for use within the application. If the input string is invalid or cannot be parsed, it returns -1.
- **See also**: [`colour_parseX11`](colour.c.driver.md#colour_parseX11)  (Implementation)


---
### colour_palette_init<!-- {{#callable_declaration:colour_palette_init}} -->
Initializes a colour palette.
- **Description**: This function is used to initialize a `colour_palette` structure, setting the foreground and background colours to a default value of 8, and initializing the palette and default_palette pointers to NULL. It should be called before using the colour palette to ensure that it is in a valid state. There are no side effects, and it is safe to call this function multiple times on the same structure.
- **Inputs**:
    - `p`: A pointer to a `colour_palette` structure that will be initialized. This pointer must not be null, and the caller retains ownership of the structure.
- **Output**: None
- **See also**: [`colour_palette_init`](colour.c.driver.md#colour_palette_init)  (Implementation)


---
### colour_palette_clear<!-- {{#callable_declaration:colour_palette_clear}} -->
Clears the color palette.
- **Description**: This function is used to reset the foreground and background colors of a `colour_palette` structure to their default values. It should be called when you want to clear any custom color settings and free the associated memory for the color palette. The function does not perform any action if the provided pointer is null.
- **Inputs**:
    - `p`: A pointer to a `colour_palette` structure. Must not be null. If null, the function does nothing.
- **Output**: None
- **See also**: [`colour_palette_clear`](colour.c.driver.md#colour_palette_clear)  (Implementation)


---
### colour_palette_free<!-- {{#callable_declaration:colour_palette_free}} -->
Frees the resources associated with a colour palette.
- **Description**: This function should be called to release the memory allocated for a `colour_palette` structure when it is no longer needed. It is important to ensure that the pointer passed to this function is not null; if it is null, the function will simply return without performing any operations. After calling this function, the internal pointers of the `colour_palette` structure will be set to null, preventing potential dangling pointer issues.
- **Inputs**:
    - `p`: A pointer to a `colour_palette` structure. Must not be null; if it is null, the function does nothing. The caller retains ownership of the pointer and is responsible for ensuring it is valid before calling this function.
- **Output**: None
- **See also**: [`colour_palette_free`](colour.c.driver.md#colour_palette_free)  (Implementation)


---
### colour_palette_get<!-- {{#callable_declaration:colour_palette_get}} -->
Retrieves a color from a color palette.
- **Description**: This function is used to obtain a color value from a specified color palette based on the provided index. It should be called with a valid `colour_palette` structure that has been initialized. The index `c` can be a value between 0 and 97, where values 90 to 97 are mapped to a specific range. If the index is out of bounds or if the palette does not contain a valid color at the specified index, the function will return -1. It is important to ensure that the `colour_palette` structure is not null before calling this function.
- **Inputs**:
    - `p`: A pointer to a `colour_palette` structure. Must not be null. The caller retains ownership of this structure.
    - `c`: An integer representing the color index to retrieve. Valid values are between 0 and 97, with specific mappings for values 90 to 97. If the value is out of range or if the palette does not contain a valid color at the specified index, the function will return -1.
- **Output**: Returns the color value associated with the specified index from the palette, or -1 if the index is invalid or the color is not found.
- **See also**: [`colour_palette_get`](colour.c.driver.md#colour_palette_get)  (Implementation)


---
### colour_palette_set<!-- {{#callable_declaration:colour_palette_set}} -->
Sets a color in the color palette.
- **Description**: This function is used to set a specific color in a color palette, which is represented by a `struct colour_palette`. It should be called after initializing the `colour_palette` structure. The function checks for valid input parameters, ensuring that the palette pointer is not null and that the index `n` is within the valid range (0 to 255). If the color `c` is -1 and the palette is null, or if `n` exceeds 255, the function will return 0 without making any changes. If the palette is null and `c` is not -1, it will allocate memory for the palette before setting the color.
- **Inputs**:
    - `p`: A pointer to a `struct colour_palette`. Must not be null. The caller retains ownership of this structure.
    - `n`: An integer representing the index in the palette (0 to 255). Must be in the range of 0 to 255. If out of range, the function returns 0.
    - `c`: An integer representing the color to set. Can be any integer value, including -1. If -1 is provided and the palette is null, the function returns 0.
- **Output**: Returns 1 if the color was successfully set, or 0 if there was an error due to invalid input.
- **See also**: [`colour_palette_set`](colour.c.driver.md#colour_palette_set)  (Implementation)


---
### colour_palette_from_option<!-- {{#callable_declaration:colour_palette_from_option}} -->
Populates a color palette from specified options.
- **Description**: This function is used to configure a `colour_palette` structure based on the provided `options`. It should be called when you want to set or update the color palette for a pane, typically after the options have been initialized. If the `options` do not contain any color entries, the function will clear the existing default palette. The function allocates memory for the default palette if it is not already set, and it initializes the palette entries to -1 before populating them with values from the options.
- **Inputs**:
    - `p`: A pointer to a `colour_palette` structure that will be populated. Must not be null.
    - `oo`: A pointer to an `options` structure containing the color options. Must not be null.
- **Output**: None
- **See also**: [`colour_palette_from_option`](colour.c.driver.md#colour_palette_from_option)  (Implementation)


---
### attributes_tostring<!-- {{#callable_declaration:attributes_tostring}} -->
Converts grid attributes to a string representation.
- **Description**: This function is used to convert an integer representation of grid attributes into a human-readable string format. It should be called with an integer value that represents various attributes, such as brightness, underscore, and other visual styles. If the input attribute is zero, the function will return the string "none". The output string is statically allocated, so it should not be freed by the caller. The function is not thread-safe due to the use of a static buffer.
- **Inputs**:
    - `attr`: An integer representing the grid attributes. Valid values are combinations of defined attribute constants (e.g., GRID_ATTR_BRIGHT, GRID_ATTR_UNDERSCORE). The function will handle any invalid values by returning a string representation of the attributes that are set.
- **Output**: Returns a pointer to a string that describes the attributes. If no attributes are set, it returns the string "none".
- **See also**: [`attributes_tostring`](attributes.c.driver.md#attributes_tostring)  (Implementation)


---
### attributes_fromstring<!-- {{#callable_declaration:attributes_fromstring}} -->
Parses a string to extract grid attributes.
- **Description**: This function is used to convert a string representation of grid attributes into a corresponding integer value that represents those attributes. It should be called with a non-empty string that contains attribute names separated by spaces, commas, or pipes. The function will return a bitwise OR of the attributes found in the string. If the string is empty or contains invalid attribute names, it will return -1. Special cases include the strings 'default' and 'none', which will return 0.
- **Inputs**:
    - `str`: A pointer to a null-terminated string containing the attribute names. The string must not be empty and should not end with a delimiter. Valid attribute names include 'acs', 'bright', 'bold', 'dim', 'underscore', 'blink', 'reverse', 'hidden', 'italics', 'strikethrough', and various underscore styles. If the string is empty or contains invalid names, the function will return -1.
- **Output**: Returns an integer representing the combined attributes as a bitwise OR of the corresponding attribute values. Returns -1 for invalid input or if no valid attributes are found, and returns 0 for 'default' or 'none'.
- **See also**: [`attributes_fromstring`](attributes.c.driver.md#attributes_fromstring)  (Implementation)


---
### grid_empty_line<!-- {{#callable_declaration:grid_empty_line}} -->
Clears a specified line in the grid and optionally expands it with a background color.
- **Description**: This function is used to clear the contents of a specific line in a grid structure, effectively resetting it to an empty state. It should be called with a valid `grid` structure that has been properly initialized. The `py` parameter specifies the line number to be cleared, which must be within the bounds of the grid's height. If the `bg` parameter is not set to a default color, the function will also expand the line to fill the specified background color, which can be useful for visual formatting.
- **Inputs**:
    - `gd`: A pointer to a `grid` structure that represents the grid to be modified. Must not be null.
    - `py`: An unsigned integer representing the line number to clear. Must be less than the height of the grid.
    - `bg`: An unsigned integer representing the background color. If it is a default color, the line will not be expanded. Valid values depend on the color definitions used in the application.
- **Output**: None
- **See also**: [`grid_empty_line`](grid.c.driver.md#grid_empty_line)  (Implementation)


---
### grid_set_tab<!-- {{#callable_declaration:grid_set_tab}} -->
Sets a tab in a grid cell.
- **Description**: This function is used to configure a `grid_cell` to represent a tab character with a specified width. It should be called when you want to define how wide a tab should be displayed in the grid. The function initializes the cell's data to be empty, sets the appropriate flags to indicate that this cell is a tab, and fills the cell's data with spaces to match the specified width. It is important to ensure that the `grid_cell` pointer passed to this function is valid and properly allocated.
- **Inputs**:
    - `gc`: A pointer to a `struct grid_cell` that will be modified. Must not be null and must point to a valid grid cell.
    - `width`: An unsigned integer representing the width of the tab. Must be a positive value.
- **Output**: None
- **See also**: [`grid_set_tab`](grid.c.driver.md#grid_set_tab)  (Implementation)


---
### grid_cells_equal<!-- {{#callable_declaration:grid_cells_equal}} -->
Compares two grid cells for equality.
- **Description**: This function is used to determine if two `grid_cell` structures are equal in terms of their visual appearance and data content. It should be called when you need to check if two grid cells represent the same visual state, such as when updating or rendering a grid. The function will return 1 if the cells are equal, and 0 otherwise. It is important to ensure that both input pointers are valid and not null before calling this function, as passing null pointers may lead to undefined behavior.
- **Inputs**:
    - `gc1`: A pointer to the first `grid_cell` structure to compare. Must not be null.
    - `gc2`: A pointer to the second `grid_cell` structure to compare. Must not be null.
- **Output**: Returns 1 if the two grid cells are equal, and 0 if they are not.
- **See also**: [`grid_cells_equal`](grid.c.driver.md#grid_cells_equal)  (Implementation)


---
### grid_cells_look_equal<!-- {{#callable_declaration:grid_cells_look_equal}} -->
Compares two grid cells for equality.
- **Description**: This function is used to determine if two `grid_cell` structures are equivalent in terms of their foreground and background colors, attributes, and flags, excluding the `GRID_FLAG_CLEARED` flag. It should be called when you need to check if two cells represent the same visual state. Both input parameters must be valid pointers to `grid_cell` structures; passing null pointers will lead to undefined behavior.
- **Inputs**:
    - `gc1`: Pointer to the first `grid_cell` to compare. Must not be null.
    - `gc2`: Pointer to the second `grid_cell` to compare. Must not be null.
- **Output**: Returns 1 if the cells are equal, and 0 if they are not.
- **See also**: [`grid_cells_look_equal`](grid.c.driver.md#grid_cells_look_equal)  (Implementation)


---
### grid_create<!-- {{#callable_declaration:grid_create}} -->
Creates a new grid structure.
- **Description**: This function is used to create a new grid with specified dimensions and a history limit. It should be called when a new grid is needed, such as when initializing a new terminal window or pane. The `sx` and `sy` parameters define the size of the grid in cells, while `hlimit` specifies the maximum number of lines to keep in the history. If `hlimit` is set to zero, history will not be enabled. The function allocates memory for the grid structure and its line data, which must be freed by the caller when the grid is no longer needed.
- **Inputs**:
    - `sx`: The width of the grid in cells. Must be greater than 0.
    - `sy`: The height of the grid in cells. Must be greater than or equal to 0.
    - `hlimit`: The maximum number of lines to keep in history. If set to 0, history is disabled.
- **Output**: Returns a pointer to the newly created `struct grid`. If memory allocation fails, the behavior is undefined.
- **See also**: [`grid_create`](grid.c.driver.md#grid_create)  (Implementation)


---
### grid_destroy<!-- {{#callable_declaration:grid_destroy}} -->
Destroys a grid and frees its resources.
- **Description**: This function should be called when a grid is no longer needed, typically to release memory and clean up resources associated with the grid. It is important to ensure that the grid has been properly initialized before calling this function. The function will free all lines within the grid and then deallocate the memory used for the grid itself. Calling this function on a null pointer or an uninitialized grid may lead to undefined behavior.
- **Inputs**:
    - `gd`: A pointer to the `grid` structure to be destroyed. Must not be null and must point to a valid grid that has been initialized.
- **Output**: None
- **See also**: [`grid_destroy`](grid.c.driver.md#grid_destroy)  (Implementation)


---
### grid_compare<!-- {{#callable_declaration:grid_compare}} -->
Compares two grid structures.
- **Description**: This function is used to compare two `grid` structures to determine if they are identical in size and content. It should be called when you need to check if two grids represent the same data, such as before performing operations that depend on their equality. The function will return 0 if the grids are equal, and a non-zero value if they differ. It is important to ensure that both `grid` pointers are valid and initialized before calling this function.
- **Inputs**:
    - `ga`: A pointer to the first `grid` structure to compare. Must not be null and should be initialized.
    - `gb`: A pointer to the second `grid` structure to compare. Must not be null and should be initialized.
- **Output**: Returns 0 if the grids are equal, or a non-zero value if they differ in size or content.
- **See also**: [`grid_compare`](grid.c.driver.md#grid_compare)  (Implementation)


---
### grid_collect_history<!-- {{#callable_declaration:grid_collect_history}} -->
Collects history from the grid.
- **Description**: This function is used to manage the history of a `grid` structure by removing a portion of the history based on the current limits. It should be called when the grid's history size exceeds its limit, ensuring that the history remains manageable. The function will adjust the size of the history and the scroll position accordingly. It is important to ensure that the `grid` has been properly initialized before calling this function.
- **Inputs**:
    - `gd`: A pointer to a `grid` structure. Must not be null. The `grid` should have been initialized and should have a valid history size and limit.
- **Output**: None
- **See also**: [`grid_collect_history`](grid.c.driver.md#grid_collect_history)  (Implementation)


---
### grid_remove_history<!-- {{#callable_declaration:grid_remove_history}} -->
Removes lines from the grid's history.
- **Description**: This function is used to remove a specified number of lines from the history of a grid. It should be called when you want to clear out old history lines, typically to manage memory usage or to reset the display. The function will not perform any action if the specified number of lines to remove exceeds the current history size. It is important to ensure that the grid has been properly initialized before calling this function.
- **Inputs**:
    - `gd`: A pointer to a `struct grid` representing the grid from which history lines will be removed. Must not be null.
    - `ny`: An unsigned integer representing the number of history lines to remove. Valid values are from 0 to the current history size of the grid. If `ny` is greater than the current history size, the function will do nothing.
- **Output**: None
- **See also**: [`grid_remove_history`](grid.c.driver.md#grid_remove_history)  (Implementation)


---
### grid_scroll_history<!-- {{#callable_declaration:grid_scroll_history}} -->
Scrolls the grid history.
- **Description**: This function is used to scroll the history of a grid, which is a data structure representing a terminal screen. It should be called when there is a need to add a new line to the history, typically after a line has been output. The function modifies the grid's internal state by reallocating memory for the line data and incrementing the history size. It is important to ensure that the grid has been properly initialized before calling this function.
- **Inputs**:
    - `gd`: A pointer to a `struct grid` that represents the grid to be modified. Must not be null.
    - `bg`: An unsigned integer representing the background color to be used when emptying the new line. Valid values depend on the color scheme used. The function does not handle invalid values explicitly.
- **Output**: The function does not return a value and modifies the grid's internal state directly.
- **See also**: [`grid_scroll_history`](grid.c.driver.md#grid_scroll_history)  (Implementation)


---
### grid_scroll_history_region<!-- {{#callable_declaration:grid_scroll_history_region}} -->
Scrolls the history region of a grid.
- **Description**: This function is used to scroll the history region of a grid, which is typically part of a terminal emulator or text interface. It should be called when you want to move the visible lines of the grid up or down, effectively allowing the user to view previous output. The `upper` and `lower` parameters define the boundaries of the scroll region, and the `bg` parameter specifies the background color to use for the newly cleared line. It is important to ensure that the `upper` and `lower` values are within the valid range of the grid's dimensions to avoid undefined behavior.
- **Inputs**:
    - `gd`: A pointer to the `grid` structure representing the grid to be scrolled. Must not be null.
    - `upper`: An unsigned integer representing the upper boundary of the scroll region. Must be less than the grid's height.
    - `lower`: An unsigned integer representing the lower boundary of the scroll region. Must be greater than `upper` and less than or equal to the grid's height.
    - `bg`: An unsigned integer representing the background color to be used for the newly cleared line. This value should correspond to a valid color index.
- **Output**: None
- **See also**: [`grid_scroll_history_region`](grid.c.driver.md#grid_scroll_history_region)  (Implementation)


---
### grid_clear_history<!-- {{#callable_declaration:grid_clear_history}} -->
Clears the history of a grid.
- **Description**: This function is used to reset the history of a `grid` structure, effectively clearing any previously stored lines. It should be called when you want to start fresh with the grid's history, such as when the grid is being reinitialized or when the user explicitly requests to clear the history. After calling this function, the history size will be set to zero, and the scroll position will be reset. It is important to ensure that the `grid` structure has been properly initialized before invoking this function.
- **Inputs**:
    - `gd`: A pointer to a `grid` structure that represents the grid whose history is to be cleared. This pointer must not be null and should point to a valid `grid` instance.
- **Output**: None
- **See also**: [`grid_clear_history`](grid.c.driver.md#grid_clear_history)  (Implementation)


---
### grid_peek_line<!-- {{#callable_declaration:grid_peek_line}} -->
Retrieves a pointer to a specific line in the grid.
- **Description**: This function is used to access a specific line of the grid by its vertical position. It should be called with a valid `grid` structure that has been properly initialized. The `py` parameter must be within the bounds of the grid's height; otherwise, the function will return `NULL`. This is useful for reading or processing the contents of a specific line in the grid.
- **Inputs**:
    - `gd`: A pointer to a `grid` structure. Must not be null and should point to a valid grid that has been initialized.
    - `py`: An unsigned integer representing the vertical position of the line to peek. It must be less than the height of the grid; otherwise, the function will return `NULL`.
- **Output**: Returns a pointer to the `grid_line` structure at the specified vertical position if valid; otherwise, returns `NULL`.
- **See also**: [`grid_peek_line`](grid.c.driver.md#grid_peek_line)  (Implementation)


---
### grid_get_cell<!-- {{#callable_declaration:grid_get_cell}} -->
Retrieves a cell from the grid.
- **Description**: This function is used to obtain a specific cell from a grid based on its pixel coordinates. It should be called with valid grid and cell coordinates, where the grid must be initialized and the coordinates must be within the bounds of the grid. If the specified coordinates are out of bounds, the function will copy a default cell into the provided cell structure. This is useful for accessing or modifying the properties of a cell in the grid.
- **Inputs**:
    - `gd`: A pointer to the `grid` structure from which the cell is to be retrieved. Must not be null.
    - `px`: The x-coordinate (pixel position) of the cell to retrieve. Must be less than the cell size of the specified row.
    - `py`: The y-coordinate (row index) of the cell to retrieve. Must be a valid row index within the grid.
    - `gc`: A pointer to a `grid_cell` structure where the retrieved cell data will be stored. Caller retains ownership and must ensure it is valid.
- **Output**: The function does not return a value. If the coordinates are valid, the `grid_cell` structure pointed to by `gc` will be populated with the cell data from the grid. If the coordinates are invalid, `gc` will be populated with default cell data.
- **See also**: [`grid_get_cell`](grid.c.driver.md#grid_get_cell)  (Implementation)


---
### grid_set_cell<!-- {{#callable_declaration:grid_set_cell}} -->
Sets a cell in the grid.
- **Description**: This function is used to set a specific cell in a grid to a given value, which is represented by a `grid_cell` structure. It must be called with a valid `grid` structure that has been properly initialized. The function checks if the specified row index is valid; if it is not, the function will return without making any changes. If the specified column index exceeds the current number of used cells in the row, the row will be expanded to accommodate the new cell. The function may also handle extended cell storage if necessary.
- **Inputs**:
    - `gd`: A pointer to the `grid` structure where the cell will be set. Must not be null.
    - `px`: The column index of the cell to set. Must be a valid index within the grid's bounds.
    - `py`: The row index of the cell to set. Must be a valid index within the grid's bounds.
    - `gc`: A pointer to the `grid_cell` structure containing the data to set in the specified cell. Must not be null.
- **Output**: None
- **See also**: [`grid_set_cell`](grid.c.driver.md#grid_set_cell)  (Implementation)


---
### grid_set_padding<!-- {{#callable_declaration:grid_set_padding}} -->
Sets the padding for a grid.
- **Description**: This function is used to define the padding for a grid at specified pixel coordinates. It should be called after the grid has been initialized. The padding is set at the specified coordinates, which must be within the bounds of the grid. If the specified coordinates are out of bounds, the function will not modify the grid.
- **Inputs**:
    - `gd`: A pointer to the `grid` structure that represents the grid to be modified. Must not be null.
    - `px`: An unsigned integer representing the horizontal padding in pixels. Must be a valid pixel value.
    - `py`: An unsigned integer representing the vertical padding in pixels. Must be a valid pixel value.
- **Output**: None
- **See also**: [`grid_set_padding`](grid.c.driver.md#grid_set_padding)  (Implementation)


---
### grid_set_cells<!-- {{#callable_declaration:grid_set_cells}} -->
Sets the specified cells in a grid.
- **Description**: This function is used to set a range of cells in a grid to specified values, which can be useful for rendering text or graphics in a terminal interface. It should be called after ensuring that the grid has been properly initialized and that the specified coordinates are within the bounds of the grid. If the specified starting position plus the length of the string exceeds the current cell usage, the function will adjust the cell usage accordingly. The function does not return a value, but it modifies the grid's internal state.
- **Inputs**:
    - `gd`: A pointer to the `grid` structure representing the grid to modify. Must not be null.
    - `px`: The x-coordinate (column index) where the cell modification starts. Must be within the grid's width.
    - `py`: The y-coordinate (row index) where the cell modification starts. Must be within the grid's height.
    - `gc`: A pointer to a `grid_cell` structure that defines the attributes of the cells to be set. Must not be null.
    - `s`: A pointer to a string containing the data to be set in the cells. Must not be null.
    - `slen`: The length of the string `s`. Must be greater than zero and should not exceed the available space in the grid starting from (px, py).
- **Output**: None
- **See also**: [`grid_set_cells`](grid.c.driver.md#grid_set_cells)  (Implementation)


---
### grid_get_line<!-- {{#callable_declaration:grid_get_line}} -->
Retrieves a specific line from a grid.
- **Description**: This function is used to obtain a pointer to a `grid_line` structure from a `grid` at a specified line index. It should be called with a valid `grid` pointer and a line index that is within the bounds of the grid's line data. If the provided line index is out of range, the behavior is undefined, so it is the caller's responsibility to ensure that the index is valid.
- **Inputs**:
    - `gd`: A pointer to a `grid` structure. Must not be null and should point to a valid grid instance.
    - `line`: An unsigned integer representing the line index to retrieve. Must be less than the total number of lines in the grid.
- **Output**: Returns a pointer to the `grid_line` structure corresponding to the specified line index.
- **See also**: [`grid_get_line`](grid.c.driver.md#grid_get_line)  (Implementation)


---
### grid_adjust_lines<!-- {{#callable_declaration:grid_adjust_lines}} -->
Adjusts the number of lines in a grid.
- **Description**: This function is used to modify the number of lines in a `grid` structure. It should be called when the grid needs to accommodate a different number of lines, such as during resizing operations. The function reallocates memory for the line data based on the specified number of lines. It is important to ensure that the `grid` structure has been properly initialized before calling this function. If the specified number of lines is zero, the function will still attempt to reallocate memory, which may lead to undefined behavior if not handled correctly.
- **Inputs**:
    - `gd`: A pointer to a `grid` structure that represents the grid to be adjusted. Must not be null and must be properly initialized.
    - `lines`: An unsigned integer representing the new number of lines for the grid. Must be a non-negative value. If set to zero, the behavior is undefined.
- **Output**: None
- **See also**: [`grid_adjust_lines`](grid.c.driver.md#grid_adjust_lines)  (Implementation)


---
### grid_clear<!-- {{#callable_declaration:grid_clear}} -->
Clears a rectangular area of a grid.
- **Description**: This function is used to clear a specified rectangular area in a grid, setting the background color of the cells within that area. It should be called when the grid is properly initialized and the specified coordinates are valid. If the width or height of the area to be cleared is zero, the function will return immediately without making any changes. Additionally, if the starting position and the width cover the entire width of the grid, it will clear the specified number of lines instead.
- **Inputs**:
    - `gd`: A pointer to the `grid` structure representing the grid to be modified. Must not be null.
    - `px`: The x-coordinate of the starting position in the grid. Must be within the grid's width.
    - `py`: The y-coordinate of the starting position in the grid. Must be within the grid's height.
    - `nx`: The width of the area to clear. Must be greater than zero.
    - `ny`: The height of the area to clear. Must be greater than zero.
    - `bg`: The background color to set for the cleared cells. This value should be a valid color identifier.
- **Output**: None
- **See also**: [`grid_clear`](grid.c.driver.md#grid_clear)  (Implementation)


---
### grid_clear_lines<!-- {{#callable_declaration:grid_clear_lines}} -->
Clears specified lines in a grid.
- **Description**: This function is used to clear a range of lines in a grid, starting from a specified line and extending for a given number of lines. It should be called when you need to remove content from the grid, such as when refreshing the display or clearing old data. The function modifies the grid by freeing the specified lines and emptying them with a specified background color. It is important to ensure that the starting line and the range do not exceed the grid's boundaries, as this can lead to undefined behavior.
- **Inputs**:
    - `gd`: A pointer to the `grid` structure representing the grid to be modified. Must not be null.
    - `py`: The starting line index from which to begin clearing. Must be within the bounds of the grid.
    - `ny`: The number of lines to clear. Must be greater than 0.
    - `bg`: The background color to use when emptying the lines. This value is used to fill the cleared lines.
- **Output**: None
- **See also**: [`grid_clear_lines`](grid.c.driver.md#grid_clear_lines)  (Implementation)


---
### grid_move_lines<!-- {{#callable_declaration:grid_move_lines}} -->
Moves lines within a grid.
- **Description**: This function is used to move a specified number of lines from one position in a grid to another. It should be called when the grid has been properly initialized and the specified positions are valid. The function will not perform any action if the number of lines to move is zero or if the source and destination positions are the same. It also ensures that the specified positions are within the bounds of the grid before proceeding with the move.
- **Inputs**:
    - `gd`: A pointer to the `grid` structure representing the grid in which lines are to be moved. Must not be null.
    - `dy`: The destination y-coordinate where the lines will be moved to. Must be a valid index within the grid.
    - `py`: The source y-coordinate from which lines will be moved. Must be a valid index within the grid.
    - `ny`: The number of lines to move. Must be greater than zero.
    - `bg`: The background color to use when clearing lines. This value is used to fill the lines that are moved. Valid values depend on the grid's color settings.
- **Output**: None
- **See also**: [`grid_move_lines`](grid.c.driver.md#grid_move_lines)  (Implementation)


---
### grid_move_cells<!-- {{#callable_declaration:grid_move_cells}} -->
Moves a range of cells within a grid.
- **Description**: This function is used to move a specified range of cells from one position to another within a grid. It should be called when the grid is properly initialized and the specified coordinates are valid. The function checks if the number of cells to move is zero or if the source and destination positions are the same, in which case it performs no action. It also validates the row index to ensure it is within the grid's bounds. After moving the cells, it clears the original cells that were moved, ensuring that the grid remains consistent.
- **Inputs**:
    - `gd`: A pointer to the `grid` structure representing the grid in which the cells are to be moved. Must not be null.
    - `dx`: The destination x-coordinate where the cells will be moved to. Must be within the grid's width.
    - `px`: The source x-coordinate from which the cells will be moved. Must be within the grid's width.
    - `py`: The y-coordinate of the row in the grid where the cells are located. Must be within the grid's height.
    - `nx`: The number of cells to move. Must be greater than zero.
    - `bg`: The background color to use when clearing the original cells. This value is used to reset the cells after they have been moved.
- **Output**: None
- **See also**: [`grid_move_cells`](grid.c.driver.md#grid_move_cells)  (Implementation)


---
### grid_string_cells<!-- {{#callable_declaration:grid_string_cells}} -->
Generates a string representation of grid cells.
- **Description**: This function is used to create a string that represents a specified range of cells in a grid. It should be called with a valid `grid` structure and appropriate parameters for the starting position and number of cells to include. The function handles various flags that modify its behavior, such as including escape sequences or trimming spaces. If the `lastgc` parameter is provided and points to a null value, it will be initialized to a default grid cell. The function dynamically allocates memory for the resulting string, which the caller is responsible for freeing.
- **Inputs**:
    - `gd`: A pointer to a `grid` structure representing the grid from which cells will be extracted. Must not be null.
    - `px`: The starting x-coordinate (column) from which to begin extracting cells. Must be within the bounds of the grid.
    - `py`: The y-coordinate (row) from which to begin extracting cells. Must be within the bounds of the grid.
    - `nx`: The number of cells to extract starting from (px, py). Must not exceed the grid's dimensions.
    - `lastgc`: A pointer to a pointer to a `grid_cell`. If not null and points to a valid cell, it will be updated with the last cell processed. If null, it will be initialized to a default cell.
    - `flags`: An integer representing various options for the function's behavior, such as including escape sequences or trimming spaces. Valid flags are defined in the header.
    - `s`: A pointer to a `screen` structure that may be used for additional context. Must not be null.
- **Output**: Returns a dynamically allocated string containing the representation of the specified grid cells. The caller is responsible for freeing this string when it is no longer needed.
- **See also**: [`grid_string_cells`](grid.c.driver.md#grid_string_cells)  (Implementation)


---
### grid_duplicate_lines<!-- {{#callable_declaration:grid_duplicate_lines}} -->
Duplicates lines from one grid to another.
- **Description**: This function is used to copy a specified number of lines from a source grid to a destination grid, starting from given offsets in both grids. It is important to ensure that the destination grid has enough space to accommodate the new lines; otherwise, the number of lines to copy will be adjusted accordingly. The function should be called when both grids are properly initialized and ready for manipulation. If the specified source or destination offsets exceed the grid boundaries, the function will clamp the number of lines to be copied to fit within the valid range.
- **Inputs**:
    - `dst`: Pointer to the destination `grid` structure where lines will be copied. Must not be null.
    - `dy`: The starting line index in the destination grid where the lines will be copied. Must be within the bounds of the destination grid.
    - `src`: Pointer to the source `grid` structure from which lines will be copied. Must not be null.
    - `sy`: The starting line index in the source grid from which lines will be copied. Must be within the bounds of the source grid.
    - `ny`: The number of lines to copy from the source grid to the destination grid. Must be a positive integer.
- **Output**: None
- **See also**: [`grid_duplicate_lines`](grid.c.driver.md#grid_duplicate_lines)  (Implementation)


---
### grid_reflow<!-- {{#callable_declaration:grid_reflow}} -->
Reflows a grid to fit a specified width.
- **Description**: This function is used to adjust the layout of a grid to fit within a specified width. It should be called when the grid needs to be reflowed, such as after resizing a terminal or changing the display settings. The function processes each line of the grid, moving, splitting, or joining lines as necessary to ensure that they fit within the specified width. It is important to ensure that the grid is properly initialized before calling this function.
- **Inputs**:
    - `gd`: A pointer to the `grid` structure that represents the grid to be reflowed. Must not be null.
    - `sx`: An unsigned integer representing the target width for the grid. Must be greater than zero.
- **Output**: None
- **See also**: [`grid_reflow`](grid.c.driver.md#grid_reflow)  (Implementation)


---
### grid_wrap_position<!-- {{#callable_declaration:grid_wrap_position}} -->
Wraps the grid position based on line wrapping.
- **Description**: This function is used to calculate the wrapped position of a cell in a grid based on its pixel coordinates. It should be called when you need to determine the effective grid coordinates after accounting for any line wrapping that may have occurred. The function expects a valid `grid` structure, and it will modify the `wx` and `wy` parameters to reflect the wrapped coordinates. If the provided pixel coordinates exceed the number of cells used in the last line, the function sets `wx` to `UINT_MAX`.
- **Inputs**:
    - `gd`: A pointer to a `grid` structure that represents the grid to be processed. Must not be null.
    - `px`: The pixel x-coordinate to be wrapped. Must be a non-negative integer.
    - `py`: The pixel y-coordinate to be wrapped. Must be a non-negative integer.
    - `wx`: A pointer to a `u_int` where the wrapped x-coordinate will be stored. The caller retains ownership.
    - `wy`: A pointer to a `u_int` where the wrapped y-coordinate will be stored. The caller retains ownership.
- **Output**: The function does not return a value. Instead, it modifies the values pointed to by `wx` and `wy` to reflect the wrapped coordinates.
- **See also**: [`grid_wrap_position`](grid.c.driver.md#grid_wrap_position)  (Implementation)


---
### grid_unwrap_position<!-- {{#callable_declaration:grid_unwrap_position}} -->
Unwraps a grid position.
- **Description**: This function is used to convert a wrapped grid position, specified by `wx` and `wy`, into its unwrapped equivalent, which is returned via the `px` and `py` parameters. It is essential to call this function with valid grid dimensions and ensure that the `grid` structure is properly initialized. If `wx` is set to `UINT_MAX`, the function will determine the end of the wrapped line before calculating the unwrapped position. The function does not perform any checks for the validity of `wx` and `wy` against the grid dimensions, so it is the caller's responsibility to ensure these values are within acceptable ranges.
- **Inputs**:
    - `gd`: Pointer to a `struct grid` representing the grid context. Must not be null.
    - `px`: Pointer to an unsigned integer where the unwrapped x-coordinate will be stored. Caller retains ownership.
    - `py`: Pointer to an unsigned integer where the unwrapped y-coordinate will be stored. Caller retains ownership.
    - `wx`: Unsigned integer representing the wrapped x-coordinate. Valid values are from 0 to the maximum width of the grid.
    - `wy`: Unsigned integer representing the wrapped y-coordinate. Valid values are from 0 to the maximum height of the grid.
- **Output**: The function does not return a value. Instead, it modifies the values pointed to by `px` and `py` to reflect the unwrapped coordinates.
- **See also**: [`grid_unwrap_position`](grid.c.driver.md#grid_unwrap_position)  (Implementation)


---
### grid_line_length<!-- {{#callable_declaration:grid_line_length}} -->
Calculates the length of a grid line.
- **Description**: This function is used to determine the effective length of a specific line in a grid, identified by the `py` parameter. It should be called after the grid has been properly initialized and populated with data. The function will return the length of the line, which may be less than the maximum size of the grid if there are non-space characters or padding present at the end of the line. If the specified line number exceeds the grid's height, the behavior is undefined.
- **Inputs**:
    - `gd`: A pointer to a `struct grid` representing the grid from which the line length is to be calculated. Must not be null.
    - `py`: An unsigned integer representing the line number in the grid. Must be less than the grid's height.
- **Output**: Returns an unsigned integer representing the length of the specified line in the grid, which may be less than the maximum line size if there are non-space characters or padding present.
- **See also**: [`grid_line_length`](grid.c.driver.md#grid_line_length)  (Implementation)


---
### grid_in_set<!-- {{#callable_declaration:grid_in_set}} -->
Checks if a cell in the grid is part of a specified set.
- **Description**: This function is used to determine if a specific cell in a grid, identified by its coordinates, contains a character that is part of a given set of characters. It should be called with valid grid coordinates and a non-null character set string. If the specified cell is marked as padding, the function will return 0. If the cell contains a tab character, the width of the tab will be returned. The function handles edge cases such as checking for padding and tab characters appropriately.
- **Inputs**:
    - `gd`: A pointer to a `struct grid` representing the grid. Must not be null.
    - `px`: The x-coordinate of the cell in the grid. Must be within the grid's width.
    - `py`: The y-coordinate of the cell in the grid. Must be within the grid's height.
    - `set`: A pointer to a null-terminated string containing the set of characters to check against. Must not be null.
- **Output**: Returns an integer indicating the width of the tab if the cell contains a tab character, the width of the character if it is part of the set, or 0 if the cell is padding. If the character is not found in the set, it returns 0.
- **See also**: [`grid_in_set`](grid.c.driver.md#grid_in_set)  (Implementation)


---
### grid_reader_start<!-- {{#callable_declaration:grid_reader_start}} -->
Initializes a grid reader.
- **Description**: This function is used to initialize a `grid_reader` structure with a specified grid and cursor position. It should be called before any operations are performed on the grid reader to ensure it has a valid grid and starting cursor coordinates. The function does not perform any validation on the grid or cursor position, so it is the caller's responsibility to ensure that the provided grid is valid and that the cursor coordinates are within the bounds of the grid.
- **Inputs**:
    - `gr`: A pointer to a `grid_reader` structure that will be initialized. Must not be null.
    - `gd`: A pointer to a `grid` structure that the grid reader will operate on. Must not be null.
    - `cx`: An unsigned integer representing the initial x-coordinate of the cursor. Must be within the bounds of the grid.
    - `cy`: An unsigned integer representing the initial y-coordinate of the cursor. Must be within the bounds of the grid.
- **Output**: None
- **See also**: [`grid_reader_start`](grid-reader.c.driver.md#grid_reader_start)  (Implementation)


---
### grid_reader_get_cursor<!-- {{#callable_declaration:grid_reader_get_cursor}} -->
Retrieves the current cursor position.
- **Description**: This function is used to obtain the current cursor position from a `grid_reader` structure. It should be called after the `grid_reader` has been properly initialized and set up with a grid. The function populates the provided pointers with the current x and y coordinates of the cursor. It is important to ensure that the pointers passed to this function are valid and point to memory that can be written to.
- **Inputs**:
    - `gr`: A pointer to a `grid_reader` structure that contains the cursor position. Must not be null.
    - `cx`: A pointer to a `u_int` where the x-coordinate of the cursor will be stored. Must not be null.
    - `cy`: A pointer to a `u_int` where the y-coordinate of the cursor will be stored. Must not be null.
- **Output**: The function does not return a value. Instead, it writes the current cursor coordinates to the memory locations pointed to by `cx` and `cy`.
- **See also**: [`grid_reader_get_cursor`](grid-reader.c.driver.md#grid_reader_get_cursor)  (Implementation)


---
### grid_reader_line_length<!-- {{#callable_declaration:grid_reader_line_length}} -->
Returns the length of the current line in the grid.
- **Description**: This function is used to retrieve the length of the line at the current cursor position in a grid. It should be called after initializing the `grid_reader` structure and setting the cursor position. The function will return the length of the line, which can be useful for determining how much data is present in that line. If the `grid_reader` structure is not properly initialized or if the cursor position is out of bounds, the behavior is undefined.
- **Inputs**:
    - `gr`: A pointer to a `grid_reader` structure that must be initialized before calling this function. It must not be null.
- **Output**: Returns an unsigned integer representing the length of the line at the current cursor position.
- **See also**: [`grid_reader_line_length`](grid-reader.c.driver.md#grid_reader_line_length)  (Implementation)


---
### grid_reader_in_set<!-- {{#callable_declaration:grid_reader_in_set}} -->
Checks if a specified set is present in the grid reader.
- **Description**: This function is used to determine if a specific set of characters is present at the current cursor position in the grid reader. It should be called after initializing the `grid_reader` structure. If the `set` parameter is null, the behavior is undefined. The function returns a non-zero value if the set is found, and zero otherwise.
- **Inputs**:
    - `gr`: A pointer to a `grid_reader` structure. Must not be null and should be properly initialized before calling this function.
    - `set`: A string representing the set of characters to check for. Must not be null. The function will return an error if this parameter is invalid.
- **Output**: Returns a non-zero integer if the specified set is found at the current cursor position, or zero if it is not found.
- **See also**: [`grid_reader_in_set`](grid-reader.c.driver.md#grid_reader_in_set)  (Implementation)


---
### grid_reader_cursor_right<!-- {{#callable_declaration:grid_reader_cursor_right}} -->
Moves the cursor to the right in the grid.
- **Description**: This function is used to move the cursor to the right within a grid, which is useful for navigating through text or data displayed in a grid format. It can be called in scenarios where the cursor needs to be repositioned, such as in text editing or data viewing applications. The function takes into account whether wrapping is enabled; if wrapping is enabled and the cursor reaches the end of the line, it will move the cursor to the start of the next line. If the 'all' parameter is set, it will consider the full width of the grid, otherwise, it will only consider the length of the current line. It is important to ensure that the grid reader is properly initialized before calling this function.
- **Inputs**:
    - `gr`: A pointer to a `grid_reader` structure that represents the current state of the cursor and the grid. Must not be null.
    - `wrap`: An integer indicating whether to wrap the cursor to the next line when the end of the current line is reached. Valid values are 0 (no wrap) and 1 (wrap enabled).
    - `all`: An integer indicating whether to consider the entire width of the grid (1) or just the current line length (0).
- **Output**: None
- **See also**: [`grid_reader_cursor_right`](grid-reader.c.driver.md#grid_reader_cursor_right)  (Implementation)


---
### grid_reader_cursor_left<!-- {{#callable_declaration:grid_reader_cursor_left}} -->
Moves the cursor left in the grid.
- **Description**: This function is used to move the cursor left within a grid, which is represented by the `grid_reader` structure. It should be called when the cursor is positioned within the grid and the user wishes to navigate left. If the cursor is at the leftmost position of a line, it will attempt to move up to the previous line if the `wrap` parameter is set or if the previous line is wrapped. The function does not modify the grid itself but only the cursor's position.
- **Inputs**:
    - `gr`: A pointer to a `grid_reader` structure that represents the current cursor position within the grid. Must not be null.
    - `wrap`: An integer that indicates whether to wrap to the previous line if the cursor is at the leftmost position. Valid values are 0 (no wrap) and 1 (wrap).
- **Output**: None
- **See also**: [`grid_reader_cursor_left`](grid-reader.c.driver.md#grid_reader_cursor_left)  (Implementation)


---
### grid_reader_cursor_down<!-- {{#callable_declaration:grid_reader_cursor_down}} -->
Moves the cursor down in the grid reader.
- **Description**: This function is used to move the cursor down within a `grid_reader` structure, which represents a virtual cursor in a grid of cells. It should be called when the cursor needs to navigate downwards in the grid. The function checks if the current cursor position is within the bounds of the grid's height and increments the cursor's vertical position if possible. If the cursor is at the bottom of the grid, it will not move further down. Additionally, it adjusts the horizontal position of the cursor to skip any padding cells, ensuring that the cursor lands on a valid cell.
- **Inputs**:
    - `gr`: A pointer to a `grid_reader` structure. This must not be null and should be properly initialized before calling this function. The function does not take ownership of this pointer.
- **Output**: None
- **See also**: [`grid_reader_cursor_down`](grid-reader.c.driver.md#grid_reader_cursor_down)  (Implementation)


---
### grid_reader_cursor_up<!-- {{#callable_declaration:grid_reader_cursor_up}} -->
Moves the cursor up in the grid.
- **Description**: This function is used to move the cursor up one cell in the grid. It should be called when the cursor is positioned within a valid grid area. If the cursor is already at the topmost row, it will not move further up. The function also adjusts the cursor's horizontal position to the leftmost non-padding cell in the same column, if applicable.
- **Inputs**:
    - `gr`: A pointer to a `struct grid_reader` that represents the current cursor position in the grid. Must not be null.
- **Output**: None
- **See also**: [`grid_reader_cursor_up`](grid-reader.c.driver.md#grid_reader_cursor_up)  (Implementation)


---
### grid_reader_cursor_start_of_line<!-- {{#callable_declaration:grid_reader_cursor_start_of_line}} -->
Moves the cursor to the start of the current line.
- **Description**: This function is used to reposition the cursor to the beginning of the current line in a grid reader. It can optionally adjust the cursor's vertical position if the 'wrap' parameter is set to a non-zero value, which causes the cursor to move up through any wrapped lines until it reaches the first unwrapped line. This function should be called when the cursor needs to be reset to the start of the line, typically before starting a new input or command.
- **Inputs**:
    - `gr`: A pointer to a `grid_reader` structure that represents the current state of the grid reader. Must not be null.
    - `wrap`: An integer that indicates whether to adjust the cursor's vertical position. A value of 1 (true) enables wrapping behavior, while 0 (false) disables it.
- **Output**: None
- **See also**: [`grid_reader_cursor_start_of_line`](grid-reader.c.driver.md#grid_reader_cursor_start_of_line)  (Implementation)


---
### grid_reader_cursor_end_of_line<!-- {{#callable_declaration:grid_reader_cursor_end_of_line}} -->
Moves the cursor to the end of the current line.
- **Description**: This function is used to position the cursor at the end of the current line in a grid reader. It can be called in scenarios where the cursor needs to be moved to the end of a line, either wrapping to the next line if specified or staying within the current line. The `wrap` parameter determines whether the cursor should move to the next line if the current line is wrapped, while the `all` parameter specifies whether to move to the end of the line or to the maximum column of the grid. It is important to ensure that the `grid_reader` structure has been properly initialized before calling this function.
- **Inputs**:
    - `gr`: A pointer to a `grid_reader` structure. Must not be null and should be properly initialized.
    - `wrap`: An integer indicating whether to wrap to the next line if the current line is wrapped. Valid values are 0 (no wrap) and 1 (wrap).
    - `all`: An integer indicating whether to move to the end of the line (1) or to the maximum column of the grid (0). Valid values are 0 and 1.
- **Output**: None
- **See also**: [`grid_reader_cursor_end_of_line`](grid-reader.c.driver.md#grid_reader_cursor_end_of_line)  (Implementation)


---
### grid_reader_cursor_next_word<!-- {{#callable_declaration:grid_reader_cursor_next_word}} -->
Moves the cursor to the next word in the grid.
- **Description**: This function is used to navigate through words in a grid, which is particularly useful in text editing scenarios. It should be called when the cursor is positioned within a grid and the user wants to move to the next word, defined by the provided separators. The `separators` parameter allows customization of what characters are considered as word boundaries. If the cursor is currently on a wrapped line, it will not break up wrapped words. The function handles both whitespace and specified separators, ensuring that the cursor skips over them appropriately. It is important to ensure that the `grid_reader` structure is properly initialized before calling this function.
- **Inputs**:
    - `gr`: A pointer to a `grid_reader` structure that represents the current position in the grid. Must not be null.
    - `separators`: A string containing characters that define word boundaries. This can be empty, but if it is not, it should not be null.
- **Output**: None
- **See also**: [`grid_reader_cursor_next_word`](grid-reader.c.driver.md#grid_reader_cursor_next_word)  (Implementation)


---
### grid_reader_cursor_next_word_end<!-- {{#callable_declaration:grid_reader_cursor_next_word_end}} -->
Moves the cursor to the end of the next word.
- **Description**: This function is used to advance the cursor in a grid reader to the end of the next word, considering specified separators. It should be called when the cursor is positioned within a grid and is intended to navigate through text. The `separators` parameter allows the user to define which characters are considered as word boundaries. If the cursor is currently on whitespace, it will skip to the first non-whitespace character. If that character is a separator, it will treat subsequent separators as part of the word until it reaches a non-separator character. The function does not return any value and modifies the cursor position directly.
- **Inputs**:
    - `gr`: A pointer to a `struct grid_reader` that represents the current state of the grid reader. Must not be null.
    - `separators`: A string of characters that are considered as word separators. This string can be empty, but it must not be null.
- **Output**: None
- **See also**: [`grid_reader_cursor_next_word_end`](grid-reader.c.driver.md#grid_reader_cursor_next_word_end)  (Implementation)


---
### grid_reader_cursor_previous_word<!-- {{#callable_declaration:grid_reader_cursor_previous_word}} -->
Moves the cursor to the previous word.
- **Description**: This function is used to navigate the cursor backward to the start of the previous word in a grid reader context. It should be called when the cursor is positioned within a word or whitespace. The function takes into account the specified separators to determine word boundaries and can stop at the end of a line if the `stop_at_eol` flag is set. It is important to ensure that the `grid_reader` structure is properly initialized before calling this function.
- **Inputs**:
    - `gr`: A pointer to a `grid_reader` structure that represents the current cursor position. Must not be null.
    - `separators`: A string containing characters that are considered as word separators. Must not be null.
    - `already`: An integer flag indicating whether the cursor is already on a word character. Valid values are 0 or 1.
    - `stop_at_eol`: An integer flag that determines whether to stop at the end of the line. Valid values are 0 or 1.
- **Output**: None
- **See also**: [`grid_reader_cursor_previous_word`](grid-reader.c.driver.md#grid_reader_cursor_previous_word)  (Implementation)


---
### grid_reader_cursor_jump<!-- {{#callable_declaration:grid_reader_cursor_jump}} -->
Jumps the cursor to the next occurrence of specified UTF-8 data.
- **Description**: This function is used to move the cursor within a `grid_reader` to the next cell that matches the provided UTF-8 data. It should be called after initializing the `grid_reader` and is useful for navigating through text grids. If the specified data is not found, the cursor remains in its current position. The function handles wrapping around lines if the end of a line is reached, continuing the search on the next line until the specified data is found or the end of the grid is reached.
- **Inputs**:
    - `gr`: A pointer to a `grid_reader` structure. Must not be null and should be properly initialized before calling this function.
    - `jc`: A pointer to a `utf8_data` structure representing the UTF-8 data to search for. Must not be null.
- **Output**: Returns 1 if the cursor successfully jumps to the specified data, or 0 if the data is not found.
- **See also**: [`grid_reader_cursor_jump`](grid-reader.c.driver.md#grid_reader_cursor_jump)  (Implementation)


---
### grid_reader_cursor_jump_back<!-- {{#callable_declaration:grid_reader_cursor_jump_back}} -->
Jumps the cursor back to the previous occurrence of specified UTF-8 data.
- **Description**: This function is used to navigate the cursor within a grid by moving it back to the last cell that matches the provided UTF-8 data. It should be called when the cursor is already positioned within the grid. If the specified data is not found, the cursor remains in its current position. The function handles edge cases such as reaching the top of the grid or encountering wrapped lines.
- **Inputs**:
    - `gr`: A pointer to a `struct grid_reader` that represents the current cursor position within the grid. Must not be null.
    - `jc`: A pointer to a `struct utf8_data` containing the UTF-8 data to search for. Must not be null.
- **Output**: Returns 1 if the cursor successfully jumps to a matching cell; otherwise, returns 0 if no match is found.
- **See also**: [`grid_reader_cursor_jump_back`](grid-reader.c.driver.md#grid_reader_cursor_jump_back)  (Implementation)


---
### grid_reader_cursor_back_to_indentation<!-- {{#callable_declaration:grid_reader_cursor_back_to_indentation}} -->
Moves the cursor back to the first non-whitespace character in the current line.
- **Description**: This function is intended to be called when you want to reposition the cursor to the first non-whitespace character in the current line of a grid. It should be used after the grid reader has been initialized and the cursor is set to a valid position. If the cursor is already at the start of the line or if there are no non-whitespace characters in the line, the cursor will remain in its current position.
- **Inputs**:
    - `gr`: A pointer to a `grid_reader` structure that represents the current state of the grid reader. Must not be null.
- **Output**: None
- **See also**: [`grid_reader_cursor_back_to_indentation`](grid-reader.c.driver.md#grid_reader_cursor_back_to_indentation)  (Implementation)


---
### grid_view_get_cell<!-- {{#callable_declaration:grid_view_get_cell}} -->
Retrieves the cell data from a grid at specified pixel coordinates.
- **Description**: This function is used to obtain the data of a specific cell in a grid based on pixel coordinates. It should be called when you need to access the properties of a cell at a given position in the grid. The function expects that the `grid` structure has been properly initialized and that the pixel coordinates provided are within the bounds of the grid. If the coordinates are out of bounds, the behavior is undefined.
- **Inputs**:
    - `gd`: A pointer to the `grid` structure from which the cell data is to be retrieved. Must not be null.
    - `px`: The x-coordinate in pixels. This value should be within the width of the grid.
    - `py`: The y-coordinate in pixels. This value should be within the height of the grid.
    - `gc`: A pointer to a `grid_cell` structure where the cell data will be stored. The caller retains ownership of this structure, and it must not be null.
- **Output**: The function does not return a value. Instead, it populates the provided `grid_cell` structure with the data of the cell located at the specified pixel coordinates.
- **See also**: [`grid_view_get_cell`](grid-view.c.driver.md#grid_view_get_cell)  (Implementation)


---
### grid_view_set_cell<!-- {{#callable_declaration:grid_view_set_cell}} -->
Sets a cell in the grid view.
- **Description**: This function is used to set a specific cell in a grid view to a given cell style. It should be called when you want to update the appearance of a cell at the specified pixel coordinates (px, py) in the grid. The function expects that the grid has been properly initialized and that the provided coordinates are within the bounds of the grid. If the coordinates are out of bounds, the function will not perform any operation.
- **Inputs**:
    - `gd`: A pointer to the `grid` structure representing the grid view. Must not be null.
    - `px`: The x-coordinate (in pixels) of the cell to be set. Must be within the width of the grid.
    - `py`: The y-coordinate (in pixels) of the cell to be set. Must be within the height of the grid.
    - `gc`: A pointer to a `grid_cell` structure that defines the style of the cell. Must not be null.
- **Output**: None
- **See also**: [`grid_view_set_cell`](grid-view.c.driver.md#grid_view_set_cell)  (Implementation)


---
### grid_view_set_padding<!-- {{#callable_declaration:grid_view_set_padding}} -->
Sets the padding for a grid view.
- **Description**: This function is used to define the padding around the grid view in a terminal multiplexer environment. It should be called after the grid has been initialized to ensure proper layout. The padding values are specified in pixels, and the function will adjust the grid's internal padding settings accordingly. If the provided padding values are invalid (e.g., negative values), the function will handle them gracefully, ensuring that the grid remains in a valid state.
- **Inputs**:
    - `gd`: A pointer to a `struct grid` representing the grid view. Must not be null.
    - `px`: An unsigned integer representing the horizontal padding in pixels. Must be a non-negative value.
    - `py`: An unsigned integer representing the vertical padding in pixels. Must be a non-negative value.
- **Output**: None
- **See also**: [`grid_view_set_padding`](grid-view.c.driver.md#grid_view_set_padding)  (Implementation)


---
### grid_view_set_cells<!-- {{#callable_declaration:grid_view_set_cells}} -->
Sets cells in a grid view.
- **Description**: This function is used to set the contents and attributes of specific cells in a grid view. It should be called when you need to update the visual representation of a grid cell, typically after the grid has been initialized. The function takes the grid structure, the pixel coordinates of the cell to be updated, a pointer to a `grid_cell` structure that defines the cell's attributes, a string to be displayed in the cell, and the length of that string. It is important to ensure that the pixel coordinates are within the bounds of the grid; otherwise, the behavior is undefined.
- **Inputs**:
    - `gd`: A pointer to the `grid` structure representing the grid view. Must not be null.
    - `px`: The x-coordinate (in pixels) of the cell to be updated. Must be within the grid's width.
    - `py`: The y-coordinate (in pixels) of the cell to be updated. Must be within the grid's height.
    - `gc`: A pointer to a `grid_cell` structure that contains the attributes for the cell. Must not be null.
    - `s`: A pointer to a string that will be displayed in the cell. Can be null, in which case no string will be displayed.
    - `slen`: The length of the string `s`. Must be less than or equal to the maximum length that the cell can display.
- **Output**: None
- **See also**: [`grid_view_set_cells`](grid-view.c.driver.md#grid_view_set_cells)  (Implementation)


---
### grid_view_clear_history<!-- {{#callable_declaration:grid_view_clear_history}} -->
Clears the history of a grid view.
- **Description**: This function is used to clear the history of a grid, which is typically called when you want to reset the view or when the grid is no longer needed. It should be invoked when the grid is properly initialized and ready for manipulation. The function first determines the last used line in the grid and scrolls the lines into the history if any lines have been used. If no lines have been used, it clears the entire grid view. The background color for the clearing operation is specified by the `bg` parameter.
- **Inputs**:
    - `gd`: A pointer to a `struct grid` representing the grid whose history is to be cleared. Must not be null.
    - `bg`: An unsigned integer representing the background color to use when clearing the grid. Valid values depend on the color scheme in use.
- **Output**: None
- **See also**: [`grid_view_clear_history`](grid-view.c.driver.md#grid_view_clear_history)  (Implementation)


---
### grid_view_clear<!-- {{#callable_declaration:grid_view_clear}} -->
Clears a specified area of a grid.
- **Description**: This function is used to clear a rectangular area in a grid, defined by its top-left corner and its dimensions. It should be called when you want to refresh or clear a specific section of the grid, such as when updating the display. The function expects that the grid has been properly initialized and that the specified coordinates and dimensions are within the bounds of the grid. If the specified area exceeds the grid's dimensions, the function will handle it gracefully by clamping the values to the grid's limits.
- **Inputs**:
    - `gd`: Pointer to the `grid` structure representing the grid to be modified. Must not be null.
    - `px`: The x-coordinate of the top-left corner of the area to clear. Must be within the grid's width.
    - `py`: The y-coordinate of the top-left corner of the area to clear. Must be within the grid's height.
    - `nx`: The width of the area to clear. Must be a positive integer.
    - `ny`: The height of the area to clear. Must be a positive integer.
    - `bg`: The background color to use for clearing the area. This value should be a valid color identifier.
- **Output**: None
- **See also**: [`grid_view_clear`](grid-view.c.driver.md#grid_view_clear)  (Implementation)


---
### grid_view_scroll_region_up<!-- {{#callable_declaration:grid_view_scroll_region_up}} -->
Scrolls the specified region of a grid view upwards.
- **Description**: This function is used to scroll a specified region of a grid view upwards. It should be called when the grid is in a state that allows scrolling, specifically when the grid has history enabled. The function takes the upper and lower bounds of the region to scroll, as well as a background color to fill the newly exposed area. If the specified region encompasses the entire height of the grid, the function will scroll the history instead. It is important to ensure that the `grid` pointer is valid and that the specified region is within the bounds of the grid.
- **Inputs**:
    - `gd`: A pointer to the `grid` structure representing the grid view. Must not be null.
    - `rupper`: The upper boundary of the scroll region, specified as a row index. Must be less than the grid's height.
    - `rlower`: The lower boundary of the scroll region, specified as a row index. Must be greater than or equal to `rupper` and less than the grid's height.
    - `bg`: The background color to fill the newly exposed area after scrolling. This should be a valid color value.
- **Output**: None
- **See also**: [`grid_view_scroll_region_up`](grid-view.c.driver.md#grid_view_scroll_region_up)  (Implementation)


---
### grid_view_scroll_region_down<!-- {{#callable_declaration:grid_view_scroll_region_down}} -->
Scrolls the grid view region down.
- **Description**: This function is used to scroll a specified region of a grid view downwards. It should be called when you want to move the visible content of the grid down by one line, effectively making the content above the specified region visible. The parameters `rupper` and `rlower` define the upper and lower bounds of the scroll region, respectively, and must be within the grid's height. The `bg` parameter specifies the background color to be used for the newly exposed lines. It is important to ensure that the specified region is valid and that the grid has been properly initialized before calling this function.
- **Inputs**:
    - `gd`: A pointer to the `grid` structure representing the grid to be scrolled. Must not be null.
    - `rupper`: The upper boundary of the scroll region, specified as an unsigned integer. Must be less than the height of the grid.
    - `rlower`: The lower boundary of the scroll region, specified as an unsigned integer. Must be greater than `rupper` and less than or equal to the height of the grid.
    - `bg`: An unsigned integer representing the background color to be used for the newly exposed lines. Valid values depend on the color scheme used in the grid.
- **Output**: None
- **See also**: [`grid_view_scroll_region_down`](grid-view.c.driver.md#grid_view_scroll_region_down)  (Implementation)


---
### grid_view_insert_lines<!-- {{#callable_declaration:grid_view_insert_lines}} -->
Inserts lines into a grid view.
- **Description**: This function is used to insert a specified number of lines into a grid view at a given position. It should be called when the grid is properly initialized and ready for modifications. The function adjusts the grid by moving existing lines down to accommodate the new lines being inserted. It is important to ensure that the specified position and number of lines do not exceed the grid's boundaries, as this may lead to undefined behavior.
- **Inputs**:
    - `gd`: A pointer to the `grid` structure representing the grid view. Must not be null.
    - `py`: The y-coordinate (row index) where the lines will be inserted. Must be within the grid's height.
    - `ny`: The number of lines to insert. Must be a non-negative integer.
    - `bg`: The background attribute to apply to the new lines. This value should be a valid grid attribute.
- **Output**: None
- **See also**: [`grid_view_insert_lines`](grid-view.c.driver.md#grid_view_insert_lines)  (Implementation)


---
### grid_view_insert_lines_region<!-- {{#callable_declaration:grid_view_insert_lines_region}} -->
Inserts lines into a grid view.
- **Description**: This function is used to insert a specified number of lines into a grid view at a given position. It is typically called when modifying the display of a grid, such as when new content is added or when adjusting the layout. The function requires that the grid has been properly initialized and that the specified row indices are within valid bounds. If the calculated positions for insertion exceed the grid's dimensions, the function will handle these cases gracefully by clamping the values to the grid's limits.
- **Inputs**:
    - `gd`: A pointer to the `grid` structure representing the grid view. Must not be null.
    - `rlower`: The lower row index where lines will be inserted. Must be within the grid's vertical bounds.
    - `py`: The position in the grid where the lines will be inserted. Must be within the grid's vertical bounds.
    - `ny`: The number of lines to insert. Must be a non-negative integer.
    - `bg`: The background color to use for the inserted lines. This value should be a valid color identifier.
- **Output**: None
- **See also**: [`grid_view_insert_lines_region`](grid-view.c.driver.md#grid_view_insert_lines_region)  (Implementation)


---
### grid_view_delete_lines<!-- {{#callable_declaration:grid_view_delete_lines}} -->
Deletes a specified number of lines from a grid view.
- **Description**: This function is used to remove a specified number of lines from a grid view, starting from a given line position. It should be called when you need to adjust the visible content of the grid, such as when clearing or refreshing the display. The function modifies the grid by moving lines above the specified position downwards and clearing the area that becomes empty. It is important to ensure that the grid is properly initialized before calling this function.
- **Inputs**:
    - `gd`: A pointer to the `grid` structure representing the grid view. Must not be null.
    - `py`: The starting line position from which to delete lines. Must be within the bounds of the grid.
    - `ny`: The number of lines to delete. Must be greater than zero.
    - `bg`: The background color to use when clearing the lines. This value is typically a color code.
- **Output**: None
- **See also**: [`grid_view_delete_lines`](grid-view.c.driver.md#grid_view_delete_lines)  (Implementation)


---
### grid_view_delete_lines_region<!-- {{#callable_declaration:grid_view_delete_lines_region}} -->
Deletes a region of lines in a grid view.
- **Description**: This function is used to delete a specified number of lines from a grid view, starting from a given row. It should be called when you need to remove lines from the display, such as when updating the content of a terminal interface. The function expects that the grid has been properly initialized and that the specified row and number of lines to delete are within valid bounds. If the specified region exceeds the grid's dimensions, the function will handle it gracefully by adjusting the deletion parameters.
- **Inputs**:
    - `gd`: A pointer to the `grid` structure representing the grid view. Must not be null.
    - `rlower`: The lower row index from which to start deleting lines. Must be within the grid's height.
    - `py`: The starting row index for the deletion operation. Must be within the grid's height.
    - `ny`: The number of lines to delete. Must be a non-negative integer.
    - `bg`: The background color to use when clearing the deleted lines. This value should be a valid color code.
- **Output**: None
- **See also**: [`grid_view_delete_lines_region`](grid-view.c.driver.md#grid_view_delete_lines_region)  (Implementation)


---
### grid_view_insert_cells<!-- {{#callable_declaration:grid_view_insert_cells}} -->
Inserts cells into a grid view.
- **Description**: This function is used to insert cells into a grid view at specified coordinates. It should be called when you need to modify the grid's content, particularly when adding new cells. The function takes into account the current grid dimensions and adjusts the insertion accordingly. If the specified position is at or beyond the right edge of the grid, the function will clear the cell at that position instead of inserting new cells. It is important to ensure that the grid has been properly initialized before calling this function.
- **Inputs**:
    - `gd`: A pointer to the `grid` structure representing the grid view. Must not be null.
    - `px`: The x-coordinate (column) where cells will be inserted. Must be within the grid's width.
    - `py`: The y-coordinate (row) where cells will be inserted. Must be within the grid's height.
    - `nx`: The number of cells to insert. Must be a non-negative integer.
    - `bg`: The background color to use for the cells. This value should be a valid color identifier.
- **Output**: None
- **See also**: [`grid_view_insert_cells`](grid-view.c.driver.md#grid_view_insert_cells)  (Implementation)


---
### grid_view_delete_cells<!-- {{#callable_declaration:grid_view_delete_cells}} -->
Deletes a specified range of cells in a grid.
- **Description**: This function is used to remove a block of cells from a grid, starting at the specified coordinates (px, py) and extending for a specified width (nx). It also allows for a background color (bg) to be applied to the cleared area. It is important to ensure that the grid is properly initialized before calling this function. If the specified coordinates or dimensions exceed the grid boundaries, the function will handle these cases gracefully without causing any crashes.
- **Inputs**:
    - `gd`: A pointer to the `grid` structure representing the grid from which cells will be deleted. Must not be null.
    - `px`: The x-coordinate of the starting cell from which deletion begins. Must be within the grid's width.
    - `py`: The y-coordinate of the starting cell from which deletion begins. Must be within the grid's height.
    - `nx`: The number of cells to delete horizontally. Must be a positive integer.
    - `bg`: The background color to apply to the cleared cells. This value should be a valid color identifier.
- **Output**: None
- **See also**: [`grid_view_delete_cells`](grid-view.c.driver.md#grid_view_delete_cells)  (Implementation)


---
### grid_view_string_cells<!-- {{#callable_declaration:grid_view_string_cells}} -->
Returns a string representation of grid cells.
- **Description**: This function is used to obtain a string representation of a specified number of cells in a grid, starting from a given position. It is essential to call this function with valid grid coordinates, which must be within the bounds of the grid. The function will adjust the provided pixel coordinates to the grid's internal representation before retrieving the cell data. If the specified range exceeds the grid's dimensions, the behavior is undefined.
- **Inputs**:
    - `gd`: A pointer to a `struct grid` representing the grid from which to retrieve cell data. Must not be null.
    - `px`: The x-coordinate (pixel) from which to start retrieving cells. Must be a valid pixel position within the grid.
    - `py`: The y-coordinate (pixel) from which to start retrieving cells. Must be a valid pixel position within the grid.
    - `nx`: The number of cells to retrieve. Must be a positive integer.
- **Output**: Returns a pointer to a string containing the representation of the specified grid cells. The caller is responsible for managing the memory of the returned string.
- **See also**: [`grid_view_string_cells`](grid-view.c.driver.md#grid_view_string_cells)  (Implementation)


---
### screen_write_make_list<!-- {{#callable_declaration:screen_write_make_list}} -->
Allocates and initializes a write list for a screen.
- **Description**: This function should be called to prepare the write list for a `screen` structure before any writing operations are performed. It allocates memory for the write list based on the screen's height and initializes each entry in the list. It is essential to call this function after the `screen` has been properly initialized and before any writing to the screen occurs. If the screen's height is zero, the function will still allocate an empty list without causing an error.
- **Inputs**:
    - `s`: A pointer to a `screen` structure that must not be null. This structure should be properly initialized before calling this function. The function will allocate memory for the write list based on the height of the screen.
- **Output**: The function does not return a value and does not mutate any inputs directly. It allocates memory for the `write_list` field of the `screen` structure.
- **See also**: [`screen_write_make_list`](screen-write.c.driver.md#screen_write_make_list)  (Implementation)


---
### screen_write_free_list<!-- {{#callable_declaration:screen_write_free_list}} -->
Frees the write list associated with a screen.
- **Description**: This function should be called when the write list of a `screen` is no longer needed, typically during cleanup or destruction of the screen. It iterates through each entry in the write list and frees the associated data. It is important to ensure that this function is called only after the screen has been properly initialized and that the write list is not accessed afterward, as it will be invalidated.
- **Inputs**:
    - `s`: A pointer to a `screen` structure. Must not be null. The function assumes that the `screen` has been initialized and that its write list is valid.
- **Output**: None
- **See also**: [`screen_write_free_list`](screen-write.c.driver.md#screen_write_free_list)  (Implementation)


---
### screen_write_start_pane<!-- {{#callable_declaration:screen_write_start_pane}} -->
Starts writing to a screen pane.
- **Description**: This function initializes the screen writing context for a specific pane, allowing subsequent drawing operations to be directed to that pane. It should be called after the screen and pane have been properly initialized. If the provided screen pointer is `NULL`, the function will use the screen associated with the specified window pane. It is important to ensure that the context is valid and that the pane is ready for writing before invoking this function.
- **Inputs**:
    - `ctx`: A pointer to a `screen_write_ctx` structure that holds the context for screen writing. Must not be null.
    - `wp`: A pointer to a `window_pane` structure representing the pane to which the output will be directed. Must not be null.
    - `s`: A pointer to a `screen` structure representing the screen to be used for writing. If `NULL`, the screen from the `window_pane` will be used.
- **Output**: None
- **See also**: [`screen_write_start_pane`](screen-write.c.driver.md#screen_write_start_pane)  (Implementation)


---
### screen_write_start<!-- {{#callable_declaration:screen_write_start}} -->
Starts the screen writing process.
- **Description**: This function initializes the screen writing context for a specified screen. It must be called after the screen and context have been properly initialized. The function also logs the size of the screen if the logging level is set to a value greater than zero. It is important to ensure that the `ctx` and `s` parameters are valid and properly initialized before calling this function.
- **Inputs**:
    - `ctx`: A pointer to a `screen_write_ctx` structure that holds the context for screen writing. This parameter must not be null and should be properly initialized before use.
    - `s`: A pointer to a `screen` structure representing the screen to which the writing context is associated. This parameter must not be null and should be properly initialized before use.
- **Output**: This function does not return a value and does not mutate any inputs.
- **See also**: [`screen_write_start`](screen-write.c.driver.md#screen_write_start)  (Implementation)


---
### screen_write_start_callback<!-- {{#callable_declaration:screen_write_start_callback}} -->
Registers a callback for screen write initialization.
- **Description**: This function is used to set up a callback that will be invoked during the initialization of a screen write context. It should be called after the screen write context has been initialized with a valid `screen` structure. The callback allows for custom initialization logic to be executed when the screen write context is started. If the logging level is set to a value greater than zero, a debug message will be logged indicating the size of the screen.
- **Inputs**:
    - `ctx`: A pointer to a `screen_write_ctx` structure that represents the context for screen writing. Must not be null.
    - `s`: A pointer to a `screen` structure that represents the screen to be written to. Must not be null.
    - `cb`: A function pointer to a callback of type `screen_write_init_ctx_cb`. This callback will be invoked during the initialization of the screen write context. Must not be null.
    - `arg`: A pointer to user-defined data that will be passed to the callback. Can be null.
- **Output**: None
- **See also**: [`screen_write_start_callback`](screen-write.c.driver.md#screen_write_start_callback)  (Implementation)


---
### screen_write_stop<!-- {{#callable_declaration:screen_write_stop}} -->
Stops the screen writing process.
- **Description**: This function is used to terminate the screen writing process associated with a given context. It should be called when the screen writing is complete, ensuring that any buffered output is flushed and resources are properly released. The function expects a valid `screen_write_ctx` pointer, which must have been initialized prior to calling this function. If the context is invalid or uninitialized, the behavior is undefined.
- **Inputs**:
    - `ctx`: A pointer to a `screen_write_ctx` structure that represents the context for screen writing. This pointer must not be null and should point to a valid context that has been initialized before this function is called.
- **Output**: None
- **See also**: [`screen_write_stop`](screen-write.c.driver.md#screen_write_stop)  (Implementation)


---
### screen_write_reset<!-- {{#callable_declaration:screen_write_reset}} -->
Resets the screen write context.
- **Description**: This function is intended to reset the state of the screen write context, preparing it for a fresh output. It should be called when you want to clear the current screen and reset various settings, such as cursor position and scroll region. The function assumes that the provided context has been properly initialized and is valid. It will clear the screen and set the cursor to the top-left corner, while also resetting tab stops and scroll regions. Additionally, it may adjust the screen mode based on global options.
- **Inputs**:
    - `ctx`: A pointer to a `screen_write_ctx` structure that represents the current screen write context. This parameter must not be null and should point to a valid context that has been initialized prior to calling this function.
- **Output**: None
- **See also**: [`screen_write_reset`](screen-write.c.driver.md#screen_write_reset)  (Implementation)


---
### screen_write_vnputs<!-- {{#callable_declaration:screen_write_vnputs}} -->
Writes formatted data to a screen context.
- **Description**: This function is used to write formatted output to a specified screen context, which is typically used in terminal applications. It should be called when there is a need to display formatted text on the screen, and it can handle various character types, including UTF-8. The function takes a maximum length parameter to limit the number of characters written, which helps prevent buffer overflows. It is important to ensure that the `ctx` parameter is properly initialized before calling this function. If the formatted message exceeds the specified `maxlen`, it will truncate the output accordingly.
- **Inputs**:
    - `ctx`: A pointer to a `struct screen_write_ctx` that represents the screen context where the output will be written. This must not be null and should be properly initialized before use.
    - `maxlen`: A `ssize_t` value that specifies the maximum number of characters to write. It can be set to a positive value to limit the output length, or to zero for no limit.
    - `gcp`: A pointer to a `struct grid_cell` that defines the attributes of the characters to be written, such as foreground and background colors. This must not be null.
    - `fmt`: A format string that specifies how subsequent arguments are converted for output. This must not be null and should follow the standard printf format conventions.
    - `ap`: A `va_list` type that represents a variable argument list. This should be initialized using `va_start` before passing to the function.
- **Output**: The function does not return a value and does not mutate any of the input parameters directly. It writes formatted output to the specified screen context.
- **See also**: [`screen_write_vnputs`](screen-write.c.driver.md#screen_write_vnputs)  (Implementation)


---
### screen_write_putc<!-- {{#callable_declaration:screen_write_putc}} -->
Writes a character to the screen.
- **Description**: This function is used to write a single character to the screen at the current cursor position, using the specified grid cell attributes. It should be called when the screen context is properly initialized and ready for drawing. The function modifies the grid cell data to represent the character being written, and it is important to ensure that the provided character is valid. If the provided `grid_cell` pointer is null, the function will not perform any operation.
- **Inputs**:
    - `ctx`: A pointer to a `screen_write_ctx` structure that represents the current screen context. Must not be null.
    - `gcp`: A pointer to a `grid_cell` structure that contains the attributes for the cell where the character will be written. Must not be null.
    - `ch`: The character to be written, represented as an unsigned char. Valid values are any character that can be represented in UTF-8.
- **Output**: None
- **See also**: [`screen_write_putc`](screen-write.c.driver.md#screen_write_putc)  (Implementation)


---
### screen_write_fast_copy<!-- {{#callable_declaration:screen_write_fast_copy}} -->
Copies a rectangular area of pixels from one screen to another.
- **Description**: This function is used to efficiently copy a rectangular area of pixels from a source screen to the current screen context. It should be called when the destination screen is ready to receive the copied content. The function does not perform any action if the width (`nx`) or height (`ny`) of the area to be copied is zero. It is important to ensure that the specified coordinates and dimensions do not exceed the bounds of the source screen's grid.
- **Inputs**:
    - `ctx`: A pointer to a `screen_write_ctx` structure that holds the context for screen writing. Must not be null.
    - `src`: A pointer to the source `screen` structure from which the pixels will be copied. Must not be null.
    - `px`: The x-coordinate of the top-left corner of the rectangle in the source screen. Must be within the bounds of the source screen.
    - `py`: The y-coordinate of the top-left corner of the rectangle in the source screen. Must be within the bounds of the source screen.
    - `nx`: The width of the rectangle to copy. Must be greater than zero.
    - `ny`: The height of the rectangle to copy. Must be greater than zero.
- **Output**: None
- **See also**: [`screen_write_fast_copy`](screen-write.c.driver.md#screen_write_fast_copy)  (Implementation)


---
### screen_write_hline<!-- {{#callable_declaration:screen_write_hline}} -->
Writes a horizontal line to the screen.
- **Description**: This function is used to draw a horizontal line on the screen within a specified context. It should be called when the screen is ready for drawing, typically after initializing the screen context. The line is drawn using the specified number of cells, and the appearance of the line can be customized with border styles. The function takes care of setting the appropriate cursor position after drawing, ensuring that the cursor returns to its original location. If the provided parameters are invalid, the function will handle them gracefully, ensuring that the screen remains in a consistent state.
- **Inputs**:
    - `ctx`: A pointer to a `screen_write_ctx` structure that holds the context for screen writing. Must not be null.
    - `nx`: An unsigned integer representing the number of cells to draw. Must be greater than 1.
    - `left`: An integer indicating whether to draw a left border (1 for yes, 0 for no).
    - `right`: An integer indicating whether to draw a right border (1 for yes, 0 for no).
    - `lines`: An enumeration value of type `box_lines` that specifies the style of the line. Must be a valid value from the `box_lines` enum.
    - `border_gc`: A pointer to a `grid_cell` structure that defines the border's appearance. Can be null, in which case a default border style will be used.
- **Output**: None
- **See also**: [`screen_write_hline`](screen-write.c.driver.md#screen_write_hline)  (Implementation)


---
### screen_write_vline<!-- {{#callable_declaration:screen_write_vline}} -->
Writes a vertical line on the screen.
- **Description**: This function is used to draw a vertical line on the screen within a specified range. It should be called when the screen context is properly initialized. The vertical line is drawn using a character that can vary based on the `top` and `bottom` parameters, which determine the characters used at the start and end of the line. The function does not perform any bounds checking on the `ny`, `top`, and `bottom` parameters, so the caller must ensure that these values are valid to avoid undefined behavior.
- **Inputs**:
    - `ctx`: A pointer to a `screen_write_ctx` structure that holds the context for screen writing. Must not be null.
    - `ny`: An unsigned integer representing the number of lines to draw. Must be greater than 1.
    - `top`: An integer that determines the character to use at the top of the line. If non-zero, the character 'w' is used; otherwise, 'x' is used.
    - `bottom`: An integer that determines the character to use at the bottom of the line. If non-zero, the character 'v' is used; otherwise, 'x' is used.
- **Output**: None
- **See also**: [`screen_write_vline`](screen-write.c.driver.md#screen_write_vline)  (Implementation)


---
### screen_write_menu<!-- {{#callable_declaration:screen_write_menu}} -->
Writes a menu to the screen.
- **Description**: This function is used to display a menu on the screen, allowing users to select an option. It should be called when the screen is ready for output, typically after initializing the screen context. The function takes a `menu` structure that contains the title and items to display, along with the current `choice` index to highlight the selected item. The appearance of the menu can be customized using various `grid_cell` parameters for the menu items, borders, and the selected choice. If the `choice` index is out of bounds, it will not highlight any item, and if any menu item name is `NULL`, it will skip that item without causing an error.
- **Inputs**:
    - `ctx`: A pointer to a `screen_write_ctx` structure that holds the context for screen writing. Must not be null.
    - `menu`: A pointer to a `menu` structure containing the title, items, and layout of the menu. Must not be null.
    - `choice`: An integer representing the index of the currently selected menu item. Valid range is from 0 to menu->count - 1. If out of range, no item will be highlighted.
    - `lines`: An enumeration value of type `box_lines` that specifies the style of the box lines around the menu. Should be a valid `box_lines` value.
    - `menu_gc`: A pointer to a `grid_cell` structure that defines the appearance of the menu items. Must not be null.
    - `border_gc`: A pointer to a `grid_cell` structure that defines the appearance of the menu border. Must not be null.
    - `choice_gc`: A pointer to a `grid_cell` structure that defines the appearance of the selected menu item. Must not be null.
- **Output**: None
- **See also**: [`screen_write_menu`](screen-write.c.driver.md#screen_write_menu)  (Implementation)


---
### screen_write_box<!-- {{#callable_declaration:screen_write_box}} -->
Draws a box on the screen.
- **Description**: This function is used to draw a box on the screen with specified dimensions, border styles, and an optional title. It should be called when the screen context is properly initialized. The box is drawn using the provided grid cell attributes, and if no attributes are provided, default attributes are used. The function handles the drawing of the box's borders and sides, and if a title is provided, it is displayed at the top of the box. The function does not return any value.
- **Inputs**:
    - `ctx`: A pointer to a `screen_write_ctx` structure that contains the context for screen writing. Must not be null.
    - `nx`: An unsigned integer representing the width of the box in cells. Must be greater than 1.
    - `ny`: An unsigned integer representing the height of the box in cells. Must be greater than 1.
    - `lines`: An enumeration value of type `box_lines` that specifies the style of the box borders. Valid values include `BOX_LINES_DEFAULT`, `BOX_LINES_SINGLE`, `BOX_LINES_DOUBLE`, etc.
    - `gcp`: A pointer to a `grid_cell` structure that defines the attributes of the box. If null, default attributes are used.
    - `title`: A string representing the title to be displayed at the top of the box. Can be null if no title is needed.
- **Output**: None
- **See also**: [`screen_write_box`](screen-write.c.driver.md#screen_write_box)  (Implementation)


---
### screen_write_preview<!-- {{#callable_declaration:screen_write_preview}} -->
Writes a preview of the screen content.
- **Description**: This function is used to render a preview of a specified area of a screen, which is useful for displaying content without altering the current screen state. It should be called when you want to show a portion of the screen defined by the dimensions `nx` and `ny`. The function adjusts the starting position based on the cursor's location if the cursor mode is enabled. If the cursor is not visible, it defaults to the top-left corner of the screen. The function does not return any value.
- **Inputs**:
    - `ctx`: A pointer to a `screen_write_ctx` structure that holds the context for screen writing. This must not be null.
    - `src`: A pointer to a `screen` structure representing the source screen from which content will be copied. This must not be null.
    - `nx`: An unsigned integer representing the width of the area to preview. It must be greater than zero.
    - `ny`: An unsigned integer representing the height of the area to preview. It must be greater than zero.
- **Output**: None
- **See also**: [`screen_write_preview`](screen-write.c.driver.md#screen_write_preview)  (Implementation)


---
### screen_write_backspace<!-- {{#callable_declaration:screen_write_backspace}} -->
Moves the cursor back one position.
- **Description**: This function is used to move the cursor back by one position on the screen. It should be called when the user wants to simulate a backspace action. If the cursor is at the beginning of a line, it will move to the end of the previous line if that line is wrapped. The function does not return any value and does not modify any input parameters.
- **Inputs**:
    - `ctx`: A pointer to a `screen_write_ctx` structure that contains the context for screen writing. This parameter must not be null and should be properly initialized before calling the function.
- **Output**: None
- **See also**: [`screen_write_backspace`](screen-write.c.driver.md#screen_write_backspace)  (Implementation)


---
### screen_write_mode_set<!-- {{#callable_declaration:screen_write_mode_set}} -->
Sets the screen write mode.
- **Description**: This function is used to modify the current screen write mode by applying the specified mode to the context provided. It should be called when you need to change the behavior of the screen output, such as enabling or disabling specific features. The function does not validate the mode value, so it is the caller's responsibility to ensure that the mode is appropriate for the current context.
- **Inputs**:
    - `ctx`: A pointer to a `screen_write_ctx` structure that holds the context for screen writing. This pointer must not be null.
    - `mode`: An integer representing the mode to set. The valid range of values depends on the specific implementation and should be defined in the context of the application. The function does not handle invalid mode values.
- **Output**: The function does not return a value and does not modify any inputs directly.
- **See also**: [`screen_write_mode_set`](screen-write.c.driver.md#screen_write_mode_set)  (Implementation)


---
### screen_write_mode_clear<!-- {{#callable_declaration:screen_write_mode_clear}} -->
Clears specified modes from the screen.
- **Description**: This function is used to clear specific modes from the screen's context. It should be called when you want to disable certain modes that are currently active. The function modifies the mode field of the screen structure associated with the provided context. It is important to ensure that the context is valid and properly initialized before calling this function.
- **Inputs**:
    - `ctx`: A pointer to a `screen_write_ctx` structure that contains the context for screen writing. This pointer must not be null and should point to a valid context.
    - `mode`: An integer representing the mode(s) to be cleared. The valid range of this parameter depends on the defined modes in the system. If an invalid mode is provided, the function will simply ignore it without causing any errors.
- **Output**: The function does not return a value and does not modify any inputs directly.
- **See also**: [`screen_write_mode_clear`](screen-write.c.driver.md#screen_write_mode_clear)  (Implementation)


---
### screen_write_cursorup<!-- {{#callable_declaration:screen_write_cursorup}} -->
Moves the cursor up by a specified number of lines.
- **Description**: This function adjusts the cursor's vertical position within a screen context by moving it up by a specified number of lines. It is important to ensure that the function is called with a valid `screen_write_ctx` that has been properly initialized. If the number of lines to move up is zero, it defaults to moving up by one line. The function also enforces boundaries based on the defined scroll region of the screen, preventing the cursor from moving beyond the upper limit.
- **Inputs**:
    - `ctx`: A pointer to a `screen_write_ctx` structure that represents the current screen context. This parameter must not be null and should be properly initialized before calling the function.
    - `ny`: An unsigned integer representing the number of lines to move the cursor up. It must be a non-negative value. If `ny` is zero, it is treated as one.
- **Output**: None
- **See also**: [`screen_write_cursorup`](screen-write.c.driver.md#screen_write_cursorup)  (Implementation)


---
### screen_write_cursordown<!-- {{#callable_declaration:screen_write_cursordown}} -->
Moves the cursor down by a specified number of lines.
- **Description**: This function is used to move the cursor down in the screen context by a specified number of lines. It should be called when the screen is ready for cursor manipulation, typically after initializing the screen context. If the specified number of lines to move down is zero, it defaults to moving down by one line. The function ensures that the cursor does not move beyond the defined scroll region of the screen, adjusting the number of lines to move down if necessary. If the cursor is already at the bottom of the screen, it will not move further down.
- **Inputs**:
    - `ctx`: A pointer to a `screen_write_ctx` structure that contains the context for screen writing. This must not be null.
    - `ny`: An unsigned integer representing the number of lines to move the cursor down. It must be greater than or equal to 0. If it is 0, the function will treat it as 1.
- **Output**: None
- **See also**: [`screen_write_cursordown`](screen-write.c.driver.md#screen_write_cursordown)  (Implementation)


---
### screen_write_cursorright<!-- {{#callable_declaration:screen_write_cursorright}} -->
Moves the cursor to the right by a specified number of positions.
- **Description**: This function is used to move the cursor in the specified `screen_write_ctx` context to the right by a given number of positions. It is important to note that this function should be called when the screen is properly initialized and ready for cursor manipulation. If the specified number of positions (`nx`) is zero, it defaults to one. If the requested movement exceeds the screen's width, it will be clamped to the maximum allowable movement. The function does not return any value.
- **Inputs**:
    - `ctx`: A pointer to a `screen_write_ctx` structure that holds the context for screen writing. This parameter must not be null and should point to a valid context that has been initialized.
    - `nx`: An unsigned integer representing the number of positions to move the cursor to the right. It must be a non-negative value. If set to zero, it defaults to one. If the value exceeds the available space on the screen, it will be adjusted to fit within the screen boundaries.
- **Output**: None
- **See also**: [`screen_write_cursorright`](screen-write.c.driver.md#screen_write_cursorright)  (Implementation)


---
### screen_write_cursorleft<!-- {{#callable_declaration:screen_write_cursorleft}} -->
Moves the cursor left by a specified number of columns.
- **Description**: This function is used to move the cursor position to the left within the current line of a screen. It should be called when you want to adjust the cursor's horizontal position, typically in response to user input or programmatic control. The function takes into account the current cursor position and ensures that the cursor does not move beyond the start of the line. If the specified number of columns to move left is greater than the current cursor position, it will only move the cursor to the start of the line.
- **Inputs**:
    - `ctx`: A pointer to a `screen_write_ctx` structure that contains the context for screen writing. This must not be null.
    - `nx`: An unsigned integer representing the number of columns to move the cursor left. If this value is zero, it defaults to one. If it exceeds the current cursor position, it is clamped to the current position.
- **Output**: None
- **See also**: [`screen_write_cursorleft`](screen-write.c.driver.md#screen_write_cursorleft)  (Implementation)


---
### screen_write_alignmenttest<!-- {{#callable_declaration:screen_write_alignmenttest}} -->
Writes an alignment test to the screen.
- **Description**: This function is used to perform an alignment test on the screen by writing a specific character pattern across the entire screen grid. It should be called when the screen is ready for output, typically after initialization. The function clears the screen and sets the cursor to the top-left corner before writing the alignment test. It is important to ensure that the `screen_write_ctx` structure is properly initialized and associated with a valid screen before calling this function.
- **Inputs**:
    - `ctx`: A pointer to a `screen_write_ctx` structure that contains the context for screen writing. This must not be null and should be properly initialized before use.
- **Output**: None
- **See also**: [`screen_write_alignmenttest`](screen-write.c.driver.md#screen_write_alignmenttest)  (Implementation)


---
### screen_write_insertcharacter<!-- {{#callable_declaration:screen_write_insertcharacter}} -->
Inserts a specified number of characters at the current cursor position.
- **Description**: This function is used to insert a specified number of characters into the screen buffer at the current cursor position. It should be called when the screen is ready for writing, and the context must be properly initialized. If the number of characters to insert is zero, it defaults to one. If the specified number exceeds the available space to the right of the cursor, it is clamped to fit. The function does not perform any action if the cursor is positioned beyond the right edge of the screen.
- **Inputs**:
    - `ctx`: A pointer to a `screen_write_ctx` structure that holds the context for screen writing. Must not be null.
    - `nx`: The number of characters to insert. Must be a non-negative integer. If zero, it defaults to one.
    - `bg`: The background color to use for the inserted characters. This value should be a valid color code.
- **Output**: None
- **See also**: [`screen_write_insertcharacter`](screen-write.c.driver.md#screen_write_insertcharacter)  (Implementation)


---
### screen_write_deletecharacter<!-- {{#callable_declaration:screen_write_deletecharacter}} -->
Deletes a specified number of characters from the current cursor position.
- **Description**: This function is used to delete characters from the screen at the current cursor position. It should be called when the screen is ready for updates, typically after initializing the screen context. The number of characters to delete can be specified, and if it exceeds the available space to the right of the cursor, it will be clamped to the maximum possible. If the specified number is zero, it defaults to one. The background color for the deleted characters can also be specified, which will be used to fill the space left by the deleted characters.
- **Inputs**:
    - `ctx`: A pointer to a `screen_write_ctx` structure that holds the context for screen writing. Must not be null.
    - `nx`: The number of characters to delete. Must be a non-negative integer. If zero, it defaults to one.
    - `bg`: The background color to use for the deleted characters. This is an unsigned integer representing the color value.
- **Output**: None
- **See also**: [`screen_write_deletecharacter`](screen-write.c.driver.md#screen_write_deletecharacter)  (Implementation)


---
### screen_write_clearcharacter<!-- {{#callable_declaration:screen_write_clearcharacter}} -->
Clears a specified number of characters on the screen.
- **Description**: This function is used to clear a specified number of characters from the current cursor position on the screen, replacing them with a background color. It should be called when the screen is ready for updates, typically after initializing the screen context. If the number of characters to clear is zero, it defaults to one. If the specified number exceeds the available space to the right of the cursor, it is clamped to fit within the screen boundaries. The function does not perform any action if the cursor is positioned beyond the right edge of the screen.
- **Inputs**:
    - `ctx`: A pointer to a `screen_write_ctx` structure that holds the context for screen writing. Must not be null.
    - `nx`: The number of characters to clear. Must be a non-negative integer. If zero, it defaults to one.
    - `bg`: The background color to use for the cleared characters. This should be a valid color value.
- **Output**: None
- **See also**: [`screen_write_clearcharacter`](screen-write.c.driver.md#screen_write_clearcharacter)  (Implementation)


---
### screen_write_insertline<!-- {{#callable_declaration:screen_write_insertline}} -->
Inserts lines into the screen.
- **Description**: This function is used to insert a specified number of lines into the screen at the current cursor position. It should be called when the screen is ready for updates, typically after initialization. If the number of lines to insert is zero, the function will default to inserting one line. The background color for the inserted lines can be specified, and it will be applied accordingly. If the insertion exceeds the screen boundaries, it will be clamped to fit within the valid range.
- **Inputs**:
    - `ctx`: A pointer to a `screen_write_ctx` structure that holds the context for screen writing. This must not be null.
    - `ny`: The number of lines to insert. Must be greater than or equal to 1; if 0 is provided, it defaults to 1.
    - `bg`: The background color to use for the inserted lines. This is an unsigned integer representing the color value.
- **Output**: None
- **See also**: [`screen_write_insertline`](screen-write.c.driver.md#screen_write_insertline)  (Implementation)


---
### screen_write_deleteline<!-- {{#callable_declaration:screen_write_deleteline}} -->
Deletes a specified number of lines from the screen.
- **Description**: This function is used to delete a specified number of lines from the current screen context. It should be called when the screen is in a valid state, specifically when the cursor is within the defined scroll region. If the number of lines to delete exceeds the available lines below the cursor, it will be adjusted to the maximum possible. The background color for the deleted lines can be specified, and the function will handle the necessary updates to the screen and the terminal.
- **Inputs**:
    - `ctx`: A pointer to a `screen_write_ctx` structure that holds the context for screen writing. Must not be null.
    - `ny`: The number of lines to delete. Must be greater than or equal to 1. If set to 0, it will default to 1.
    - `bg`: The background color to use for the deleted lines. This value should be a valid color code.
- **Output**: None
- **See also**: [`screen_write_deleteline`](screen-write.c.driver.md#screen_write_deleteline)  (Implementation)


---
### screen_write_clearline<!-- {{#callable_declaration:screen_write_clearline}} -->
Clears the specified line on the screen.
- **Description**: This function is used to clear a specific line on the screen, setting it to a background color specified by the `bg` parameter. It should be called when the screen is ready for updates, typically after initializing the screen context. If the line to be cleared is empty and the background color is the default, the function will return without making any changes. The function may also trigger a redraw of the associated pane if certain conditions are met.
- **Inputs**:
    - `ctx`: A pointer to a `screen_write_ctx` structure that contains the context for screen writing. This must not be null.
    - `bg`: An unsigned integer representing the background color to be used for clearing the line. Valid values depend on the color scheme in use.
- **Output**: None
- **See also**: [`screen_write_clearline`](screen-write.c.driver.md#screen_write_clearline)  (Implementation)


---
### screen_write_clearendofline<!-- {{#callable_declaration:screen_write_clearendofline}} -->
Clears the line from the current cursor position to the end of the line.
- **Description**: This function is used to clear the contents of the line from the current cursor position to the end of the line, filling it with a specified background color. It should be called when the screen context is properly initialized and the cursor is positioned within the bounds of the screen. If the cursor is at the beginning of the line, the entire line will be cleared. If the cursor is out of bounds or if the specified background color is the default, the function will not perform any action. Additionally, if the screen supports sixel images and the line is being modified, it may trigger a redraw of the associated pane.
- **Inputs**:
    - `ctx`: A pointer to a `screen_write_ctx` structure that holds the context for screen writing. This must not be null.
    - `bg`: An unsigned integer representing the background color to fill the cleared area. Valid values depend on the color scheme in use.
- **Output**: None
- **See also**: [`screen_write_clearendofline`](screen-write.c.driver.md#screen_write_clearendofline)  (Implementation)


---
### screen_write_clearstartofline<!-- {{#callable_declaration:screen_write_clearstartofline}} -->
Clears the start of the current line on the screen.
- **Description**: This function is used to clear the start of the current line in the specified screen context. It should be called when the screen is ready for updates, typically after initializing the screen context. If the cursor is at the end of the line, the entire line will be cleared instead. The background color for the cleared area can be specified, and it is important to ensure that the `ctx` parameter is valid and properly initialized before calling this function.
- **Inputs**:
    - `ctx`: A pointer to a `screen_write_ctx` structure that holds the context for screen writing. This must not be null and should be properly initialized before use.
    - `bg`: An unsigned integer representing the background color to use when clearing the line. Valid values depend on the color scheme in use.
- **Output**: None
- **See also**: [`screen_write_clearstartofline`](screen-write.c.driver.md#screen_write_clearstartofline)  (Implementation)


---
### screen_write_cursormove<!-- {{#callable_declaration:screen_write_cursormove}} -->
Moves the cursor to a specified position on the screen.
- **Description**: This function is used to reposition the cursor within a screen context. It should be called when you need to update the cursor's location based on the provided pixel coordinates. The `px` and `py` parameters specify the new cursor position, while the `origin` parameter determines if the coordinates are relative to the current scroll region. If the specified coordinates exceed the screen boundaries, they will be clamped to the nearest valid position. It is important to ensure that the `ctx` parameter is valid and properly initialized before calling this function.
- **Inputs**:
    - `ctx`: A pointer to a `screen_write_ctx` structure that holds the context for screen writing. Must not be null.
    - `px`: The new x-coordinate for the cursor. Valid values are from 0 to the width of the screen minus one. If set to -1, the x-coordinate will not change.
    - `py`: The new y-coordinate for the cursor. Valid values are from 0 to the height of the screen minus one. If set to -1, the y-coordinate will not change.
    - `origin`: An integer that indicates whether the coordinates are relative to the current scroll region. A value of 1 means they are relative, while 0 means they are absolute.
- **Output**: None
- **See also**: [`screen_write_cursormove`](screen-write.c.driver.md#screen_write_cursormove)  (Implementation)


---
### screen_write_reverseindex<!-- {{#callable_declaration:screen_write_reverseindex}} -->
Writes a reverse index on the screen.
- **Description**: This function is used to perform a reverse index operation on the screen, which is typically called when the cursor is at the bottom of the scroll region. It should be invoked when the screen is ready for output, particularly after the initialization of the screen context. If the cursor is at the top of the scroll region, it will scroll the region down and then write the reverse index command. If the cursor is not at the top, it will simply move the cursor up by one line.
- **Inputs**:
    - `ctx`: A pointer to a `screen_write_ctx` structure that holds the context for screen writing. This must not be null and should be properly initialized before calling the function.
    - `bg`: An unsigned integer representing the background color to be used during the operation. Valid values depend on the color scheme in use. The function does not handle invalid values explicitly, but it is expected that the caller provides a valid background color.
- **Output**: The function does not return a value and does not mutate any inputs.
- **See also**: [`screen_write_reverseindex`](screen-write.c.driver.md#screen_write_reverseindex)  (Implementation)


---
### screen_write_scrollregion<!-- {{#callable_declaration:screen_write_scrollregion}} -->
Sets the scroll region for the screen.
- **Description**: This function defines a scroll region within the screen, which is specified by the upper and lower bounds. It must be called after initializing the screen context. The upper bound must be less than the lower bound, and both bounds must be within the screen's height. If the provided bounds exceed the screen's dimensions, they will be clamped to the maximum valid values. The cursor is moved to the top-left corner of the screen after setting the scroll region.
- **Inputs**:
    - `ctx`: A pointer to a `screen_write_ctx` structure that holds the context for screen writing. This must not be null.
    - `rupper`: An unsigned integer representing the upper bound of the scroll region. It must be less than the screen's height. If it exceeds the maximum height, it will be clamped to the maximum valid value.
    - `rlower`: An unsigned integer representing the lower bound of the scroll region. It must be greater than the upper bound and less than or equal to the screen's height. If it exceeds the maximum height, it will be clamped to the maximum valid value.
- **Output**: None
- **See also**: [`screen_write_scrollregion`](screen-write.c.driver.md#screen_write_scrollregion)  (Implementation)


---
### screen_write_linefeed<!-- {{#callable_declaration:screen_write_linefeed}} -->
Writes a line feed to the screen.
- **Description**: This function is used to write a line feed to the screen, which may involve scrolling the screen if the cursor is at the bottom of the visible area. It should be called when you want to move the cursor down to the next line, and it can handle line wrapping if specified. The function also updates the background color if it differs from the current context. It is important to ensure that the `screen_write_ctx` is properly initialized before calling this function.
- **Inputs**:
    - `ctx`: A pointer to a `screen_write_ctx` structure that holds the context for screen writing. Must not be null.
    - `wrapped`: An integer indicating whether the line is wrapped (1) or not (0). Valid values are 0 or 1.
    - `bg`: An unsigned integer representing the background color to be set. This value should be a valid color code.
- **Output**: None
- **See also**: [`screen_write_linefeed`](screen-write.c.driver.md#screen_write_linefeed)  (Implementation)


---
### screen_write_scrollup<!-- {{#callable_declaration:screen_write_scrollup}} -->
Scrolls the screen up by a specified number of lines.
- **Description**: This function is used to scroll the visible area of the screen up by a specified number of lines. It should be called when the screen is in a valid state, typically after the screen has been initialized. If the number of lines to scroll is set to zero, it defaults to scrolling up by one line. The maximum number of lines that can be scrolled is limited to the height of the scrollable region defined by the screen's upper and lower bounds. Additionally, if the background color is different from the current context, it updates the context's background color.
- **Inputs**:
    - `ctx`: A pointer to a `screen_write_ctx` structure that holds the context for screen writing. Must not be null.
    - `lines`: The number of lines to scroll up. Must be a non-negative integer. If set to zero, it defaults to one.
    - `bg`: The background color to use during the scroll operation. This value should be a valid color representation. If it differs from the current background color in the context, the context's background color will be updated.
- **Output**: None
- **See also**: [`screen_write_scrollup`](screen-write.c.driver.md#screen_write_scrollup)  (Implementation)


---
### screen_write_scrolldown<!-- {{#callable_declaration:screen_write_scrolldown}} -->
Scrolls the screen down by a specified number of lines.
- **Description**: This function is used to scroll the visible area of a screen down by a specified number of lines. It should be called when the screen is ready for updates, typically after initializing the screen context. If the number of lines to scroll is set to zero, it defaults to scrolling down by one line. The maximum number of lines that can be scrolled is limited to the height of the scrollable region defined by the screen's upper and lower bounds. Additionally, if the screen supports sixel images and there are images to be freed, it will mark the pane for redraw.
- **Inputs**:
    - `ctx`: A pointer to a `screen_write_ctx` structure that contains the context for screen writing. This must not be null and the caller retains ownership.
    - `lines`: An unsigned integer representing the number of lines to scroll down. It must be at least 1, and if it exceeds the scrollable region, it will be clamped to the maximum allowed.
    - `bg`: An unsigned integer representing the background color to use when scrolling. This value is used to fill the newly exposed area after scrolling.
- **Output**: The function does not return a value and does not mutate any inputs.
- **See also**: [`screen_write_scrolldown`](screen-write.c.driver.md#screen_write_scrolldown)  (Implementation)


---
### screen_write_carriagereturn<!-- {{#callable_declaration:screen_write_carriagereturn}} -->
Moves the cursor to the beginning of the current line.
- **Description**: This function is used to reposition the cursor to the start of the current line in the context of screen writing. It should be called when you want to reset the cursor's horizontal position without affecting its vertical position. The function assumes that the `ctx` parameter has been properly initialized and is valid. Calling this function with an uninitialized or null context may lead to undefined behavior.
- **Inputs**:
    - `ctx`: A pointer to a `struct screen_write_ctx` that represents the current screen writing context. This parameter must not be null and should be properly initialized before calling the function.
- **Output**: None
- **See also**: [`screen_write_carriagereturn`](screen-write.c.driver.md#screen_write_carriagereturn)  (Implementation)


---
### screen_write_clearendofscreen<!-- {{#callable_declaration:screen_write_clearendofscreen}} -->
Clears the screen from the cursor to the end.
- **Description**: This function is used to clear the screen from the current cursor position to the end of the screen, optionally filling the cleared area with a specified background color. It should be called when the screen is ready for output, and it may also scroll the current view into history if the entire screen is cleared and the appropriate options are set. The function handles edge cases such as whether the cursor is at the top-left corner of the screen and whether scrolling is enabled.
- **Inputs**:
    - `ctx`: A pointer to a `screen_write_ctx` structure that contains the context for screen writing. This must not be null.
    - `bg`: An unsigned integer representing the background color to fill the cleared area. Valid values depend on the color scheme in use.
- **Output**: None
- **See also**: [`screen_write_clearendofscreen`](screen-write.c.driver.md#screen_write_clearendofscreen)  (Implementation)


---
### screen_write_clearstartofscreen<!-- {{#callable_declaration:screen_write_clearstartofscreen}} -->
Clears the screen from the start.
- **Description**: This function is used to clear the screen from the current cursor position to the top of the screen, filling the cleared area with a specified background color. It should be called when the screen is ready for a new output, typically after initializing the screen context. The function handles edge cases where the cursor position is at the top or beyond the screen width, ensuring that the appropriate area is cleared without causing any errors.
- **Inputs**:
    - `ctx`: A pointer to a `screen_write_ctx` structure that holds the context for screen writing. This must not be null and should be properly initialized before calling the function.
    - `bg`: An unsigned integer representing the background color to fill the cleared area. Valid values depend on the color scheme used, and it is expected to be a valid color code.
- **Output**: None
- **See also**: [`screen_write_clearstartofscreen`](screen-write.c.driver.md#screen_write_clearstartofscreen)  (Implementation)


---
### screen_write_clearscreen<!-- {{#callable_declaration:screen_write_clearscreen}} -->
Clears the screen with a specified background color.
- **Description**: This function is used to clear the entire screen, optionally scrolling the content into history if the screen's grid is configured to do so. It should be called when you want to refresh the display, such as when starting a new session or after significant changes to the content. The background color for the clear operation is specified by the `bg` parameter. It is important to ensure that the `ctx` parameter is properly initialized before calling this function.
- **Inputs**:
    - `ctx`: A pointer to a `screen_write_ctx` structure that holds the context for screen writing. This must not be null and should be properly initialized before use.
    - `bg`: An unsigned integer representing the background color to use when clearing the screen. Valid values depend on the color configuration of the terminal.
- **Output**: None
- **See also**: [`screen_write_clearscreen`](screen-write.c.driver.md#screen_write_clearscreen)  (Implementation)


---
### screen_write_clearhistory<!-- {{#callable_declaration:screen_write_clearhistory}} -->
Clears the history of the screen.
- **Description**: This function is used to clear the history of the screen associated with the provided context. It should be called when you want to reset the screen's history, for example, when starting a new session or when the user explicitly requests to clear the history. The function assumes that the `screen_write_ctx` has been properly initialized and is valid. If the context is not valid, the behavior is undefined.
- **Inputs**:
    - `ctx`: A pointer to a `screen_write_ctx` structure that contains the context for screen writing. This pointer must not be null and should point to a valid context that has been initialized before calling this function.
- **Output**: None
- **See also**: [`screen_write_clearhistory`](screen-write.c.driver.md#screen_write_clearhistory)  (Implementation)


---
### screen_write_fullredraw<!-- {{#callable_declaration:screen_write_fullredraw}} -->
Performs a full redraw of the screen.
- **Description**: This function is intended to be called when a complete redraw of the screen is necessary, such as after significant changes to the display context. It initializes the drawing context and invokes a callback if one is set, allowing for custom redraw behavior. It is important to ensure that the `ctx` parameter is valid and properly initialized before calling this function.
- **Inputs**:
    - `ctx`: A pointer to a `struct screen_write_ctx` that holds the context for screen writing. This must not be null and should be properly initialized before calling the function.
- **Output**: None
- **See also**: [`screen_write_fullredraw`](screen-write.c.driver.md#screen_write_fullredraw)  (Implementation)


---
### screen_write_collect_end<!-- {{#callable_declaration:screen_write_collect_end}} -->
Ends the collection of screen write items.
- **Description**: This function is used to finalize the collection of screen write items in a given context. It should be called after screen write operations have been performed to ensure that all collected items are properly processed and displayed. The function handles the insertion of the current item into the appropriate position in the screen's write list, and it also manages the cursor position. It is important to note that this function should not be called if the `used` field of the current item is zero, as it indicates that there is nothing to write.
- **Inputs**:
    - `ctx`: A pointer to a `struct screen_write_ctx` that represents the current screen write context. This must not be null and should be properly initialized before calling the function.
- **Output**: None
- **See also**: [`screen_write_collect_end`](screen-write.c.driver.md#screen_write_collect_end)  (Implementation)


---
### screen_write_collect_add<!-- {{#callable_declaration:screen_write_collect_add}} -->
Adds a grid cell to the screen write context.
- **Description**: This function is used to add a grid cell to the current screen write context. It should be called when the screen is in a state where it can accept character input, typically after the screen has been initialized and is ready for drawing. The function will check various conditions, such as the width and size of the cell, whether the cell is a tab, and the current screen mode, to determine if the cell can be collected. If any of these conditions are not met, the function will end the current collection and flush the collected data before writing the cell directly to the screen.
- **Inputs**:
    - `ctx`: A pointer to a `screen_write_ctx` structure that represents the current screen write context. Must not be null.
    - `gc`: A pointer to a `grid_cell` structure that contains the cell data to be added. Must not be null.
- **Output**: None
- **See also**: [`screen_write_collect_add`](screen-write.c.driver.md#screen_write_collect_add)  (Implementation)


---
### screen_write_cell<!-- {{#callable_declaration:screen_write_cell}} -->
Writes a grid cell to the screen.
- **Description**: This function is used to write a specified grid cell to the screen at the current cursor position. It should be called when the screen is ready to display new content, typically after initializing the screen context. The function handles various conditions such as wrapping, inserting characters, and checking for padding cells. If the cell does not fit within the current line and wrapping is disabled, the function will ignore the write request. Additionally, it manages the selection state of the cell being written.
- **Inputs**:
    - `ctx`: A pointer to a `screen_write_ctx` structure that holds the context for screen writing. This must not be null and should be properly initialized before calling the function.
    - `gc`: A pointer to a `grid_cell` structure that contains the data to be written to the screen. This must not be null and should represent a valid cell with appropriate attributes and data.
- **Output**: The function does not return a value and does not mutate any inputs directly. It modifies the screen's state by writing the specified cell at the current cursor position.
- **See also**: [`screen_write_cell`](screen-write.c.driver.md#screen_write_cell)  (Implementation)


---
### screen_write_setselection<!-- {{#callable_declaration:screen_write_setselection}} -->
Sets the selection in the screen write context.
- **Description**: This function is used to set a selection in the screen write context, which is typically called when you want to define a text selection for further operations, such as copying or manipulating text. It should be invoked after initializing the screen write context and before any operations that depend on the selection. The function does not perform any validation on the input parameters, so it is the caller's responsibility to ensure that the `ctx`, `flags`, `str`, and `len` parameters are valid and properly initialized.
- **Inputs**:
    - `ctx`: A pointer to a `screen_write_ctx` structure that represents the current screen write context. Must not be null.
    - `flags`: A string representing the selection flags. This can be any valid string, but the function does not validate its content.
    - `str`: A pointer to a buffer containing the selection text. This buffer must be valid and should not be null.
    - `len`: An unsigned integer representing the length of the selection text. Must be greater than zero.
- **Output**: None
- **See also**: [`screen_write_setselection`](screen-write.c.driver.md#screen_write_setselection)  (Implementation)


---
### screen_write_rawstring<!-- {{#callable_declaration:screen_write_rawstring}} -->
Writes a raw string to the screen.
- **Description**: This function is used to write a raw string to the screen, allowing for control over how the string is displayed. It should be called when you want to output a specific string to the screen context defined by `ctx`. The `len` parameter specifies the length of the string to be written, and `allow_invisible_panes` determines whether the output can occur in panes that are not currently visible. It is important to ensure that `ctx` is properly initialized before calling this function.
- **Inputs**:
    - `ctx`: A pointer to a `screen_write_ctx` structure that defines the context for the screen write operation. Must not be null.
    - `str`: A pointer to a buffer containing the string to be written. Must not be null.
    - `len`: An unsigned integer representing the length of the string to be written. Must be greater than zero.
    - `allow_invisible_panes`: An integer flag that indicates whether writing is allowed in invisible panes. Valid values are typically 0 (false) or 1 (true).
- **Output**: None
- **See also**: [`screen_write_rawstring`](screen-write.c.driver.md#screen_write_rawstring)  (Implementation)


---
### screen_write_sixelimage<!-- {{#callable_declaration:screen_write_sixelimage}} -->
Writes a sixel image to the screen.
- **Description**: This function is used to render a sixel image onto the screen within a specified context. It should be called when you want to display a sixel image, and it will handle scaling if the image dimensions exceed the screen size. The function may modify the screen's scroll region if the image height exceeds the available space. It is important to ensure that the `ctx` and `si` parameters are valid and properly initialized before calling this function.
- **Inputs**:
    - `ctx`: A pointer to a `screen_write_ctx` structure that holds the context for screen writing. This must not be null and should be properly initialized.
    - `si`: A pointer to a `sixel_image` structure representing the image to be displayed. This must not be null and should contain valid image data.
    - `bg`: An unsigned integer representing the background color to use when rendering the image. This value should be within the valid range for color values.
- **Output**: The function does not return a value and does not mutate any of the input parameters.
- **See also**: [`screen_write_sixelimage`](screen-write.c.driver.md#screen_write_sixelimage)  (Implementation)


---
### screen_write_alternateon<!-- {{#callable_declaration:screen_write_alternateon}} -->
Enables the alternate screen mode.
- **Description**: This function should be called to switch to the alternate screen mode, which is typically used for applications that require a different screen buffer, such as text editors or full-screen applications. It is important to ensure that the `screen_write_ctx` has been properly initialized and that the associated `window_pane` has the alternate screen option enabled. If the alternate screen mode is not enabled for the pane, the function will return without making any changes. After enabling the alternate screen, it may trigger a redraw callback if one is set.
- **Inputs**:
    - `ctx`: A pointer to a `screen_write_ctx` structure that holds the context for screen writing. Must not be null.
    - `gc`: A pointer to a `grid_cell` structure that defines the cell attributes for the screen. Must not be null.
    - `cursor`: An integer representing the cursor position. Valid values depend on the context of the screen.
- **Output**: None
- **See also**: [`screen_write_alternateon`](screen-write.c.driver.md#screen_write_alternateon)  (Implementation)


---
### screen_write_alternateoff<!-- {{#callable_declaration:screen_write_alternateoff}} -->
Disables the alternate screen buffer.
- **Description**: This function should be called when you want to switch from an alternate screen buffer back to the normal screen buffer. It is typically used in terminal applications that support alternate screen buffers, such as text editors or terminal multiplexers. Before calling this function, ensure that the `screen_write_ctx` has been properly initialized and that the associated `window_pane` is configured to use the alternate screen. If the `window_pane` is not set to use the alternate screen, the function will return immediately without making any changes.
- **Inputs**:
    - `ctx`: A pointer to a `screen_write_ctx` structure that contains the context for screen writing. Must not be null.
    - `gc`: A pointer to a `grid_cell` structure that defines the cell attributes for the screen. Must not be null.
    - `cursor`: An integer representing the cursor position. Valid values depend on the context of the screen and should be within the bounds of the screen dimensions.
- **Output**: None
- **See also**: [`screen_write_alternateoff`](screen-write.c.driver.md#screen_write_alternateoff)  (Implementation)


---
### screen_redraw_screen<!-- {{#callable_declaration:screen_redraw_screen}} -->
Redraws the screen for a specified client.
- **Description**: This function is used to refresh the display of a client by redrawing its screen. It should be called when the client is not suspended and requires an update to its visual representation. The function checks the client's flags to determine what needs to be redrawn, including window borders, panes, and status lines. If the client has an overlay, it will also be redrawn if necessary. It is important to ensure that this function is called in the appropriate context where the client is active and visible.
- **Inputs**:
    - `c`: A pointer to a `struct client` representing the client whose screen is to be redrawn. This pointer must not be null. If the client is suspended (indicated by the CLIENT_SUSPENDED flag), the function will return immediately without performing any redraw operations.
- **Output**: None
- **See also**: [`screen_redraw_screen`](screen-redraw.c.driver.md#screen_redraw_screen)  (Implementation)


---
### screen_redraw_pane<!-- {{#callable_declaration:screen_redraw_pane}} -->
Redraws the specified pane on the screen.
- **Description**: This function is used to refresh the display of a specific pane within a window. It should be called when the pane's content needs to be updated, such as after changes to the pane's data or when the window is resized. The function checks if the pane is visible before attempting to redraw it. If the `redraw_scrollbar_only` parameter is set to a non-zero value, only the scrollbar will be redrawn, leaving the pane's content unchanged. It is important to ensure that the pane is visible; otherwise, the function will return without performing any actions.
- **Inputs**:
    - `c`: A pointer to the `client` structure representing the client associated with the pane. Must not be null.
    - `wp`: A pointer to the `window_pane` structure representing the pane to be redrawn. Must not be null.
    - `redraw_scrollbar_only`: An integer flag indicating whether to redraw only the scrollbar (non-zero) or the entire pane (zero). Valid values are 0 or 1.
- **Output**: None
- **See also**: [`screen_redraw_pane`](screen-redraw.c.driver.md#screen_redraw_pane)  (Implementation)


---
### screen_init<!-- {{#callable_declaration:screen_init}} -->
Initializes a screen structure.
- **Description**: This function is used to initialize a `screen` structure, setting up its grid and various properties such as title, cursor style, and mode. It should be called before using the screen for any drawing or display operations. The function allocates memory for the grid based on the specified dimensions and limits, and it sets default values for other screen attributes. It is important to ensure that the `screen` pointer passed to this function is valid and properly allocated before calling it.
- **Inputs**:
    - `s`: A pointer to a `screen` structure that will be initialized. Must not be null and should point to a valid memory location.
    - `sx`: The width of the screen grid in cells. Must be a positive integer.
    - `sy`: The height of the screen grid in cells. Must be a positive integer.
    - `hlimit`: The maximum number of history lines to keep. Must be a non-negative integer.
- **Output**: None
- **See also**: [`screen_init`](screen.c.driver.md#screen_init)  (Implementation)


---
### screen_reinit<!-- {{#callable_declaration:screen_reinit}} -->
Reinitializes the screen structure.
- **Description**: This function is intended to reset the state of a `screen` structure to its initial conditions. It should be called when the screen needs to be reinitialized, such as after a resize or when switching between different modes. The function clears the cursor position, resets the scroll region, and updates the screen modes. It also clears any existing selections and titles, and resets tab stops. It is important to ensure that the `screen` structure is properly allocated and initialized before calling this function.
- **Inputs**:
    - `s`: A pointer to a `screen` structure that must not be null. This structure should be properly initialized before calling the function. If the pointer is null, the behavior is undefined.
- **Output**: None
- **See also**: [`screen_reinit`](screen.c.driver.md#screen_reinit)  (Implementation)


---
### screen_free<!-- {{#callable_declaration:screen_free}} -->
Frees all resources associated with a `screen` structure.
- **Description**: This function should be called to release all memory and resources allocated for a `screen` structure when it is no longer needed. It is important to ensure that the `screen` structure has been properly initialized before calling this function. The function handles the deallocation of various components within the `screen`, including selections, tabs, paths, titles, and grids. If any of these components are not initialized or are already freed, the function will safely handle them without causing memory errors.
- **Inputs**:
    - `s`: A pointer to a `screen` structure that must not be null. The caller retains ownership of this pointer and is responsible for ensuring it is valid before calling this function.
- **Output**: None
- **See also**: [`screen_free`](screen.c.driver.md#screen_free)  (Implementation)


---
### screen_reset_tabs<!-- {{#callable_declaration:screen_reset_tabs}} -->
Resets the tab stops for a screen.
- **Description**: This function should be called when you need to reset the tab stops of a `screen` structure. It is typically used to reinitialize the tab settings after a screen has been created or modified. The function will free any previously allocated tab stops and allocate new memory for the tab stops based on the current screen width. It sets tab stops at every 8th column starting from the 8th column up to the width of the screen.
- **Inputs**:
    - `s`: A pointer to a `screen` structure. This parameter must not be null and should point to a valid screen object that has been initialized. If the pointer is null, the behavior is undefined.
- **Output**: None
- **See also**: [`screen_reset_tabs`](screen.c.driver.md#screen_reset_tabs)  (Implementation)


---
### screen_reset_hyperlinks<!-- {{#callable_declaration:screen_reset_hyperlinks}} -->
Resets the hyperlinks in the screen.
- **Description**: This function is used to reset the hyperlinks associated with a given screen. It should be called when you want to clear existing hyperlinks and initialize them anew. If the `hyperlinks` field of the provided `screen` structure is `NULL`, it will initialize a new set of hyperlinks; otherwise, it will reset the existing hyperlinks. Ensure that the `screen` structure is properly initialized before calling this function.
- **Inputs**:
    - `s`: A pointer to a `screen` structure. Must not be null. The function expects this structure to be initialized and valid. If `s->hyperlinks` is NULL, a new hyperlinks structure will be created; if it is not NULL, the existing hyperlinks will be reset.
- **Output**: None
- **See also**: [`screen_reset_hyperlinks`](screen.c.driver.md#screen_reset_hyperlinks)  (Implementation)


---
### screen_set_default_cursor<!-- {{#callable_declaration:screen_set_default_cursor}} -->
Sets the default cursor properties for a screen.
- **Description**: This function configures the default cursor color and style for a given screen based on the provided options. It should be called after initializing the screen and before any rendering occurs. The function retrieves the cursor color and style from the options structure, and if the values are invalid or not set, it may result in default values being applied. It is important to ensure that the options structure is properly populated with valid values before calling this function.
- **Inputs**:
    - `s`: A pointer to a `struct screen` that represents the screen to be configured. Must not be null.
    - `oo`: A pointer to a `struct options` that contains the cursor properties. Must not be null. The function expects this structure to have valid entries for 'cursor-colour' and 'cursor-style'.
- **Output**: None
- **See also**: [`screen_set_default_cursor`](screen.c.driver.md#screen_set_default_cursor)  (Implementation)


---
### screen_set_cursor_style<!-- {{#callable_declaration:screen_set_cursor_style}} -->
Sets the cursor style and mode.
- **Description**: This function is used to configure the appearance and behavior of the cursor in a terminal screen. It should be called when you want to change the cursor style based on user preferences or application requirements. The `style` parameter determines the cursor style, which can be a default, block, underline, or bar cursor. The `cstyle` pointer will be updated to reflect the selected cursor style, while the `mode` pointer will be modified to enable or disable blinking based on the selected style. It is important to ensure that the `cstyle` and `mode` pointers are valid and point to allocated memory before calling this function.
- **Inputs**:
    - `style`: An unsigned integer representing the desired cursor style. Valid values are 0 (default), 1 (block blinking), 2 (block steady), 3 (underline blinking), 4 (underline steady), 5 (bar blinking), and 6 (bar steady).
    - `cstyle`: A pointer to an `enum screen_cursor_style` that will be updated with the selected cursor style. Must not be null.
    - `mode`: A pointer to an integer that will be modified to set or unset the blinking mode based on the selected cursor style. Must not be null.
- **Output**: The function does not return a value. It modifies the values pointed to by `cstyle` and `mode` based on the provided `style`.
- **See also**: [`screen_set_cursor_style`](screen.c.driver.md#screen_set_cursor_style)  (Implementation)


---
### screen_set_cursor_colour<!-- {{#callable_declaration:screen_set_cursor_colour}} -->
Sets the cursor color for the specified screen.
- **Description**: This function is used to change the cursor color of a given screen. It should be called when the screen is properly initialized and ready for display updates. The color value provided will directly affect the appearance of the cursor on the screen. It is important to ensure that the `screen` pointer is valid and not null before calling this function.
- **Inputs**:
    - `s`: A pointer to a `struct screen` that represents the screen whose cursor color is to be set. Must not be null.
    - `colour`: An integer representing the desired cursor color. The valid range for this value depends on the color scheme being used, but it should generally correspond to a defined color value in the application.
- **Output**: None
- **See also**: [`screen_set_cursor_colour`](screen.c.driver.md#screen_set_cursor_colour)  (Implementation)


---
### screen_set_title<!-- {{#callable_declaration:screen_set_title}} -->
Sets the title of the screen.
- **Description**: This function is used to update the title of a `screen` structure. It should be called when you want to change the title displayed in the terminal. The `title` parameter must be a valid UTF-8 string; otherwise, the function will return 0 without making any changes. If the title is valid, the previous title is freed, and the new title is duplicated and assigned to the `screen` structure.
- **Inputs**:
    - `s`: A pointer to a `screen` structure. Must not be null. The function modifies the title field of this structure.
    - `title`: A pointer to a null-terminated UTF-8 string representing the new title. Must not be null. If the string is not valid UTF-8, the function will return 0.
- **Output**: Returns 1 if the title was successfully set, or 0 if the provided title was invalid.
- **See also**: [`screen_set_title`](screen.c.driver.md#screen_set_title)  (Implementation)


---
### screen_set_path<!-- {{#callable_declaration:screen_set_path}} -->
Sets the path for a screen.
- **Description**: This function is used to update the `path` attribute of a `screen` structure. It should be called when you need to change the path associated with a screen, typically after the screen has been initialized. The previous path is freed before the new path is set, ensuring that there are no memory leaks. It is important to ensure that the `screen` pointer is valid and properly initialized before calling this function.
- **Inputs**:
    - `s`: A pointer to a `screen` structure. Must not be null and should be properly initialized.
    - `path`: A string representing the new path to set. This string can be null, in which case the `path` will be set to null. If it is not null, it should be a valid UTF-8 string.
- **Output**: None
- **See also**: [`screen_set_path`](screen.c.driver.md#screen_set_path)  (Implementation)


---
### screen_push_title<!-- {{#callable_declaration:screen_push_title}} -->
Pushes the current title onto the screen's title stack.
- **Description**: This function is used to add the current title of a `screen` to its stack of titles. It should be called when you want to save the current title for later retrieval, such as when changing contexts or navigating through different screens. The function initializes the title stack if it is not already created, ensuring that the titles can be managed properly. It is important to ensure that the `screen` structure is properly initialized before calling this function.
- **Inputs**:
    - `s`: A pointer to a `screen` structure that holds the current title and the title stack. This pointer must not be null and should point to a valid `screen` instance.
- **Output**: None
- **See also**: [`screen_push_title`](screen.c.driver.md#screen_push_title)  (Implementation)


---
### screen_pop_title<!-- {{#callable_declaration:screen_pop_title}} -->
Removes the top title from the screen.
- **Description**: This function is used to pop the most recent title from the stack of titles associated with a `screen` structure. It should be called when there is at least one title in the stack; otherwise, it will simply return without making any changes. After calling this function, the screen will display the next title in the stack, if available. It is important to ensure that the `screen` structure has been properly initialized before invoking this function.
- **Inputs**:
    - `s`: A pointer to a `screen` structure. This parameter must not be null and should point to a valid screen that has been initialized. If the `titles` field of the `screen` is null, the function will return immediately without any action.
- **Output**: None
- **See also**: [`screen_pop_title`](screen.c.driver.md#screen_pop_title)  (Implementation)


---
### screen_resize<!-- {{#callable_declaration:screen_resize}} -->
Resizes the screen.
- **Description**: This function is used to change the dimensions of a screen represented by a `struct screen`. It should be called when the screen needs to be resized, such as when the terminal window is resized. The function takes the new width and height as parameters, and it also accepts a flag to indicate whether to reflow the content. It is important to ensure that the `struct screen` pointer passed to the function is valid and properly initialized before calling this function.
- **Inputs**:
    - `s`: A pointer to a `struct screen` that represents the screen to be resized. Must not be null and should be properly initialized.
    - `sx`: An unsigned integer representing the new width of the screen. Must be greater than or equal to 1.
    - `sy`: An unsigned integer representing the new height of the screen. Must be greater than or equal to 1.
    - `reflow`: An integer flag indicating whether to reflow the content after resizing. Valid values are typically 0 (no reflow) or 1 (reflow).
- **Output**: None
- **See also**: [`screen_resize`](screen.c.driver.md#screen_resize)  (Implementation)


---
### screen_resize_cursor<!-- {{#callable_declaration:screen_resize_cursor}} -->
Resizes the screen and adjusts the cursor position.
- **Description**: This function should be called to resize the screen to the specified dimensions, adjusting the cursor position accordingly. It is important to ensure that the new dimensions are valid, with both width and height being at least 1. The function also handles reflowing the screen content if specified, and it can optionally clear empty lines based on the `eat_empty` parameter. The cursor position is updated based on the new size, and if the new height exceeds the grid's height, the cursor is reset to the top left.
- **Inputs**:
    - `s`: A pointer to a `struct screen` that represents the screen to be resized. Must not be null.
    - `sx`: The new width of the screen in columns. Must be at least 1.
    - `sy`: The new height of the screen in rows. Must be at least 1.
    - `reflow`: An integer flag indicating whether to reflow the screen content. A non-zero value indicates reflow should occur.
    - `eat_empty`: An integer flag that determines whether to clear empty lines. A non-zero value indicates that empty lines should be cleared.
    - `cursor`: An integer representing the cursor style. The valid range depends on the implementation.
- **Output**: None
- **See also**: [`screen_resize_cursor`](screen.c.driver.md#screen_resize_cursor)  (Implementation)


---
### screen_set_selection<!-- {{#callable_declaration:screen_set_selection}} -->
Sets the selection area on the screen.
- **Description**: This function is used to define a selection area on the screen, which is specified by the start and end coordinates. It should be called when you want to highlight a specific rectangular area of the screen for operations such as copying or modifying text. The selection is defined by the starting coordinates (`sx`, `sy`) and the ending coordinates (`ex`, `ey`). The `rectangle` parameter indicates whether the selection is rectangular or not, while `modekeys` specifies the key mode to be used. The `gc` parameter is a pointer to a `grid_cell` structure that defines the attributes of the selected area. It is important to ensure that the `screen` structure is properly initialized before calling this function.
- **Inputs**:
    - `s`: A pointer to the `screen` structure representing the screen on which the selection is to be set. Must not be null.
    - `sx`: The starting x-coordinate of the selection. Must be within the screen's width.
    - `sy`: The starting y-coordinate of the selection. Must be within the screen's height.
    - `ex`: The ending x-coordinate of the selection. Must be within the screen's width.
    - `ey`: The ending y-coordinate of the selection. Must be within the screen's height.
    - `rectangle`: An integer indicating whether the selection is rectangular (non-zero) or not (zero).
    - `modekeys`: An integer representing the key mode to be used. Valid values are defined by the mode key constants.
    - `gc`: A pointer to a `grid_cell` structure that defines the attributes of the selection. Must not be null.
- **Output**: None
- **See also**: [`screen_set_selection`](screen.c.driver.md#screen_set_selection)  (Implementation)


---
### screen_clear_selection<!-- {{#callable_declaration:screen_clear_selection}} -->
Clears the current selection on the screen.
- **Description**: This function is used to clear any active selection on the specified `screen`. It should be called when the selection is no longer needed, such as after the user has completed an operation that involved the selection. The function sets the selection pointer to `NULL`, effectively releasing any memory associated with the selection. It is important to ensure that the `screen` structure is properly initialized before calling this function.
- **Inputs**:
    - `s`: A pointer to a `screen` structure representing the screen from which the selection will be cleared. This pointer must not be null, and the `screen` must be properly initialized. If the pointer is null, the behavior is undefined.
- **Output**: None
- **See also**: [`screen_clear_selection`](screen.c.driver.md#screen_clear_selection)  (Implementation)


---
### screen_hide_selection<!-- {{#callable_declaration:screen_hide_selection}} -->
Hides the current selection on the screen.
- **Description**: This function is used to hide the currently selected area on the screen. It should be called when there is a need to remove the visual indication of a selection, such as before redrawing the screen or when the selection is no longer relevant. The function checks if there is an active selection; if so, it marks it as hidden. It is important to ensure that the `screen` structure has been properly initialized and that a selection exists before calling this function.
- **Inputs**:
    - `s`: A pointer to a `struct screen` that represents the current screen context. This pointer must not be null, and the `screen` structure should be properly initialized. If the `screen` does not have an active selection, the function will simply do nothing.
- **Output**: None
- **See also**: [`screen_hide_selection`](screen.c.driver.md#screen_hide_selection)  (Implementation)


---
### screen_check_selection<!-- {{#callable_declaration:screen_check_selection}} -->
Checks if a point is within the current selection.
- **Description**: This function is used to determine if a specified point, defined by its pixel coordinates (`px`, `py`), falls within the currently active selection on a `screen`. It should be called when there is a need to verify if a mouse click or cursor position is within the selected area. The function will return 1 if the point is within the selection and 0 otherwise. It is important to note that the selection must be visible and not hidden for the function to return a meaningful result.
- **Inputs**:
    - `s`: A pointer to a `screen` structure representing the current screen context. Must not be null.
    - `px`: An unsigned integer representing the x-coordinate in pixels. Valid values depend on the screen width.
    - `py`: An unsigned integer representing the y-coordinate in pixels. Valid values depend on the screen height.
- **Output**: Returns 1 if the point is within the selection, otherwise returns 0.
- **See also**: [`screen_check_selection`](screen.c.driver.md#screen_check_selection)  (Implementation)


---
### screen_select_cell<!-- {{#callable_declaration:screen_select_cell}} -->
Selects a cell in the screen.
- **Description**: This function is used to select a specific cell in a virtual screen, allowing for the manipulation of its attributes. It should be called when the screen is properly initialized and when a selection is active. If the selection is hidden or not set, the function will return immediately without making any changes. The selected cell's foreground and background colors will be updated based on the source cell if they are set to default values.
- **Inputs**:
    - `s`: A pointer to a `struct screen` representing the virtual screen. Must not be null.
    - `dst`: A pointer to a `struct grid_cell` where the selected cell's attributes will be copied. Must not be null.
    - `src`: A pointer to a `const struct grid_cell` that serves as the source for attributes. Must not be null.
- **Output**: None
- **See also**: [`screen_select_cell`](screen.c.driver.md#screen_select_cell)  (Implementation)


---
### screen_alternate_on<!-- {{#callable_declaration:screen_alternate_on}} -->
Enables the alternate screen buffer.
- **Description**: This function is used to switch to an alternate screen buffer, which is typically used for applications that require a different screen layout or state. It must be called when the screen is not already in alternate mode. The function creates a new grid for the alternate screen and saves the current screen state, including the cursor position and cell attributes. If the `cursor` parameter is set, it also saves the current cursor position. This function is particularly useful in terminal applications that need to provide a full-screen interface without affecting the main screen's content.
- **Inputs**:
    - `s`: A pointer to a `struct screen` representing the current screen. Must not be null.
    - `gc`: A pointer to a `struct grid_cell` that defines the attributes of the grid cell to be used in the alternate screen. Must not be null.
    - `cursor`: An integer indicating whether to save the current cursor position (non-zero value) or not (zero value). Valid values are 0 or 1.
- **Output**: None
- **See also**: [`screen_alternate_on`](screen.c.driver.md#screen_alternate_on)  (Implementation)


---
### screen_alternate_off<!-- {{#callable_declaration:screen_alternate_off}} -->
Restores the main screen from the alternate screen.
- **Description**: This function is used to switch from an alternate screen back to the main screen, restoring the cursor position and the grid cell if specified. It should be called when the alternate screen is no longer needed, typically after completing tasks that require the alternate screen. The function ensures that the cursor position is valid and adjusts it if necessary. If the alternate screen is not active, the function will simply adjust the cursor position to fit within the main screen's dimensions.
- **Inputs**:
    - `s`: A pointer to a `struct screen` representing the current screen context. Must not be null.
    - `gc`: A pointer to a `struct grid_cell` where the saved cell data will be copied. Can be null, in which case no data is copied.
    - `cursor`: An integer flag indicating whether to restore the cursor position (non-zero) or not (zero). Valid values are 0 or 1.
- **Output**: None
- **See also**: [`screen_alternate_off`](screen.c.driver.md#screen_alternate_off)  (Implementation)


---
### screen_mode_to_string<!-- {{#callable_declaration:screen_mode_to_string}} -->
Converts a screen mode integer to its string representation.
- **Description**: This function is used to obtain a human-readable string that describes the screen modes represented by the provided integer. It should be called with a valid mode integer, which can be a combination of predefined mode constants. The function handles special cases for specific modes, returning predefined strings for 'NONE' and 'ALL'. If the mode includes multiple flags, the resulting string will list all applicable modes, separated by commas. The caller should ensure that the mode integer is valid, as invalid values may lead to unexpected results.
- **Inputs**:
    - `mode`: An integer representing the screen mode. Valid values include specific mode constants defined in the header file. The function does not validate the input; therefore, passing an invalid mode may result in an unexpected string output.
- **Output**: Returns a pointer to a string that describes the screen mode(s). The returned string is statically allocated and may be overwritten by subsequent calls to this function.
- **See also**: [`screen_mode_to_string`](screen.c.driver.md#screen_mode_to_string)  (Implementation)


---
### window_cmp<!-- {{#callable_declaration:window_cmp}} -->
Compares two window structures.
- **Description**: This function is used to compare two `window` structures based on their `id` field. It is typically called when sorting or ordering windows, allowing the caller to determine the relative order of two windows. The function should be used when both `window` pointers are valid and non-null. If either pointer is null, the behavior is undefined.
- **Inputs**:
    - `w1`: A pointer to the first `window` structure to compare. Must not be null.
    - `w2`: A pointer to the second `window` structure to compare. Must not be null.
- **Output**: Returns an integer value that indicates the comparison result: a negative value if `w1` is less than `w2`, zero if they are equal, and a positive value if `w1` is greater than `w2`.
- **See also**: [`window_cmp`](window.c.driver.md#window_cmp)  (Implementation)


---
### winlink_cmp<!-- {{#callable_declaration:winlink_cmp}} -->
Compares two winlink structures.
- **Description**: This function is used to compare two `winlink` structures based on their index values. It is typically called when sorting or ordering winlinks, allowing for a consistent comparison based on their indices. The function should be used when both `winlink` pointers are valid and non-null, as it assumes that the indices are properly initialized.
- **Inputs**:
    - `wl1`: A pointer to the first `winlink` structure to compare. Must not be null.
    - `wl2`: A pointer to the second `winlink` structure to compare. Must not be null.
- **Output**: Returns an integer that is negative if `wl1` is less than `wl2`, positive if `wl1` is greater than `wl2`, and zero if they are equal.
- **See also**: [`winlink_cmp`](window.c.driver.md#winlink_cmp)  (Implementation)


---
### window_pane_cmp<!-- {{#callable_declaration:window_pane_cmp}} -->
Compares two window panes based on their IDs.
- **Description**: This function is used to compare two `window_pane` structures to determine their relative order based on their unique identifiers. It is typically called when sorting or organizing panes. Both `window_pane` pointers must be valid and non-null; otherwise, the behavior is undefined.
- **Inputs**:
    - `wp1`: A pointer to the first `window_pane` structure. Must not be null.
    - `wp2`: A pointer to the second `window_pane` structure. Must not be null.
- **Output**: Returns a negative integer if `wp1` is less than `wp2`, zero if they are equal, and a positive integer if `wp1` is greater than `wp2` based on their IDs.
- **See also**: [`window_pane_cmp`](window.c.driver.md#window_pane_cmp)  (Implementation)


---
### winlink_find_by_index<!-- {{#callable_declaration:winlink_find_by_index}} -->
Finds a `winlink` by its index.
- **Description**: This function is used to retrieve a `winlink` structure from a `winlinks` collection based on a specified index. It is important to ensure that the index provided is non-negative, as negative indices are considered invalid and will trigger an error. The function should be called when you need to access a specific window link by its index, and it will return a pointer to the corresponding `winlink` if found, or `NULL` if no such link exists.
- **Inputs**:
    - `wwl`: A pointer to a `winlinks` structure that contains the collection of `winlink` entries. This parameter must not be null.
    - `idx`: An integer representing the index of the `winlink` to find. It must be a non-negative integer; passing a negative value will result in an error.
- **Output**: Returns a pointer to the `winlink` structure corresponding to the specified index, or `NULL` if no such `winlink` exists.
- **See also**: [`winlink_find_by_index`](window.c.driver.md#winlink_find_by_index)  (Implementation)


---
### winlink_find_by_window<!-- {{#callable_declaration:winlink_find_by_window}} -->
Finds a `winlink` by its associated `window`.
- **Description**: This function is used to retrieve a `winlink` structure that corresponds to a specific `window`. It should be called when you need to access the `winlink` associated with a given `window` in a `winlinks` collection. The function iterates through the `winlinks` and returns the first match it finds. If no matching `winlink` is found, it returns `NULL`. It is important to ensure that the `winlinks` structure is properly initialized before calling this function.
- **Inputs**:
    - `wwl`: A pointer to a `winlinks` structure that contains the collection of `winlink` entries. Must not be null.
    - `w`: A pointer to the `window` structure that you want to find in the `winlinks`. Must not be null.
- **Output**: Returns a pointer to the corresponding `winlink` if found; otherwise, returns `NULL`.
- **See also**: [`winlink_find_by_window`](window.c.driver.md#winlink_find_by_window)  (Implementation)


---
### winlink_find_by_window_id<!-- {{#callable_declaration:winlink_find_by_window_id}} -->
Finds a `winlink` by its associated window ID.
- **Description**: This function is used to retrieve a `winlink` structure from a collection of `winlinks` based on a specified window ID. It should be called when you need to access a specific `winlink` that corresponds to a window identified by its unique ID. The function iterates through the list of `winlinks` and returns the first match it finds. If no matching `winlink` is found, it returns `NULL`. It is important to ensure that the `winlinks` structure is properly initialized before calling this function.
- **Inputs**:
    - `wwl`: A pointer to a `winlinks` structure that contains the list of `winlink` entries. This parameter must not be null and should point to a valid `winlinks` instance.
    - `id`: An unsigned integer representing the ID of the window to search for. This value should be a valid window ID that has been previously assigned.
- **Output**: Returns a pointer to the `winlink` structure associated with the specified window ID if found; otherwise, it returns `NULL`.
- **See also**: [`winlink_find_by_window_id`](window.c.driver.md#winlink_find_by_window_id)  (Implementation)


---
### winlink_count<!-- {{#callable_declaration:winlink_count}} -->
Counts the number of `winlink` entries in a `winlinks` structure.
- **Description**: This function is used to determine the total number of `winlink` entries within a given `winlinks` structure. It is typically called when you need to know how many windows are currently linked in a session. The function does not modify the `winlinks` structure and can be called at any time after the `winlinks` structure has been initialized.
- **Inputs**:
    - `wwl`: A pointer to a `winlinks` structure. This parameter must not be null and should point to a valid `winlinks` instance. If the pointer is null, the behavior of the function is undefined.
- **Output**: Returns an unsigned integer representing the count of `winlink` entries in the provided `winlinks` structure.
- **See also**: [`winlink_count`](window.c.driver.md#winlink_count)  (Implementation)


---
### winlink_add<!-- {{#callable_declaration:winlink_add}} -->
Adds a new `winlink` to the specified `winlinks` structure.
- **Description**: This function is used to add a new `winlink` to a `winlinks` structure at a specified index. It can be called to create a new link to a window, which is essential for managing multiple windows in a session. The `idx` parameter determines the position of the new `winlink`. If `idx` is negative, the function will attempt to find the next available index based on the current state of the `winlinks`. If the specified index is already occupied, the function will return `NULL`. It is important to ensure that the `winlinks` structure is properly initialized before calling this function.
- **Inputs**:
    - `wwl`: A pointer to the `winlinks` structure where the new `winlink` will be added. Must not be null.
    - `idx`: An integer representing the index at which to add the new `winlink`. Valid values are any integer, but if the index is negative, it will be treated as a request to find the next available index. If the index is already in use, the function will return `NULL`.
- **Output**: Returns a pointer to the newly created `winlink` if successful, or `NULL` if the addition fails due to an invalid index or if the index is already occupied.
- **See also**: [`winlink_add`](window.c.driver.md#winlink_add)  (Implementation)


---
### winlink_set_window<!-- {{#callable_declaration:winlink_set_window}} -->
Sets the window for a winlink.
- **Description**: This function is used to associate a `winlink` with a new `window`. It should be called when you want to change the window that a winlink points to. Before setting the new window, it will remove the winlink from its current window if it is already associated with one. This function should be used with valid `winlink` and `window` pointers; passing null pointers may lead to undefined behavior.
- **Inputs**:
    - `wl`: A pointer to the `winlink` structure that is being updated. Must not be null.
    - `w`: A pointer to the `window` structure to which the winlink will be associated. Must not be null.
- **Output**: None
- **See also**: [`winlink_set_window`](window.c.driver.md#winlink_set_window)  (Implementation)


---
### winlink_remove<!-- {{#callable_declaration:winlink_remove}} -->
Removes a winlink from the winlink list.
- **Description**: This function is used to remove a `winlink` from a `winlinks` structure. It should be called when a `winlink` is no longer needed, typically to clean up resources and maintain the integrity of the winlink list. The function expects that the `winlink` to be removed is valid and part of the `winlinks` structure. If the `window` associated with the `winlink` is not null, it will also remove the reference to that window. After the removal, the memory allocated for the `winlink` is freed. It is important to ensure that the `winlink` is not null before calling this function.
- **Inputs**:
    - `wwl`: A pointer to the `winlinks` structure from which the `winlink` will be removed. Must not be null.
    - `wl`: A pointer to the `winlink` to be removed. Must not be null and must be part of the `winlinks` structure.
- **Output**: Returns nothing and does not mutate any inputs.
- **See also**: [`winlink_remove`](window.c.driver.md#winlink_remove)  (Implementation)


---
### winlink_next<!-- {{#callable_declaration:winlink_next}} -->
Returns the next `winlink` in the list.
- **Description**: This function is used to retrieve the next `winlink` in a linked list of `winlink` structures. It should be called with a valid pointer to a `winlink` structure that is part of a list. If the provided `winlink` is the last in the list, the function will return `NULL`. It is important to ensure that the input pointer is not `NULL` and points to a valid `winlink` structure; otherwise, the behavior is undefined.
- **Inputs**:
    - `wl`: A pointer to a `winlink` structure. This pointer must not be null and must point to a valid `winlink` that is part of a linked list. If the pointer is invalid or points to a `winlink` that is not in the list, the behavior is undefined.
- **Output**: Returns a pointer to the next `winlink` in the list, or `NULL` if the provided `winlink` is the last one.
- **See also**: [`winlink_next`](window.c.driver.md#winlink_next)  (Implementation)


---
### winlink_previous<!-- {{#callable_declaration:winlink_previous}} -->
Returns the previous `winlink` in the list.
- **Description**: This function is used to retrieve the `winlink` that precedes the specified `winlink` in a linked list of `winlink` structures. It is typically called when navigating through a list of windows in a session. The input `wl` must be a valid pointer to an existing `winlink`. If `wl` is the first `winlink` in the list, the function will return `NULL`, indicating that there is no previous `winlink`.
- **Inputs**:
    - `wl`: A pointer to a `winlink` structure. This parameter must not be NULL and must point to a valid `winlink` that is part of a linked list. If the provided `wl` is the first element in the list, the function will return NULL.
- **Output**: Returns a pointer to the previous `winlink` in the list, or NULL if there is no previous `winlink`.
- **See also**: [`winlink_previous`](window.c.driver.md#winlink_previous)  (Implementation)


---
### winlink_next_by_number<!-- {{#callable_declaration:winlink_next_by_number}} -->
Retrieves the next `winlink` by its number.
- **Description**: This function is used to navigate through the `winlink` list associated with a specific `session`. It allows the caller to retrieve the next `winlink` based on a given number, which indicates how many `winlinks` to skip. The function should be called with a valid `winlink` pointer and a `session` pointer. If the specified number exceeds the available `winlinks`, the function wraps around and continues from the beginning of the list.
- **Inputs**:
    - `wl`: A pointer to a `winlink` structure. Must not be null. This is the starting point for the search.
    - `s`: A pointer to a `session` structure. Must not be null. This represents the session containing the `winlinks`.
    - `n`: An integer representing the number of `winlinks` to skip. Must be a non-negative integer.
- **Output**: Returns a pointer to the next `winlink` in the list. If the end of the list is reached, it wraps around to the beginning. If there are no `winlinks`, it returns NULL.
- **See also**: [`winlink_next_by_number`](window.c.driver.md#winlink_next_by_number)  (Implementation)


---
### winlink_previous_by_number<!-- {{#callable_declaration:winlink_previous_by_number}} -->
Retrieves the previous `winlink` by its number.
- **Description**: This function is used to navigate through the `winlink` list associated with a given `session`. It allows the caller to retrieve the `winlink` that is positioned a specified number of places before the current `winlink`. It is important to ensure that the `winlink` and `session` pointers are valid and not null before calling this function. If the specified number exceeds the available `winlink` entries, the function will wrap around and return the last `winlink` in the list.
- **Inputs**:
    - `wl`: A pointer to the current `winlink`. Must not be null.
    - `s`: A pointer to the `session` associated with the `winlink`. Must not be null.
    - `n`: An integer representing the number of `winlink` entries to move back. Must be a non-negative integer.
- **Output**: Returns a pointer to the previous `winlink` based on the specified number. If the end of the list is reached, it returns the last `winlink`.
- **See also**: [`winlink_previous_by_number`](window.c.driver.md#winlink_previous_by_number)  (Implementation)


---
### winlink_stack_push<!-- {{#callable_declaration:winlink_stack_push}} -->
Pushes a `winlink` onto the top of a `winlink_stack`.
- **Description**: This function is used to add a `winlink` to the top of a `winlink_stack`. It is important to ensure that the `winlink` being pushed is not `NULL`, as this will result in no action being taken. If the `winlink` is already present in the stack, it will be removed before being added to the top. This function modifies the `flags` of the `winlink` to indicate that it has been visited.
- **Inputs**:
    - `stack`: A pointer to the `winlink_stack` structure where the `winlink` will be pushed. Must not be null.
    - `wl`: A pointer to the `winlink` structure to be pushed onto the stack. Must not be null; if it is null, the function will return without making any changes.
- **Output**: None
- **See also**: [`winlink_stack_push`](window.c.driver.md#winlink_stack_push)  (Implementation)


---
### winlink_stack_remove<!-- {{#callable_declaration:winlink_stack_remove}} -->
Removes a visited winlink from the stack.
- **Description**: This function is used to remove a `winlink` from a `winlink_stack` if the `winlink` has been marked as visited. It should be called when you want to clean up or manage the state of the winlink stack, particularly after processing or when the winlink is no longer needed. The function does not perform any action if the provided `winlink` is NULL or if it has not been visited, ensuring that only valid and relevant entries are modified.
- **Inputs**:
    - `stack`: A pointer to the `winlink_stack` from which the `winlink` should be removed. Must not be NULL.
    - `wl`: A pointer to the `winlink` to be removed. This pointer can be NULL, in which case the function will do nothing. If the `winlink` is not marked as visited, it will also not be removed.
- **Output**: The function returns nothing (void) and does not mutate any inputs unless the `winlink` is successfully removed from the stack.
- **See also**: [`winlink_stack_remove`](window.c.driver.md#winlink_stack_remove)  (Implementation)


---
### window_find_by_id_str<!-- {{#callable_declaration:window_find_by_id_str}} -->
Finds a window by its ID string.
- **Description**: This function is used to locate a `window` structure based on a string representation of its ID. The input string must start with the '@' character, followed by a numeric value representing the window ID. If the string does not start with '@' or if the numeric value is invalid, the function will return `NULL`. It is important to ensure that the input string is properly formatted to avoid unexpected results.
- **Inputs**:
    - `s`: A pointer to a null-terminated string representing the window ID. The string must start with '@' followed by a numeric value. If the string does not meet this format, the function will return `NULL`. The caller retains ownership of the string.
- **Output**: Returns a pointer to the `window` structure corresponding to the given ID if found; otherwise, returns `NULL`.
- **See also**: [`window_find_by_id_str`](window.c.driver.md#window_find_by_id_str)  (Implementation)


---
### window_find_by_id<!-- {{#callable_declaration:window_find_by_id}} -->
Finds a window by its ID.
- **Description**: This function is used to retrieve a pointer to a `window` structure based on its unique identifier. It should be called when you need to access a specific window in the system, identified by its ID. The function will return a pointer to the corresponding `window` if it exists; otherwise, it will return `NULL`. It is important to ensure that the ID provided is valid and corresponds to an existing window, as passing an invalid ID will not yield a valid result.
- **Inputs**:
    - `id`: The unique identifier of the window to find. It must be a non-negative integer that corresponds to an existing window. If the ID does not match any window, the function will return NULL.
- **Output**: Returns a pointer to the `window` structure if found; otherwise, returns NULL.
- **See also**: [`window_find_by_id`](window.c.driver.md#window_find_by_id)  (Implementation)


---
### window_update_activity<!-- {{#callable_declaration:window_update_activity}} -->
Updates the activity timestamp of a window.
- **Description**: This function should be called to refresh the activity timestamp of a `window` structure, indicating that the window has been interacted with. It is typically used in response to user actions or events that signify activity within the window. The function updates the `activity_time` field of the `window` structure with the current time, and it may trigger alerts related to window activity. Ensure that the `window` pointer passed to this function is valid and points to an initialized `window` structure.
- **Inputs**:
    - `w`: A pointer to a `window` structure that represents the window whose activity timestamp is to be updated. This pointer must not be null and should point to a valid, initialized `window` instance.
- **Output**: None
- **See also**: [`window_update_activity`](window.c.driver.md#window_update_activity)  (Implementation)


---
### window_create<!-- {{#callable_declaration:window_create}} -->
Creates a new window.
- **Description**: This function is used to create a new window with specified dimensions and pixel sizes. It should be called when a new window is needed in the application. The `sx` and `sy` parameters define the size of the window in character cells, while `xpixel` and `ypixel` define the size of each cell in pixels. If either `xpixel` or `ypixel` is set to zero, default values will be used. The function initializes various properties of the window and prepares it for use. It is important to ensure that the provided sizes are within acceptable limits, as the function may not handle out-of-bounds values gracefully.
- **Inputs**:
    - `sx`: The width of the window in character cells. Must be greater than or equal to 1.
    - `sy`: The height of the window in character cells. Must be greater than or equal to 1.
    - `xpixel`: The width of each cell in pixels. If set to 0, a default value will be used. Must be a positive integer.
    - `ypixel`: The height of each cell in pixels. If set to 0, a default value will be used. Must be a positive integer.
- **Output**: Returns a pointer to the newly created `window` structure. If the creation fails, it may return a null pointer.
- **See also**: [`window_create`](window.c.driver.md#window_create)  (Implementation)


---
### window_pane_set_event<!-- {{#callable_declaration:window_pane_set_event}} -->
Sets up event handling for a window pane.
- **Description**: This function is used to initialize event handling for a `window_pane` structure. It must be called after the `window_pane` has been created and its file descriptor is valid. The function sets the file descriptor to non-blocking mode, creates a new buffer event for the pane, and initializes the input context. If memory allocation for the buffer event fails, the function will terminate the program with an error message. It also enables reading and writing on the buffer event, allowing the pane to handle input and output.
- **Inputs**:
    - `wp`: A pointer to a `window_pane` structure. This must not be null and should point to a valid `window_pane` that has been properly initialized.
- **Output**: None
- **See also**: [`window_pane_set_event`](window.c.driver.md#window_pane_set_event)  (Implementation)


---
### window_get_active_at<!-- {{#callable_declaration:window_get_active_at}} -->
Retrieves the active pane at the specified coordinates.
- **Description**: This function is used to obtain the currently active `window_pane` at a specific (x, y) coordinate within a given `window`. It should be called when you need to interact with the pane that is visually located at those coordinates. The function checks for visible panes only, and if the coordinates do not correspond to any visible pane, it will return `NULL`. It is important to ensure that the `window` pointer passed to the function is valid and properly initialized.
- **Inputs**:
    - `w`: A pointer to the `window` structure. Must not be null and should point to a valid window.
    - `x`: The x-coordinate to check for an active pane. Must be within the bounds of the window's width.
    - `y`: The y-coordinate to check for an active pane. Must be within the bounds of the window's height.
- **Output**: Returns a pointer to the active `window_pane` if found at the specified coordinates; otherwise, returns `NULL`.
- **See also**: [`window_get_active_at`](window.c.driver.md#window_get_active_at)  (Implementation)


---
### window_find_string<!-- {{#callable_declaration:window_find_string}} -->
Finds a window pane based on a specified string.
- **Description**: This function is used to locate a specific `window_pane` within a `window` by providing a string that represents a position. The string can be one of several predefined values such as 'top', 'bottom', 'left', 'right', 'top-left', 'top-right', 'bottom-left', or 'bottom-right'. It is important to ensure that the `window` has been properly initialized before calling this function. If the provided string does not match any of the expected values, the function will return `NULL`, indicating that no pane was found at the specified position.
- **Inputs**:
    - `w`: A pointer to the `window` structure. Must not be null and should be properly initialized.
    - `s`: A pointer to a null-terminated string representing the desired position of the pane. Valid values include 'top', 'bottom', 'left', 'right', 'top-left', 'top-right', 'bottom-left', and 'bottom-right'. Must not be null.
- **Output**: Returns a pointer to the `window_pane` located at the specified position if found; otherwise, returns `NULL`.
- **See also**: [`window_find_string`](window.c.driver.md#window_find_string)  (Implementation)


---
### window_has_pane<!-- {{#callable_declaration:window_has_pane}} -->
Checks if a specific pane exists in a window.
- **Description**: This function is used to determine if a given `window_pane` is part of a specified `window`. It should be called when you need to verify the presence of a pane within a window, such as before performing operations that require the pane to be part of that window. The function does not modify any input parameters and is safe to call with valid pointers to `window` and `window_pane` structures.
- **Inputs**:
    - `w`: A pointer to a `window` structure. Must not be null.
    - `wp`: A pointer to a `window_pane` structure. Must not be null.
- **Output**: Returns 1 if the specified pane is found within the window, otherwise returns 0.
- **See also**: [`window_has_pane`](window.c.driver.md#window_has_pane)  (Implementation)


---
### window_set_active_pane<!-- {{#callable_declaration:window_set_active_pane}} -->
Sets the active pane in a window.
- **Description**: This function is used to change the currently active pane within a specified window. It should be called when you want to switch focus to a different pane, typically in response to user input or programmatic control. The function will update the active pane and may trigger notifications if the `notify` parameter is set to a non-zero value. It is important to ensure that the provided pane is part of the specified window; otherwise, the function will not change the active pane. The function also manages the history of last active panes, allowing for potential restoration of previous states.
- **Inputs**:
    - `w`: A pointer to the `window` structure representing the window containing the panes. Must not be null.
    - `wp`: A pointer to the `window_pane` structure that should become the active pane. Must not be null and must be a valid pane within the specified window.
    - `notify`: An integer flag indicating whether to send a notification about the pane change. A non-zero value will trigger a notification.
- **Output**: Returns 1 if the active pane was successfully changed, or 0 if the specified pane was already active.
- **See also**: [`window_set_active_pane`](window.c.driver.md#window_set_active_pane)  (Implementation)


---
### window_update_focus<!-- {{#callable_declaration:window_update_focus}} -->
Updates the focus of a window.
- **Description**: This function should be called to update the focus of a `window` structure, specifically to reflect the currently active pane. It is important to ensure that the `window` has been properly initialized before calling this function. If the provided `window` pointer is `NULL`, the function will not perform any operations, thus avoiding potential dereferencing of a null pointer.
- **Inputs**:
    - `w`: A pointer to a `window` structure. This parameter must not be null, as it is required to determine which window's focus needs to be updated.
- **Output**: None
- **See also**: [`window_update_focus`](window.c.driver.md#window_update_focus)  (Implementation)


---
### window_pane_update_focus<!-- {{#callable_declaration:window_pane_update_focus}} -->
Updates the focus state of a window pane.
- **Description**: This function should be called to refresh the focus state of a `window_pane`. It checks if the pane is currently active and whether any clients are focused on it. If the focus state changes, it sends notifications for focus in or out, and updates the pane's flags accordingly. It is important to ensure that the pane has not exited before calling this function.
- **Inputs**:
    - `wp`: A pointer to a `window_pane` structure. Must not be null and should represent a valid pane that has not exited.
- **Output**: None
- **See also**: [`window_pane_update_focus`](window.c.driver.md#window_pane_update_focus)  (Implementation)


---
### window_redraw_active_switch<!-- {{#callable_declaration:window_redraw_active_switch}} -->
Redraws the active window switch.
- **Description**: This function is used to update the visual representation of a window pane when the active pane changes. It should be called when the active pane is switched to ensure that the display reflects the current active state. The function checks if the styles or palettes of the active and inactive panes differ, and if so, marks the inactive pane for redrawing. It is important to note that this function does not perform any action if the specified pane is already the active one.
- **Inputs**:
    - `w`: A pointer to the `window` structure representing the window containing the panes. Must not be null.
    - `wp`: A pointer to the `window_pane` structure representing the pane to be checked. Must not be null.
- **Output**: None
- **See also**: [`window_redraw_active_switch`](window.c.driver.md#window_redraw_active_switch)  (Implementation)


---
### window_add_pane<!-- {{#callable_declaration:window_add_pane}} -->
Adds a new pane to a window.
- **Description**: This function is used to add a new pane to a specified window. It can be called at any time after the window has been created. If the `other` parameter is NULL, the new pane will be added as the active pane of the window. The `hlimit` parameter specifies the height limit for the new pane, and the `flags` parameter can be used to control the positioning of the new pane relative to an existing pane. If the `SPAWN_BEFORE` flag is set, the new pane will be inserted before the specified `other` pane; if not set, it will be inserted after. The `SPAWN_FULLSIZE` flag can be used to make the new pane occupy the full size of the window.
- **Inputs**:
    - `w`: A pointer to the `window` structure where the new pane will be added. Must not be null.
    - `other`: A pointer to another `window_pane` structure that serves as a reference for positioning the new pane. If NULL, the new pane will be added as the active pane.
    - `hlimit`: An unsigned integer representing the maximum height of the new pane. Must be greater than or equal to 1.
    - `flags`: An integer representing flags that control the behavior of the pane addition. Valid flags include `SPAWN_BEFORE` and `SPAWN_FULLSIZE`. The behavior is undefined if invalid flags are provided.
- **Output**: Returns a pointer to the newly created `window_pane`. If the pane could not be created, the behavior is undefined.
- **See also**: [`window_add_pane`](window.c.driver.md#window_add_pane)  (Implementation)


---
### window_resize<!-- {{#callable_declaration:window_resize}} -->
Resizes a window.
- **Description**: This function is used to resize a window to the specified dimensions. It should be called when the window needs to be adjusted, such as during a resize event. The function takes the new size in screen units and pixel dimensions, and it will default to predefined pixel sizes if the provided pixel values are zero. It is important to ensure that the window structure is valid and properly initialized before calling this function.
- **Inputs**:
    - `w`: A pointer to a `struct window` that represents the window to be resized. Must not be null.
    - `sx`: An unsigned integer representing the new width of the window in screen units. Must be within the range defined by WINDOW_MINIMUM and WINDOW_MAXIMUM.
    - `sy`: An unsigned integer representing the new height of the window in screen units. Must be within the range defined by WINDOW_MINIMUM and WINDOW_MAXIMUM.
    - `xpixel`: An integer representing the new width of the window in pixels. If set to 0, it defaults to DEFAULT_XPIXEL. If set to -1, the current pixel width is retained.
    - `ypixel`: An integer representing the new height of the window in pixels. If set to 0, it defaults to DEFAULT_YPIXEL. If set to -1, the current pixel height is retained.
- **Output**: None
- **See also**: [`window_resize`](window.c.driver.md#window_resize)  (Implementation)


---
### window_pane_send_resize<!-- {{#callable_declaration:window_pane_send_resize}} -->
Sends a resize request to a window pane.
- **Description**: This function is used to notify the system of a change in the size of a window pane, which is necessary for proper rendering and display. It should be called when the dimensions of the pane change, typically after a resize event. The function will not perform any action if the file descriptor associated with the pane is invalid. It is important to ensure that the window pane is properly initialized before calling this function.
- **Inputs**:
    - `wp`: A pointer to a `struct window_pane` representing the pane to be resized. Must not be null.
    - `sx`: An unsigned integer representing the new width of the pane in columns. Must be greater than or equal to 1.
    - `sy`: An unsigned integer representing the new height of the pane in rows. Must be greater than or equal to 1.
- **Output**: None
- **See also**: [`window_pane_send_resize`](window.c.driver.md#window_pane_send_resize)  (Implementation)


---
### window_zoom<!-- {{#callable_declaration:window_zoom}} -->
Zooms the specified window pane.
- **Description**: This function is used to zoom a specific window pane within a window. It should be called when there are multiple panes in the window, and the target pane is not already zoomed. If the window is already zoomed or if it contains only one pane, the function will return an error. The function also sets the active pane to the specified pane if it is not already active, and it modifies the layout of the window to reflect the zoomed state.
- **Inputs**:
    - `wp`: A pointer to a `struct window_pane` that represents the pane to be zoomed. This pointer must not be null and must point to a valid pane within a window that contains multiple panes.
- **Output**: Returns 0 on success if the pane was successfully zoomed, or -1 if the operation failed due to the window already being zoomed or containing only one pane.
- **See also**: [`window_zoom`](window.c.driver.md#window_zoom)  (Implementation)


---
### window_unzoom<!-- {{#callable_declaration:window_unzoom}} -->
Unzooms a window if it is currently zoomed.
- **Description**: This function should be called when you want to restore a window to its normal size after it has been zoomed. It can only be called if the window is currently in a zoomed state, indicated by the `WINDOW_ZOOMED` flag. If the window is not zoomed, the function will return -1 without making any changes. If the `notify` parameter is set to a non-zero value, a notification will be sent to indicate that the window layout has changed.
- **Inputs**:
    - `w`: A pointer to the `window` structure that represents the window to be unzoomed. Must not be null.
    - `notify`: An integer that indicates whether to send a notification about the layout change. Valid values are 0 (no notification) and 1 (send notification). Caller retains ownership.
- **Output**: Returns 0 on success if the window was unzoomed, or -1 if the window was not zoomed.
- **See also**: [`window_unzoom`](window.c.driver.md#window_unzoom)  (Implementation)


---
### window_push_zoom<!-- {{#callable_declaration:window_push_zoom}} -->
Handles zooming behavior for a window.
- **Description**: This function is used to manage the zoom state of a `window`. It should be called when you want to adjust the zoom status of a window, particularly in response to user actions or specific conditions. The `always` parameter determines if the zoom state should be enforced regardless of the current flags, while the `flag` parameter indicates whether the window is currently zoomed. If the window is already zoomed and the `always` flag is not set, the function will clear the zoom state. It is important to ensure that the `window` structure is properly initialized before calling this function.
- **Inputs**:
    - `w`: A pointer to a `window` structure. Must not be null and should point to a valid window that has been initialized.
    - `always`: An integer that indicates whether to enforce zooming regardless of the current state. Valid values are typically 0 (false) or 1 (true).
    - `flag`: An integer that indicates whether the window is currently zoomed. Valid values are typically 0 (not zoomed) or 1 (zoomed).
- **Output**: Returns an integer value. A return value of 0 indicates that the window was successfully unzoomed, while a non-zero value indicates a failure in the unzooming process.
- **See also**: [`window_push_zoom`](window.c.driver.md#window_push_zoom)  (Implementation)


---
### window_pop_zoom<!-- {{#callable_declaration:window_pop_zoom}} -->
Removes zoom from a window.
- **Description**: This function is used to remove the zoom state from a specified window. It should be called when the window is currently zoomed, as indicated by the `WINDOW_WASZOOMED` flag in the window's state. If the window is not zoomed, the function will simply return 0 without making any changes. The function is typically used in scenarios where the user wants to revert the window back to its original size after it has been zoomed.
- **Inputs**:
    - `w`: A pointer to a `struct window`. This pointer must not be null and must point to a valid window structure. If the window does not have the `WINDOW_WASZOOMED` flag set, the function will return 0 without any changes.
- **Output**: Returns 1 if the zoom was successfully removed, or 0 if the window was not zoomed.
- **See also**: [`window_pop_zoom`](window.c.driver.md#window_pop_zoom)  (Implementation)


---
### window_lost_pane<!-- {{#callable_declaration:window_lost_pane}} -->
Removes a pane from a window.
- **Description**: This function is used to remove a specified pane from a window. It should be called when a pane is no longer needed, such as when a user closes a pane. The function will handle updating the active pane if the removed pane is currently active, ensuring that another pane is set as active if available. It is important to ensure that the provided pane is valid and belongs to the specified window.
- **Inputs**:
    - `w`: A pointer to the `window` structure from which the pane will be removed. Must not be null.
    - `wp`: A pointer to the `window_pane` structure that is to be removed. Must not be null and must be a valid pane associated with the specified window.
- **Output**: None
- **See also**: [`window_lost_pane`](window.c.driver.md#window_lost_pane)  (Implementation)


---
### window_remove_pane<!-- {{#callable_declaration:window_remove_pane}} -->
Removes a pane from a window.
- **Description**: This function is used to remove a specified pane from a window. It should be called when a pane is no longer needed, such as during cleanup or when the user explicitly closes a pane. The function will handle the necessary cleanup for the pane, including notifying the window of the pane's removal and destroying the pane itself. It is important to ensure that the pane being removed is valid and currently associated with the specified window.
- **Inputs**:
    - `w`: A pointer to the `window` structure from which the pane will be removed. Must not be null.
    - `wp`: A pointer to the `window_pane` structure that is to be removed. Must not be null and must be a valid pane associated with the specified window.
- **Output**: None
- **See also**: [`window_remove_pane`](window.c.driver.md#window_remove_pane)  (Implementation)


---
### window_pane_at_index<!-- {{#callable_declaration:window_pane_at_index}} -->
Retrieves a `window_pane` at a specified index.
- **Description**: This function is used to obtain a pointer to a `window_pane` structure from a given `window` based on the specified index. The index is zero-based and is adjusted by the `pane-base-index` option of the window. It is important to ensure that the index provided is valid; otherwise, the function will return `NULL`. This function should be called when you need to access a specific pane within a window, particularly in scenarios where multiple panes are managed.
- **Inputs**:
    - `w`: A pointer to the `window` structure from which to retrieve the pane. Must not be null.
    - `idx`: An unsigned integer representing the index of the desired pane. Valid indices are determined by the number of panes in the window. If the index is out of range, the function will return NULL.
- **Output**: Returns a pointer to the `window_pane` at the specified index if it exists; otherwise, returns NULL.
- **See also**: [`window_pane_at_index`](window.c.driver.md#window_pane_at_index)  (Implementation)


---
### window_pane_next_by_number<!-- {{#callable_declaration:window_pane_next_by_number}} -->
Retrieves the next pane in a window by its number.
- **Description**: This function is used to navigate through the panes of a specified window. It takes a starting pane and a count, and returns the pane that is 'n' positions ahead in the list of panes. If the end of the list is reached, it wraps around to the beginning. This function should be called with a valid `window` and a non-null `window_pane`. The count 'n' must be a positive integer.
- **Inputs**:
    - `w`: A pointer to the `window` structure. Must not be null.
    - `wp`: A pointer to the current `window_pane`. Must not be null.
    - `n`: An unsigned integer representing the number of panes to skip. Must be greater than 0.
- **Output**: Returns a pointer to the next `window_pane` after skipping 'n' panes. If the end of the list is reached, it returns the first pane.
- **See also**: [`window_pane_next_by_number`](window.c.driver.md#window_pane_next_by_number)  (Implementation)


---
### window_pane_previous_by_number<!-- {{#callable_declaration:window_pane_previous_by_number}} -->
Retrieves the previous pane by its number.
- **Description**: This function is used to navigate to a previous `window_pane` within a `window` based on a specified number. It should be called when you need to access a pane that is positioned before the current one in the list of panes. The function will return the last pane if the specified number exceeds the available panes or if the current pane is the first one.
- **Inputs**:
    - `w`: A pointer to the `window` structure. Must not be null.
    - `wp`: A pointer to the current `window_pane`. Must not be null.
    - `n`: An unsigned integer representing the number of panes to move back. Must be greater than or equal to 0.
- **Output**: Returns a pointer to the previous `window_pane` based on the specified number. If there are no previous panes, it returns a pointer to the last pane in the list.
- **See also**: [`window_pane_previous_by_number`](window.c.driver.md#window_pane_previous_by_number)  (Implementation)


---
### window_pane_index<!-- {{#callable_declaration:window_pane_index}} -->
Retrieves the index of a specified window pane.
- **Description**: This function is used to determine the index of a given `window_pane` within its associated `window`. It should be called when you need to find the position of a pane, especially in scenarios where panes are dynamically added or removed. The function expects a valid pointer to a `window_pane` structure, and it will return the index starting from a base index defined in the window's options. If the specified pane is not found within the window, the function will return -1.
- **Inputs**:
    - `wp`: A pointer to a `window_pane` structure representing the pane whose index is to be retrieved. This pointer must not be null and must point to a valid pane that is part of a window.
    - `i`: A pointer to an unsigned integer where the index will be stored. The caller retains ownership of this variable, and it must not be null.
- **Output**: Returns the index of the specified `window_pane` within its `window`, or -1 if the pane is not found.
- **See also**: [`window_pane_index`](window.c.driver.md#window_pane_index)  (Implementation)


---
### window_count_panes<!-- {{#callable_declaration:window_count_panes}} -->
Counts the number of panes in a window.
- **Description**: This function is used to retrieve the total number of panes associated with a given window. It should be called when you need to know how many panes are currently managed by the specified window. The input parameter must point to a valid `window` structure, which should have been properly initialized and populated with panes. If the input is null or invalid, the behavior is undefined.
- **Inputs**:
    - `w`: A pointer to a `window` structure. Must not be null and should point to a valid window that has been initialized and contains panes.
- **Output**: Returns an unsigned integer representing the count of panes in the specified window. If the window has no panes, the function will return 0.
- **See also**: [`window_count_panes`](window.c.driver.md#window_count_panes)  (Implementation)


---
### window_destroy_panes<!-- {{#callable_declaration:window_destroy_panes}} -->
Destroys all panes associated with a window.
- **Description**: This function should be called when a window is no longer needed, as it cleans up all associated panes by removing them from the window's pane lists and destroying them. It is important to ensure that this function is called only after the window has been properly initialized and is no longer in use, as it will free resources and may lead to undefined behavior if called while panes are still active.
- **Inputs**:
    - `w`: A pointer to a `struct window` representing the window whose panes are to be destroyed. Must not be null.
- **Output**: None
- **See also**: [`window_destroy_panes`](window.c.driver.md#window_destroy_panes)  (Implementation)


---
### window_pane_find_by_id_str<!-- {{#callable_declaration:window_pane_find_by_id_str}} -->
Finds a `window_pane` by its ID string.
- **Description**: This function is used to retrieve a `window_pane` structure based on its ID, which is provided as a string. The ID string must start with a '%' character, followed by a numeric value representing the pane's ID. If the string does not start with '%', or if the numeric value is invalid, the function will return `NULL`. It is important to ensure that the input string is correctly formatted to avoid unexpected results.
- **Inputs**:
    - `s`: A pointer to a null-terminated string representing the ID of the `window_pane`. The string must start with a '%' character followed by a numeric value. If the string does not meet this format, or if the numeric value is out of range, the function will return `NULL`. The caller retains ownership of the string.
- **Output**: Returns a pointer to the `window_pane` structure corresponding to the provided ID string, or `NULL` if the ID is invalid or not found.
- **See also**: [`window_pane_find_by_id_str`](window.c.driver.md#window_pane_find_by_id_str)  (Implementation)


---
### window_pane_find_by_id<!-- {{#callable_declaration:window_pane_find_by_id}} -->
Finds a window pane by its ID.
- **Description**: This function is used to retrieve a pointer to a `window_pane` structure based on its unique identifier. It should be called when you need to access a specific pane in the window management system. The function expects a valid pane ID as input, and it will return a pointer to the corresponding `window_pane` if found. If no pane with the specified ID exists, the function will return `NULL`.
- **Inputs**:
    - `id`: The unique identifier of the window pane to find. It must be a non-negative integer. If the ID does not correspond to any existing pane, the function will return NULL.
- **Output**: Returns a pointer to the `window_pane` structure associated with the given ID, or NULL if no such pane exists.
- **See also**: [`window_pane_find_by_id`](window.c.driver.md#window_pane_find_by_id)  (Implementation)


---
### window_pane_destroy_ready<!-- {{#callable_declaration:window_pane_destroy_ready}} -->
Determines if a `window_pane` is ready to be destroyed.
- **Description**: This function checks if a `window_pane` can be safely destroyed. It should be called when you want to determine if the pane is ready for destruction, typically before freeing its resources. Preconditions include that the `window_pane` must be properly initialized. The function checks if there are any pending output in the pane's event buffer or if there are unread bytes in the pane's file descriptor. If either condition is true, the pane is not ready to be destroyed. Additionally, if the `PANE_EXITED` flag is not set, the pane is also considered not ready.
- **Inputs**:
    - `wp`: A pointer to a `window_pane` structure. Must not be null and must point to a valid `window_pane` that has been initialized. If the pointer is null or invalid, the behavior is undefined.
- **Output**: Returns 1 if the `window_pane` is ready to be destroyed, and 0 if it is not. The return value indicates whether it is safe to proceed with the destruction of the pane.
- **See also**: [`window_pane_destroy_ready`](window.c.driver.md#window_pane_destroy_ready)  (Implementation)


---
### window_pane_set_mode<!-- {{#callable_declaration:window_pane_set_mode}} -->
Sets the mode for a window pane.
- **Description**: This function is used to set the mode of a specified `window_pane`. It should be called when you want to change the operational mode of a pane, such as entering copy mode or any other defined mode. The function checks if the requested mode is already active; if so, it returns early. If the mode is new, it initializes the mode and updates the pane's screen. It is important to ensure that the `window_pane` and `mode` parameters are valid before calling this function, as invalid inputs may lead to undefined behavior.
- **Inputs**:
    - `wp`: A pointer to the `window_pane` structure that represents the pane whose mode is to be set. Must not be null.
    - `swp`: A pointer to another `window_pane` structure, which may be used for context or interaction with the primary pane. Must not be null.
    - `mode`: A pointer to the `window_mode` structure that defines the new mode to be set. Must not be null.
    - `fs`: A pointer to a `cmd_find_state` structure that holds the state for command finding. Must not be null.
    - `args`: A pointer to an `args` structure that may contain additional arguments for the mode. Can be null.
- **Output**: Returns 0 on success, or 1 if the mode was already set. If an error occurs, a negative value may be returned, indicating failure.
- **See also**: [`window_pane_set_mode`](window.c.driver.md#window_pane_set_mode)  (Implementation)


---
### window_pane_reset_mode<!-- {{#callable_declaration:window_pane_reset_mode}} -->
Resets the mode of a window pane.
- **Description**: This function is used to reset the current mode of a specified window pane. It should be called when you want to revert the pane to its default state, typically after a mode change has occurred. If the pane has no active modes, the function will simply return without making any changes. When a mode is reset, the function will also handle the transition to the next mode if one exists, updating the pane's screen and triggering necessary redraws. It is important to ensure that the `window_pane` structure passed to this function is valid and properly initialized.
- **Inputs**:
    - `wp`: A pointer to a `struct window_pane`. This parameter must not be null and should point to a valid window pane that has been initialized. The function does not take ownership of this pointer.
- **Output**: The function does not return a value and does not mutate any inputs directly. However, it may change the state of the `window_pane` and trigger redraws of the associated window.
- **See also**: [`window_pane_reset_mode`](window.c.driver.md#window_pane_reset_mode)  (Implementation)


---
### window_pane_reset_mode_all<!-- {{#callable_declaration:window_pane_reset_mode_all}} -->
Resets all modes of a window pane.
- **Description**: This function should be called when you need to reset all active modes associated with a specific window pane. It is typically used when you want to clear any modes that may be affecting the pane's behavior or appearance. The function will iterate through all modes linked to the provided `window_pane` structure and reset each one. Ensure that the `window_pane` is valid and properly initialized before calling this function.
- **Inputs**:
    - `wp`: A pointer to a `window_pane` structure representing the pane whose modes are to be reset. This pointer must not be null and should point to a valid `window_pane` instance.
- **Output**: None
- **See also**: [`window_pane_reset_mode_all`](window.c.driver.md#window_pane_reset_mode_all)  (Implementation)


---
### window_pane_key<!-- {{#callable_declaration:window_pane_key}} -->
Processes a key event for a window pane.
- **Description**: This function is used to handle key events for a specific `window_pane`. It should be called when a key event occurs, and it will process the event based on the current mode of the pane. The function expects that the `window_pane` is properly initialized and that the `client` and `session` parameters are valid when applicable. If the key event corresponds to a mouse event but the mouse event structure is null, the function will return an error. Additionally, if the pane is not accepting input or is in a specific mode, the function may not process the key event. The function also supports synchronization of key events across multiple panes if the corresponding option is enabled.
- **Inputs**:
    - `wp`: A pointer to the `window_pane` structure that represents the pane receiving the key event. Must not be null.
    - `c`: A pointer to the `client` structure representing the client that initiated the key event. Can be null if not applicable.
    - `s`: A pointer to the `session` structure associated with the key event. Can be null if not applicable.
    - `wl`: A pointer to the `winlink` structure representing the window link. Can be null if not applicable.
    - `key`: The key code representing the key event. This should be a valid key code.
    - `m`: A pointer to a `mouse_event` structure that contains details about the mouse event, if applicable. Can be null if the event is not a mouse event.
- **Output**: Returns 0 on success, -1 on error. If the key event is processed successfully, the function may also trigger additional actions such as synchronizing key events across panes.
- **See also**: [`window_pane_key`](window.c.driver.md#window_pane_key)  (Implementation)


---
### window_pane_paste<!-- {{#callable_declaration:window_pane_paste}} -->
Pastes data from a buffer into a window pane.
- **Description**: This function is used to paste data from a specified buffer into a `window_pane`. It should only be called when the pane is not in any mode (i.e., it is not processing input for a command or similar). If the pane's file descriptor is invalid or if input is turned off, the function will return without performing any action. Additionally, if the key used for pasting is recognized as a paste key and the pane is in bracket paste mode, the function will also return without pasting. If the paste operation is successful and the 'synchronize-panes' option is enabled, the data will also be pasted into all synchronized panes.
- **Inputs**:
    - `wp`: A pointer to the `window_pane` structure where the data will be pasted. Must not be null.
    - `key`: A `key_code` representing the key that triggered the paste action. This should be a valid key code.
    - `buf`: A pointer to a character buffer containing the data to be pasted. Must not be null.
    - `len`: The length of the data in the buffer. Must be greater than zero.
- **Output**: None
- **See also**: [`window_pane_paste`](window.c.driver.md#window_pane_paste)  (Implementation)


---
### window_pane_visible<!-- {{#callable_declaration:window_pane_visible}} -->
Determines if a window pane is visible.
- **Description**: This function checks the visibility of a specified `window_pane`. It should be called when you need to determine if a pane is currently visible to the user, which is particularly useful in user interface scenarios where panes can be hidden or obscured. The function returns a non-zero value if the pane is visible, and zero otherwise. It is important to ensure that the `window_pane` structure passed to this function is valid and properly initialized, as passing an invalid pointer may lead to undefined behavior.
- **Inputs**:
    - `wp`: A pointer to a `window_pane` structure representing the pane to check. This pointer must not be null and should point to a valid `window_pane` instance. If the pointer is invalid, the behavior of the function is undefined.
- **Output**: Returns an integer value: a non-zero value indicates that the pane is visible, while zero indicates that it is not visible.
- **See also**: [`window_pane_visible`](window.c.driver.md#window_pane_visible)  (Implementation)


---
### window_pane_exited<!-- {{#callable_declaration:window_pane_exited}} -->
Checks if a window pane has exited.
- **Description**: This function is used to determine if a specified `window_pane` has exited. It should be called when you need to check the status of a pane, particularly after it has been expected to terminate. The function evaluates the pane's file descriptor and its exit status flags to ascertain if it has exited. It is important to ensure that the `window_pane` structure is valid and properly initialized before calling this function.
- **Inputs**:
    - `wp`: A pointer to a `window_pane` structure that represents the pane to check. This pointer must not be null and should point to a valid `window_pane` instance.
- **Output**: Returns a non-zero value if the pane has exited (either due to a closed file descriptor or the exit flag being set), and zero otherwise.
- **See also**: [`window_pane_exited`](window.c.driver.md#window_pane_exited)  (Implementation)


---
### window_pane_search<!-- {{#callable_declaration:window_pane_search}} -->
Searches for a term in a window pane.
- **Description**: This function is used to search for a specified term within the content of a `window_pane`. It can perform the search using either a regular expression or a simple string match, depending on the `regex` parameter. The search is case-sensitive or case-insensitive based on the `ignore` parameter. It is important to ensure that the `window_pane` is properly initialized before calling this function. If the search term is not found, the function returns 0. If the term is found, it returns the line number (1-based) where the term was located. The function handles memory allocation for the search term and cleans up appropriately.
- **Inputs**:
    - `wp`: A pointer to the `window_pane` structure where the search will be performed. Must not be null.
    - `term`: A pointer to a null-terminated string representing the search term. Must not be null.
    - `regex`: An integer flag indicating whether to treat the search term as a regular expression (1) or a simple string (0). Valid values are 0 or 1.
    - `ignore`: An integer flag indicating whether the search should be case-insensitive (1) or case-sensitive (0). Valid values are 0 or 1.
- **Output**: Returns the line number (1-based) where the term was found, or 0 if the term was not found.
- **See also**: [`window_pane_search`](window.c.driver.md#window_pane_search)  (Implementation)


---
### window_printable_flags<!-- {{#callable_declaration:window_printable_flags}} -->
Returns a string representation of window flags.
- **Description**: This function generates a string that represents the current state of a `winlink` structure, indicating various flags such as activity, bell, silence, and zoom status. It should be called when you need a human-readable representation of the window's status, particularly for display purposes. The function is safe to call at any time, but the `winlink` structure must be valid and properly initialized. The output string is statically allocated, meaning it will be overwritten on subsequent calls.
- **Inputs**:
    - `wl`: A pointer to a `winlink` structure that represents the window whose flags are to be printed. Must not be null.
    - `escape`: An integer that indicates whether to escape certain characters in the output. Valid values are 0 (no escape) or 1 (escape). Must be either 0 or 1.
- **Output**: Returns a pointer to a statically allocated string containing the flags representation. The content of this string may change on subsequent calls.
- **See also**: [`window_printable_flags`](window.c.driver.md#window_printable_flags)  (Implementation)


---
### window_pane_find_up<!-- {{#callable_declaration:window_pane_find_up}} -->
Finds the pane directly above the specified pane.
- **Description**: This function is used to locate the pane that is positioned directly above a given pane within a window. It should be called with a valid pointer to a `window_pane` structure, which represents the current pane. If the provided pane is the topmost pane or if it is null, the function will return null. The function takes into account the layout and size of the panes to determine the best candidate for the pane above.
- **Inputs**:
    - `wp`: A pointer to a `window_pane` structure representing the current pane. Must not be null. If the pane is at the top edge of the window or if it is null, the function will return null.
- **Output**: Returns a pointer to the `window_pane` structure of the pane directly above the specified pane, or null if no such pane exists.
- **See also**: [`window_pane_find_up`](window.c.driver.md#window_pane_find_up)  (Implementation)


---
### window_pane_find_down<!-- {{#callable_declaration:window_pane_find_down}} -->
Finds the pane directly below the specified pane.
- **Description**: This function is used to locate the pane that is positioned directly below a given pane within a window. It should be called with a valid `window_pane` pointer that is not null. If the specified pane is at the bottom edge of the window, the function will return `NULL`. The function also takes into account the pane's border status, which can affect the search for the next pane.
- **Inputs**:
    - `wp`: A pointer to a `window_pane` structure representing the current pane. Must not be null. If null is passed, the function will return NULL.
- **Output**: Returns a pointer to the `window_pane` structure of the pane directly below the specified pane, or NULL if there is no such pane.
- **See also**: [`window_pane_find_down`](window.c.driver.md#window_pane_find_down)  (Implementation)


---
### window_pane_find_left<!-- {{#callable_declaration:window_pane_find_left}} -->
Finds the pane to the left of the specified pane.
- **Description**: This function is used to locate the adjacent pane that is positioned to the left of a given pane within the same window. It should be called with a valid pointer to a `window_pane` structure, which represents the current pane. If the specified pane is the leftmost pane or if it is null, the function will return null. The function iterates through the list of panes in the window and checks their positions to determine which pane is directly to the left of the specified pane.
- **Inputs**:
    - `wp`: A pointer to a `window_pane` structure representing the current pane. Must not be null. If null is provided, the function will return null.
- **Output**: Returns a pointer to the `window_pane` structure of the pane located to the left of the specified pane, or null if no such pane exists.
- **See also**: [`window_pane_find_left`](window.c.driver.md#window_pane_find_left)  (Implementation)


---
### window_pane_find_right<!-- {{#callable_declaration:window_pane_find_right}} -->
Finds the pane to the right of the specified pane.
- **Description**: This function is used to locate the adjacent pane to the right of a given pane within a window. It should be called with a valid pointer to a `window_pane` structure, which represents the current pane. If the specified pane is the rightmost pane or if it is null, the function will return null. The function will traverse the list of panes in the window and return the first pane that is aligned vertically with the specified pane.
- **Inputs**:
    - `wp`: A pointer to a `window_pane` structure representing the current pane. Must not be null.
- **Output**: Returns a pointer to the `window_pane` structure of the pane located to the right of the specified pane, or null if there is no such pane.
- **See also**: [`window_pane_find_right`](window.c.driver.md#window_pane_find_right)  (Implementation)


---
### window_pane_stack_push<!-- {{#callable_declaration:window_pane_stack_push}} -->
Pushes a `window_pane` onto the stack.
- **Description**: This function is used to add a `window_pane` to the top of a stack of panes. It should be called when you want to track the most recently visited pane, ensuring that the pane is removed from its current position in the stack before being added to the top. The function modifies the `flags` of the `window_pane` to indicate that it has been visited. It is important to ensure that the `window_pane` being pushed is not null; otherwise, the function will not perform any action.
- **Inputs**:
    - `stack`: A pointer to a `window_panes` structure representing the stack to which the pane will be added. This must not be null.
    - `wp`: A pointer to the `window_pane` to be pushed onto the stack. This must not be null; if it is null, the function will not perform any action.
- **Output**: None
- **See also**: [`window_pane_stack_push`](window.c.driver.md#window_pane_stack_push)  (Implementation)


---
### window_pane_stack_remove<!-- {{#callable_declaration:window_pane_stack_remove}} -->
Removes a window pane from the stack.
- **Description**: This function is used to remove a specified `window_pane` from a `window_panes` stack. It should be called when you want to unregister a pane that is no longer needed. The function checks if the pane to be removed has been visited (indicated by the `PANE_VISITED` flag). If the pane is not visited or is null, no action is taken. After removal, the `PANE_VISITED` flag is cleared, ensuring that the pane is marked as not visited.
- **Inputs**:
    - `stack`: A pointer to a `window_panes` structure representing the stack from which the pane will be removed. Must not be null.
    - `wp`: A pointer to the `window_pane` to be removed from the stack. If this pointer is null or if the pane has not been visited, the function will not perform any action.
- **Output**: The function does not return a value and does not mutate any inputs directly. It modifies the state of the `window_pane` by clearing the `PANE_VISITED` flag if the pane is successfully removed.
- **See also**: [`window_pane_stack_remove`](window.c.driver.md#window_pane_stack_remove)  (Implementation)


---
### window_set_name<!-- {{#callable_declaration:window_set_name}} -->
Sets the name of a window.
- **Description**: This function is used to change the name of a specified window. It should be called when you want to update the window's name, typically after the window has been created and initialized. The new name will replace any existing name, and the function will also notify any relevant listeners about the change. It is important to ensure that the `window` pointer is valid and that the `new_name` string is not null.
- **Inputs**:
    - `w`: A pointer to a `struct window` representing the window whose name is to be set. Must not be null.
    - `new_name`: A pointer to a null-terminated string containing the new name for the window. Must not be null.
- **Output**: None
- **See also**: [`window_set_name`](window.c.driver.md#window_set_name)  (Implementation)


---
### window_add_ref<!-- {{#callable_declaration:window_add_ref}} -->
Increments the reference count of a window.
- **Description**: This function is used to increase the reference count of a `window` structure, which is useful for managing the lifecycle of the window. It should be called whenever a new reference to the window is created, ensuring that the window is not prematurely destroyed while it is still in use. The `from` parameter is intended to provide context about where the reference is being added from, which can be useful for debugging purposes.
- **Inputs**:
    - `w`: A pointer to the `window` structure whose reference count is to be incremented. Must not be null.
    - `from`: A string providing context for the reference addition. This parameter can be null, but providing a valid string is recommended for better debugging.
- **Output**: None
- **See also**: [`window_add_ref`](window.c.driver.md#window_add_ref)  (Implementation)


---
### window_remove_ref<!-- {{#callable_declaration:window_remove_ref}} -->
Decrements the reference count of a window.
- **Description**: This function is used to decrease the reference count of a `window` structure. It should be called when a reference to the window is no longer needed. If the reference count reaches zero, the window is destroyed. It is important to ensure that this function is called only after the window has been properly initialized and is in use. Calling this function with a window that has already been destroyed or is not initialized may lead to undefined behavior.
- **Inputs**:
    - `w`: A pointer to a `window` structure. Must not be null and must point to a valid window that has been initialized.
    - `from`: A string indicating the source of the reference removal. This can be any valid string, but it is used for logging purposes. Must not be null.
- **Output**: None
- **See also**: [`window_remove_ref`](window.c.driver.md#window_remove_ref)  (Implementation)


---
### winlink_clear_flags<!-- {{#callable_declaration:winlink_clear_flags}} -->
Clears alert flags from a winlink.
- **Description**: This function is used to clear alert flags from a specified `winlink` and all associated `winlinks` in the same `window`. It should be called when you want to reset alert notifications for a window, typically after an alert has been acknowledged or handled. The function modifies the flags of the provided `winlink` and iterates through all `winlinks` in the associated `window`, clearing their alert flags as well. It is important to ensure that the `winlink` passed to this function is valid and properly initialized.
- **Inputs**:
    - `wl`: A pointer to a `winlink` structure. Must not be null and should point to a valid `winlink` that is part of an initialized `window`. If the pointer is null or invalid, the behavior is undefined.
- **Output**: None
- **See also**: [`winlink_clear_flags`](window.c.driver.md#winlink_clear_flags)  (Implementation)


---
### winlink_shuffle_up<!-- {{#callable_declaration:winlink_shuffle_up}} -->
Shuffles a winlink up in the session.
- **Description**: This function is used to change the index of a `winlink` within a `session`, effectively moving it up in the order of windows. It should be called when you want to adjust the position of a window in the session's window list. The `winlink` must not be null, and the function will return -1 if the `winlink` is null or if there are no available indices to move the `winlink` to. The `before` parameter determines whether to move the `winlink` to the index before its current position or after it.
- **Inputs**:
    - `s`: A pointer to the `session` structure. Must not be null.
    - `wl`: A pointer to the `winlink` structure to be shuffled. Must not be null.
    - `before`: An integer that indicates the direction of the shuffle. If non-zero, the `winlink` is moved to the index before its current position; otherwise, it is moved to the index after.
- **Output**: Returns the new index of the `winlink` after the shuffle, or -1 if the operation fails.
- **See also**: [`winlink_shuffle_up`](window.c.driver.md#winlink_shuffle_up)  (Implementation)


---
### window_pane_start_input<!-- {{#callable_declaration:window_pane_start_input}} -->
Starts input for a window pane.
- **Description**: This function is used to initiate input handling for a specified window pane. It should be called when the pane is empty, as indicated by the `PANE_EMPTY` flag. If the pane is not empty, an error message is set in the `cause` parameter, and the function returns -1. Additionally, the function checks the state of the client associated with the command item; if the client is dead or has exited, or if it is part of a session, the function will return 1. On successful initiation, it allocates memory for input data and returns 0.
- **Inputs**:
    - `wp`: A pointer to a `struct window_pane` that represents the pane for which input is being started. This pointer must not be null and must point to a valid window pane structure.
    - `item`: A pointer to a `struct cmdq_item` that contains the command item associated with the input. This pointer must not be null and must point to a valid command queue item.
    - `cause`: A pointer to a character pointer where an error message can be stored if the function fails. The caller retains ownership of this pointer and must ensure it is valid.
- **Output**: Returns 0 on success, -1 if the pane is not empty (with an error message set in `cause`), and 1 if the client is dead, exited, or part of a session.
- **See also**: [`window_pane_start_input`](window.c.driver.md#window_pane_start_input)  (Implementation)


---
### window_pane_get_new_data<!-- {{#callable_declaration:window_pane_get_new_data}} -->
Retrieves new data from a window pane.
- **Description**: This function is used to obtain a pointer to new data available in a `window_pane`. It should be called when there is a need to read data that has been added to the pane's input buffer. The function calculates the amount of data that can be read based on the current offset and updates the provided size pointer with the number of bytes available. It is important to ensure that the `window_pane` and `window_pane_offset` structures are properly initialized before calling this function.
- **Inputs**:
    - `wp`: A pointer to a `struct window_pane` that represents the pane from which data is to be retrieved. Must not be null.
    - `wpo`: A pointer to a `struct window_pane_offset` that indicates the current offset in the pane. Must not be null.
    - `size`: A pointer to a `size_t` variable where the function will store the number of bytes available for reading. Caller retains ownership and must ensure it is valid.
- **Output**: Returns a pointer to the new data available in the pane's input buffer. The pointer is valid until the next modification of the input buffer.
- **See also**: [`window_pane_get_new_data`](window.c.driver.md#window_pane_get_new_data)  (Implementation)


---
### window_pane_update_used_data<!-- {{#callable_declaration:window_pane_update_used_data}} -->
Updates the used data size for a window pane.
- **Description**: This function is intended to be called to adjust the amount of data used by a specific `window_pane` based on the provided size. It modifies the `used` field of the `window_pane_offset` structure, ensuring that it does not exceed the available input buffer length. It is important to call this function only after the relevant structures have been properly initialized. If the provided size exceeds the available space, it will be clamped to fit within the limits.
- **Inputs**:
    - `wp`: A pointer to a `struct window_pane`. Must not be null. This structure represents the window pane whose used data is being updated.
    - `wpo`: A pointer to a `struct window_pane_offset`. Must not be null. This structure contains the current used data size that will be updated.
    - `size`: A size_t value representing the amount of data to add to the used size. Must be a non-negative value.
- **Output**: None
- **See also**: [`window_pane_update_used_data`](window.c.driver.md#window_pane_update_used_data)  (Implementation)


---
### window_set_fill_character<!-- {{#callable_declaration:window_set_fill_character}} -->
Sets the fill character for a window.
- **Description**: This function is used to configure the fill character for a specified window. It should be called when you want to change the appearance of the window's fill character, typically after the window has been initialized. The function retrieves the fill character from the window's options and validates it to ensure it is a valid UTF-8 character with a width of 1. If the character is invalid or empty, the fill character will not be set.
- **Inputs**:
    - `w`: A pointer to a `struct window`. This must not be null and should point to a valid window structure. The function will free any previously set fill character before setting a new one.
- **Output**: None
- **See also**: [`window_set_fill_character`](window.c.driver.md#window_set_fill_character)  (Implementation)


---
### window_pane_default_cursor<!-- {{#callable_declaration:window_pane_default_cursor}} -->
Sets the default cursor for a window pane.
- **Description**: This function should be called to configure the default cursor style for a specific window pane. It is typically used after the window pane has been initialized and is ready for display. The function applies the cursor settings based on the options associated with the window pane's screen. Ensure that the `window_pane` structure is valid and properly initialized before calling this function.
- **Inputs**:
    - `wp`: A pointer to a `struct window_pane`. This must not be null and should point to a valid window pane that has been initialized. The function does not take ownership of this pointer.
- **Output**: None
- **See also**: [`window_pane_default_cursor`](window.c.driver.md#window_pane_default_cursor)  (Implementation)


---
### window_pane_mode<!-- {{#callable_declaration:window_pane_mode}} -->
Returns the current mode of a window pane.
- **Description**: This function is used to determine the active mode of a specified window pane. It should be called when you need to check the current mode, such as whether the pane is in copy mode, view mode, or no mode at all. The function checks the modes associated with the given pane and returns a corresponding constant indicating the current mode. It is important to ensure that the `window_pane` structure passed to this function is valid and properly initialized.
- **Inputs**:
    - `wp`: A pointer to a `struct window_pane`. This parameter must not be null and should point to a valid window pane structure. The function does not modify the pane.
- **Output**: Returns an integer value representing the current mode of the window pane: `WINDOW_PANE_COPY_MODE` if in copy mode, `WINDOW_PANE_VIEW_MODE` if in view mode, or `WINDOW_PANE_NO_MODE` if no mode is active.
- **See also**: [`window_pane_mode`](window.c.driver.md#window_pane_mode)  (Implementation)


---
### window_pane_show_scrollbar<!-- {{#callable_declaration:window_pane_show_scrollbar}} -->
Determines if a scrollbar should be shown for a window pane.
- **Description**: This function is used to check whether a scrollbar should be displayed for a given `window_pane`. It should be called when you need to determine the visibility of the scrollbar based on the specified option and the current mode of the pane. The function checks if the screen is in an alternate mode and returns 0 if it is. If the `sb_option` is set to `PANE_SCROLLBARS_ALWAYS`, the function will return 1, indicating that the scrollbar should always be shown. If the `sb_option` is `PANE_SCROLLBARS_MODAL`, the scrollbar will be shown only if the pane is in a mode other than `WINDOW_PANE_NO_MODE`. It is important to ensure that the `window_pane` is properly initialized before calling this function.
- **Inputs**:
    - `wp`: A pointer to a `window_pane` structure. Must not be null and should be properly initialized.
    - `sb_option`: An integer representing the scrollbar option. Valid values are `PANE_SCROLLBARS_ALWAYS`, `PANE_SCROLLBARS_MODAL`, and any other defined options. The function will handle invalid values by returning 0.
- **Output**: Returns an integer: 1 if the scrollbar should be shown, 0 otherwise.
- **See also**: [`window_pane_show_scrollbar`](window.c.driver.md#window_pane_show_scrollbar)  (Implementation)


---
### window_pane_get_bg<!-- {{#callable_declaration:window_pane_get_bg}} -->
Retrieves the background color of a window pane.
- **Description**: This function is used to obtain the background color of a specified window pane. It should be called when you need to determine the visual appearance of the pane, particularly for rendering or UI updates. The function first checks if a specific background color is set for the control client associated with the pane. If not, it falls back to the default background color defined for the pane. It is important to ensure that the `window_pane` pointer passed to this function is valid and points to an initialized pane.
- **Inputs**:
    - `wp`: A pointer to a `struct window_pane`. This must not be null and should point to a valid, initialized window pane. If the pointer is invalid, the behavior of the function is undefined.
- **Output**: Returns an integer representing the background color of the window pane. The value may correspond to a specific color code or a default value, depending on the pane's configuration.
- **See also**: [`window_pane_get_bg`](window.c.driver.md#window_pane_get_bg)  (Implementation)


---
### window_pane_get_fg<!-- {{#callable_declaration:window_pane_get_fg}} -->
Retrieves the foreground color of a window pane.
- **Description**: This function is used to obtain the foreground color associated with a specific `window_pane`. It should be called when you need to determine the color settings for the text displayed in the pane. The function iterates through the list of clients to find one that is attached to the same session as the specified pane. If a client with a valid foreground color is found, that color is returned. If no suitable client is found, the function returns -1. It is important to ensure that the `window_pane` pointer passed to the function is valid and points to an initialized pane.
- **Inputs**:
    - `wp`: A pointer to a `window_pane` structure. Must not be null and should point to a valid window pane that has been initialized.
- **Output**: Returns the foreground color as an integer value. If no valid foreground color is found, it returns -1.
- **See also**: [`window_pane_get_fg`](window.c.driver.md#window_pane_get_fg)  (Implementation)


---
### window_pane_get_fg_control_client<!-- {{#callable_declaration:window_pane_get_fg_control_client}} -->
Retrieves the foreground color for the control client of a window pane.
- **Description**: This function is used to obtain the foreground color associated with the control client of a specified window pane. It should be called when you need to determine the color settings for the control client, typically after the window pane has been initialized. If the `control_fg` attribute of the `window_pane` structure is set to -1, the function will return -1, indicating that no valid foreground color is set. Additionally, if there are no clients with the `CLIENT_CONTROL` flag set, the function will also return -1.
- **Inputs**:
    - `wp`: A pointer to a `struct window_pane`. Must not be null. If the `control_fg` field of the `window_pane` is -1, the function will return -1.
- **Output**: Returns the foreground color value as an integer if a valid control client exists; otherwise, returns -1.
- **See also**: [`window_pane_get_fg_control_client`](window.c.driver.md#window_pane_get_fg_control_client)  (Implementation)


---
### window_pane_get_bg_control_client<!-- {{#callable_declaration:window_pane_get_bg_control_client}} -->
Retrieves the background control client ID for a window pane.
- **Description**: This function is used to obtain the background control client ID associated with a specific window pane. It should be called when you need to check if a control client is present for the pane. The function will return the control background ID if it is valid; otherwise, it will return -1. It is important to note that this function should not be called if the window pane's control background is set to -1, as this indicates that there is no valid control client associated with the pane.
- **Inputs**:
    - `wp`: A pointer to a `struct window_pane`. This parameter must not be null and should point to a valid window pane structure. If the `control_bg` field of the window pane is set to -1, the function will return -1, indicating that there is no valid control client.
- **Output**: Returns the control background ID associated with the window pane if a control client exists; otherwise, it returns -1.
- **See also**: [`window_pane_get_bg_control_client`](window.c.driver.md#window_pane_get_bg_control_client)  (Implementation)


---
### window_get_bg_client<!-- {{#callable_declaration:window_get_bg_client}} -->
Retrieves the background color of the client associated with a window pane.
- **Description**: This function should be called when you need to obtain the background color of the client that is currently associated with a specific window pane. It iterates through the list of clients and checks for those that are attached to the session of the given window. If a client is found with a valid background color, that color is returned. If no suitable client is found, the function returns -1. It is important to ensure that the `window_pane` structure passed to this function is valid and properly initialized.
- **Inputs**:
    - `wp`: A pointer to a `struct window_pane`. This must not be null and should point to a valid window pane structure. The function expects that the window pane is properly initialized and associated with a window.
- **Output**: Returns the background color of the client as an integer. If no client with a valid background color is found, it returns -1.
- **See also**: [`window_get_bg_client`](window.c.driver.md#window_get_bg_client)  (Implementation)


---
### window_pane_get_theme<!-- {{#callable_declaration:window_pane_get_theme}} -->
Retrieves the theme of a window pane.
- **Description**: This function is used to determine the theme of a specified window pane, which can be either light, dark, or unknown. It should be called with a valid `window_pane` structure that has been properly initialized. If the `window_pane` is null, the function will return `THEME_UNKNOWN`. The theme is derived from the pane's background color, and if that is not set, it will check associated clients to find a theme. If no theme is found, it will also return `THEME_UNKNOWN`.
- **Inputs**:
    - `wp`: A pointer to a `window_pane` structure representing the pane whose theme is to be retrieved. Must not be null; if null, the function returns `THEME_UNKNOWN`.
- **Output**: Returns an enumeration value of type `client_theme`, which can be `THEME_LIGHT`, `THEME_DARK`, or `THEME_UNKNOWN`, indicating the theme of the specified window pane.
- **See also**: [`window_pane_get_theme`](window.c.driver.md#window_pane_get_theme)  (Implementation)


---
### window_pane_send_theme_update<!-- {{#callable_declaration:window_pane_send_theme_update}} -->
Sends a theme update to the specified window pane.
- **Description**: This function should be called to notify the system of a theme change for a specific window pane. It checks if the pane's theme has changed and if theme updates are enabled for the screen. If both conditions are met, it sends a key event corresponding to the current theme (light or dark) to the pane. This function should be invoked after the pane has been initialized and is ready to receive updates.
- **Inputs**:
    - `wp`: A pointer to a `struct window_pane`. This must not be null and should point to a valid window pane that has been initialized. If the pane is not properly initialized or if it is null, the function will not perform any actions.
- **Output**: None
- **See also**: [`window_pane_send_theme_update`](window.c.driver.md#window_pane_send_theme_update)  (Implementation)


---
### layout_count_cells<!-- {{#callable_declaration:layout_count_cells}} -->
Counts the number of cells in a layout.
- **Description**: This function is used to determine the total number of cells within a given layout cell structure. It should be called with a valid pointer to a `layout_cell` structure, which represents the root of the layout. The function handles different layout types, counting cells recursively for composite layouts like `LAYOUT_LEFTRIGHT` and `LAYOUT_TOPBOTTOM`. If the layout type is `LAYOUT_WINDOWPANE`, it simply returns 1, indicating a single cell. It is important to ensure that the provided `layout_cell` pointer is not null and points to a valid structure, as invalid input may lead to undefined behavior.
- **Inputs**:
    - `lc`: A pointer to a `layout_cell` structure representing the layout to be counted. Must not be null and must point to a valid layout cell. If the pointer is invalid, the behavior is undefined.
- **Output**: Returns an unsigned integer representing the total count of cells in the specified layout. The count includes all child cells in composite layouts.
- **See also**: [`layout_count_cells`](layout.c.driver.md#layout_count_cells)  (Implementation)


---
### layout_create_cell<!-- {{#callable_declaration:layout_create_cell}} -->
Creates a new layout cell.
- **Description**: This function is used to create a new `layout_cell` structure, which can be used to represent a cell in a layout hierarchy. It should be called when a new cell needs to be added to a layout, typically after initializing the parent layout cell. The new cell will have its dimensions and offsets set to maximum values, indicating that they are not yet defined. The function does not perform any validation on the `lcparent` parameter, but it is expected to be a valid pointer to an existing `layout_cell` or NULL if the new cell is a root cell.
- **Inputs**:
    - `lcparent`: A pointer to the parent layout cell. This can be NULL if the new cell is a root cell. The caller retains ownership of the parent cell and must ensure it remains valid for the duration of the new cell's use.
- **Output**: Returns a pointer to the newly created `layout_cell`. If memory allocation fails, the behavior is undefined, and the caller should ensure proper error handling.
- **See also**: [`layout_create_cell`](layout.c.driver.md#layout_create_cell)  (Implementation)


---
### layout_free_cell<!-- {{#callable_declaration:layout_free_cell}} -->
Frees a layout cell and its children.
- **Description**: This function is used to deallocate memory associated with a `layout_cell` structure and all its child cells. It should be called when a layout cell is no longer needed to prevent memory leaks. The function handles different types of layout cells, recursively freeing child cells for composite layouts. It is important to ensure that the `layout_cell` pointer passed to this function is valid and not null.
- **Inputs**:
    - `lc`: A pointer to a `layout_cell` structure that needs to be freed. This pointer must not be null. If the pointer is invalid or null, the behavior is undefined.
- **Output**: None
- **See also**: [`layout_free_cell`](layout.c.driver.md#layout_free_cell)  (Implementation)


---
### layout_print_cell<!-- {{#callable_declaration:layout_print_cell}} -->
Prints the layout of a cell.
- **Description**: This function is used to print the details of a layout cell, including its type and its child cells if applicable. It should be called with a valid `layout_cell` structure that has been properly initialized. The function will log the details of the cell, including its parent and window pane references, as well as its dimensions. If the cell type is `LAYOUT_LEFTRIGHT` or `LAYOUT_TOPBOTTOM`, it will recursively print the details of its child cells. If the cell type is `LAYOUT_WINDOWPANE`, it will not print any child cells.
- **Inputs**:
    - `lc`: A pointer to a `layout_cell` structure representing the cell to be printed. Must not be null.
    - `hdr`: A string used as a header for the log output. Must not be null.
    - `n`: An unsigned integer representing the indentation level for the log output. Must be a non-negative integer.
- **Output**: None
- **See also**: [`layout_print_cell`](layout.c.driver.md#layout_print_cell)  (Implementation)


---
### layout_destroy_cell<!-- {{#callable_declaration:layout_destroy_cell}} -->
Destroys a layout cell.
- **Description**: This function is used to remove a specified layout cell from its parent layout. It should be called when a layout cell is no longer needed, typically when closing a pane or resizing the layout. The function handles merging the space of the removed cell into adjacent cells, ensuring that the layout remains consistent. It is important to note that if the cell being destroyed is the last pane in the window (i.e., it has no parent), the function will simply free the cell without any resizing operations.
- **Inputs**:
    - `w`: A pointer to the `window` structure that contains the layout. Must not be null.
    - `lc`: A pointer to the `layout_cell` structure that is to be destroyed. Must not be null.
    - `lcroot`: A pointer to a pointer to a `layout_cell`. This will be updated to point to the new root cell if the parent cell is removed. The caller retains ownership of this pointer.
- **Output**: Returns nothing. The function modifies the `lcroot` pointer if the parent cell is removed, and it frees the memory associated with the destroyed cell.
- **See also**: [`layout_destroy_cell`](layout.c.driver.md#layout_destroy_cell)  (Implementation)


---
### layout_resize_layout<!-- {{#callable_declaration:layout_resize_layout}} -->
Resizes a layout cell within a window.
- **Description**: This function is used to adjust the size of a specified layout cell in a window, either increasing or decreasing its dimensions based on the provided change value. It should be called when there is a need to modify the layout of panes within a window, such as during user interactions or programmatic adjustments. The function will ensure that the layout remains valid and will notify the system of any changes made to the window layout. It is important to ensure that the window and layout cell pointers are valid before calling this function.
- **Inputs**:
    - `w`: A pointer to the `window` structure representing the window containing the layout cell. Must not be null.
    - `lc`: A pointer to the `layout_cell` structure that needs to be resized. Must not be null.
    - `type`: An enumeration value of type `layout_type` indicating the direction of the layout (e.g., left-right or top-bottom). Valid values are defined in the `layout_type` enum.
    - `change`: An integer representing the amount to change the size of the layout cell. Positive values will increase the size, while negative values will decrease it.
    - `opposite`: An integer indicating the opposite direction for resizing. This is used to determine how the resizing affects adjacent cells.
- **Output**: None
- **See also**: [`layout_resize_layout`](layout.c.driver.md#layout_resize_layout)  (Implementation)


---
### layout_search_by_border<!-- {{#callable_declaration:layout_search_by_border}} -->
Searches for a layout cell by its border coordinates.
- **Description**: This function is used to locate a specific `layout_cell` based on the provided x and y coordinates. It should be called with a valid pointer to a `layout_cell` structure, which represents the parent cell containing other cells. The function will traverse the child cells and check if the given coordinates fall within any of their boundaries. If the coordinates are found within a child cell, the function will recursively search within that child cell. If the coordinates are outside the bounds of all child cells, it will return the last cell that was checked, or `NULL` if no suitable cell is found. It is important to ensure that the `layout_cell` pointer passed to the function is not null.
- **Inputs**:
    - `lc`: A pointer to a `layout_cell` structure representing the parent cell. Must not be null.
    - `x`: An unsigned integer representing the x-coordinate to search for. Valid values are non-negative integers.
    - `y`: An unsigned integer representing the y-coordinate to search for. Valid values are non-negative integers.
- **Output**: Returns a pointer to the `layout_cell` that contains the specified coordinates, or `NULL` if no such cell is found.
- **See also**: [`layout_search_by_border`](layout.c.driver.md#layout_search_by_border)  (Implementation)


---
### layout_set_size<!-- {{#callable_declaration:layout_set_size}} -->
Sets the size and offsets of a layout cell.
- **Description**: This function is used to define the size and position offsets of a `layout_cell`. It should be called when you need to update the dimensions of a layout cell, typically after creating or modifying the layout. The function does not perform any validation on the input values, so it is the caller's responsibility to ensure that the sizes and offsets are within acceptable ranges.
- **Inputs**:
    - `lc`: A pointer to a `layout_cell` structure that will be modified. Must not be null.
    - `sx`: The new width of the layout cell. Must be a positive integer.
    - `sy`: The new height of the layout cell. Must be a positive integer.
    - `xoff`: The horizontal offset of the layout cell. Can be any non-negative integer.
    - `yoff`: The vertical offset of the layout cell. Can be any non-negative integer.
- **Output**: None
- **See also**: [`layout_set_size`](layout.c.driver.md#layout_set_size)  (Implementation)


---
### layout_make_leaf<!-- {{#callable_declaration:layout_make_leaf}} -->
Creates a layout cell for a window pane.
- **Description**: This function is used to initialize a `layout_cell` structure for a specific `window_pane`. It should be called when setting up the layout for a window pane, ensuring that the layout cell is properly linked to the window pane. The function sets the type of the layout cell to `LAYOUT_WINDOWPANE` and initializes its cell list. It is important to ensure that the `layout_cell` and `window_pane` pointers passed to this function are valid and properly allocated.
- **Inputs**:
    - `lc`: A pointer to a `layout_cell` structure that will be initialized. Must not be null and should point to a valid memory location.
    - `wp`: A pointer to a `window_pane` structure that will be associated with the layout cell. Must not be null and should point to a valid memory location.
- **Output**: None
- **See also**: [`layout_make_leaf`](layout.c.driver.md#layout_make_leaf)  (Implementation)


---
### layout_make_node<!-- {{#callable_declaration:layout_make_node}} -->
Creates a layout node.
- **Description**: This function is used to create a new layout node of a specified type. It should be called when initializing a layout structure, and it is important to ensure that the layout type is valid. Specifically, the type must not be `LAYOUT_WINDOWPANE`, as this will result in an error. The function initializes the node's cell list and resets the associated window pane pointer.
- **Inputs**:
    - `lc`: A pointer to a `layout_cell` structure that will be initialized. This pointer must not be null.
    - `type`: An enumeration value of type `layout_type` that specifies the type of layout. Valid values are `LAYOUT_LEFTRIGHT` and `LAYOUT_TOPBOTTOM`. Passing `LAYOUT_WINDOWPANE` will trigger an error.
- **Output**: This function does not return a value and does not modify any inputs by reference.
- **See also**: [`layout_make_node`](layout.c.driver.md#layout_make_node)  (Implementation)


---
### layout_fix_offsets<!-- {{#callable_declaration:layout_fix_offsets}} -->
Fixes the offsets of layout cells in a window.
- **Description**: This function should be called when the layout of a window needs to be recalibrated, particularly after resizing or changing the layout. It initializes the offsets of the layout root cell to zero and then recursively adjusts the offsets of all child cells. It is important to ensure that the `window` structure passed to this function is valid and properly initialized, as passing a null or uninitialized pointer may lead to undefined behavior.
- **Inputs**:
    - `w`: A pointer to a `struct window` that represents the window whose layout offsets are to be fixed. This pointer must not be null and should point to a valid window structure.
- **Output**: None
- **See also**: [`layout_fix_offsets`](layout.c.driver.md#layout_fix_offsets)  (Implementation)


---
### layout_fix_panes<!-- {{#callable_declaration:layout_fix_panes}} -->
Adjusts the layout of panes in a window.
- **Description**: This function is used to fix the layout of panes within a specified window, ensuring that each pane is correctly positioned and sized according to the current layout settings. It should be called after any changes to the window's layout or when panes are added or removed. The function takes into account the visibility of scrollbars and the status of pane borders, adjusting the offsets and sizes of each pane accordingly. It is important to note that the 'skip' parameter allows the caller to exclude a specific pane from the layout adjustment, which can be useful when resizing or rearranging panes.
- **Inputs**:
    - `w`: A pointer to the `window` structure representing the window whose panes are to be adjusted. Must not be null.
    - `skip`: A pointer to the `window_pane` structure that should be skipped during the layout adjustment. Can be null if no pane should be skipped.
- **Output**: None
- **See also**: [`layout_fix_panes`](layout.c.driver.md#layout_fix_panes)  (Implementation)


---
### layout_resize_adjust<!-- {{#callable_declaration:layout_resize_adjust}} -->
Adjusts the size of a layout cell.
- **Description**: This function is used to modify the size of a specified layout cell within a window. It should be called when there is a need to resize a layout cell, either to accommodate a change in the window size or to adjust the layout dynamically. The function takes into account the type of layout and applies the size change accordingly. It is important to ensure that the layout cell and window are properly initialized before calling this function. The function handles both leaf cells and parent cells, recursively adjusting child cells as necessary.
- **Inputs**:
    - `w`: A pointer to the `window` structure that contains the layout cell. Must not be null.
    - `lc`: A pointer to the `layout_cell` structure that represents the cell to be resized. Must not be null.
    - `type`: An enumeration value of type `layout_type` that indicates the direction of the layout adjustment. Valid values are `LAYOUT_LEFTRIGHT`, `LAYOUT_TOPBOTTOM`, and `LAYOUT_WINDOWPANE`.
    - `change`: An integer representing the amount to change the size of the layout cell. Positive values increase the size, while negative values decrease it. The function will handle invalid values by clamping them to valid ranges as necessary.
- **Output**: None
- **See also**: [`layout_resize_adjust`](layout.c.driver.md#layout_resize_adjust)  (Implementation)


---
### layout_init<!-- {{#callable_declaration:layout_init}} -->
Initializes a layout for a window.
- **Description**: This function is used to set up the layout for a `window` and associate it with a `window_pane`. It should be called after the `window` has been created and before any operations that depend on the layout being established. The function creates a root layout cell, sets its size based on the dimensions of the window, and marks it as a leaf cell associated with the provided pane. It also ensures that the panes within the window are properly fixed in their layout.
- **Inputs**:
    - `w`: A pointer to a `struct window`. Must not be null. This structure represents the window for which the layout is being initialized.
    - `wp`: A pointer to a `struct window_pane`. Must not be null. This structure represents the pane that will be associated with the layout.
- **Output**: None
- **See also**: [`layout_init`](layout.c.driver.md#layout_init)  (Implementation)


---
### layout_free<!-- {{#callable_declaration:layout_free}} -->
Frees the layout associated with a window.
- **Description**: This function should be called when a window is no longer needed, to properly release any resources associated with its layout. It is important to ensure that the `window` structure passed to this function has been initialized and is valid. Calling this function on an uninitialized or null `window` may lead to undefined behavior.
- **Inputs**:
    - `w`: A pointer to a `struct window`. Must not be null and should point to a valid window structure that has been initialized.
- **Output**: None
- **See also**: [`layout_free`](layout.c.driver.md#layout_free)  (Implementation)


---
### layout_resize<!-- {{#callable_declaration:layout_resize}} -->
Resizes the layout of a window.
- **Description**: This function is used to adjust the size of a window's layout based on the specified dimensions. It should be called when the window size changes, ensuring that the layout fits within the new dimensions while respecting minimum size constraints. The function handles both horizontal and vertical adjustments, ensuring that the layout does not shrink below its minimum size. If the new size is smaller than the minimum, the function will adjust the layout proportionately to fit the new size.
- **Inputs**:
    - `w`: A pointer to a `struct window` that represents the window whose layout is to be resized. Must not be null.
    - `sx`: An unsigned integer representing the new width of the window. Must be greater than or equal to the minimum width defined by `WINDOW_MINIMUM`.
    - `sy`: An unsigned integer representing the new height of the window. Must be greater than or equal to the minimum height defined by `WINDOW_MINIMUM`.
- **Output**: None
- **See also**: [`layout_resize`](layout.c.driver.md#layout_resize)  (Implementation)


---
### layout_resize_pane<!-- {{#callable_declaration:layout_resize_pane}} -->
Resizes a pane in the layout.
- **Description**: This function is used to resize a specific pane within a layout. It should be called when there is a need to adjust the size of a pane, either to increase or decrease its dimensions. The function requires that the pane is part of a valid layout and that the layout type is specified correctly. If the specified pane is the last cell in its parent layout, it will adjust to the previous cell before resizing. The function does not return any value.
- **Inputs**:
    - `wp`: A pointer to the `window_pane` structure representing the pane to be resized. Must not be null.
    - `type`: An enumeration value of type `layout_type` that specifies the direction of the resize (e.g., horizontal or vertical). Must be a valid layout type.
    - `change`: An integer indicating the amount by which to resize the pane. This value can be positive or negative, depending on whether the pane should be enlarged or reduced.
    - `opposite`: An integer that may represent an opposite resizing action or dimension. Its specific use is determined by the context of the layout.
- **Output**: None
- **See also**: [`layout_resize_pane`](layout.c.driver.md#layout_resize_pane)  (Implementation)


---
### layout_resize_pane_to<!-- {{#callable_declaration:layout_resize_pane_to}} -->
Resizes a pane to a specified size.
- **Description**: This function is used to resize a specific pane within a window layout to a new size, defined by the `new_size` parameter. It must be called when the pane is part of a layout that supports resizing, and the layout type must match the type of the pane being resized. If the specified layout type does not match the pane's parent layout type, the function will return without making any changes. The function handles resizing by calculating the necessary adjustment based on the current size and the desired new size.
- **Inputs**:
    - `wp`: A pointer to the `window_pane` structure representing the pane to be resized. Must not be null.
    - `type`: An enumeration value of type `layout_type` that specifies the layout direction (e.g., `LAYOUT_LEFTRIGHT` or `LAYOUT_TOPBOTTOM`). Must be a valid layout type.
    - `new_size`: An unsigned integer representing the new size for the pane. Must be greater than or equal to the minimum pane size defined by `PANE_MINIMUM`.
- **Output**: None
- **See also**: [`layout_resize_pane_to`](layout.c.driver.md#layout_resize_pane_to)  (Implementation)


---
### layout_assign_pane<!-- {{#callable_declaration:layout_assign_pane}} -->
Assigns a `window_pane` to a `layout_cell`.
- **Description**: This function is used to assign a `window_pane` to a specific `layout_cell` in a layout structure. It should be called when you want to associate a pane with a layout cell, typically after the layout has been initialized. The `do_not_resize` parameter controls whether the layout should adjust the sizes of the panes after the assignment. If `do_not_resize` is set to a non-zero value, the function will not resize the panes, which may lead to layout inconsistencies if the sizes of the panes do not match the layout cell's dimensions.
- **Inputs**:
    - `lc`: A pointer to the `layout_cell` structure where the pane will be assigned. Must not be null.
    - `wp`: A pointer to the `window_pane` structure that is to be assigned to the layout cell. Must not be null.
    - `do_not_resize`: An integer flag that indicates whether to resize the panes after assignment. A value of 0 allows resizing, while any non-zero value prevents resizing.
- **Output**: None
- **See also**: [`layout_assign_pane`](layout.c.driver.md#layout_assign_pane)  (Implementation)


---
### layout_split_pane<!-- {{#callable_declaration:layout_split_pane}} -->
Splits a pane into two sub-panes.
- **Description**: This function is used to split an existing pane into two new panes, either horizontally or vertically, based on the specified layout type. It should be called when a pane is already created and is intended to adjust the layout dynamically. The function takes into account the current size of the pane and the requested size for the new pane, ensuring that the split is valid and does not exceed the minimum pane size. If the requested size is negative, the function will perform a middle split. The function may return `NULL` if there is insufficient space to perform the split.
- **Inputs**:
    - `wp`: A pointer to the `window_pane` structure representing the pane to be split. Must not be null.
    - `type`: An enumeration value of type `layout_type` that specifies the direction of the split. Valid values are `LAYOUT_LEFTRIGHT` and `LAYOUT_TOPBOTTOM`.
    - `size`: An integer representing the desired size of one of the new panes. If set to -1, a middle split will be performed. Must be greater than or equal to `PANE_MINIMUM`.
    - `flags`: An integer representing flags that modify the behavior of the split. Can include `SPAWN_FULLSIZE` to create a full-size pane.
- **Output**: Returns a pointer to the newly created `layout_cell` representing the new pane. If the split cannot be performed due to insufficient space, it returns `NULL`.
- **See also**: [`layout_split_pane`](layout.c.driver.md#layout_split_pane)  (Implementation)


---
### layout_close_pane<!-- {{#callable_declaration:layout_close_pane}} -->
Closes a pane in the window layout.
- **Description**: This function should be called to close a specific pane within a window's layout. It is important to ensure that the pane is valid and part of an active window. After closing the pane, the layout is adjusted accordingly, and any necessary notifications about the layout change are sent. This function does not return a value.
- **Inputs**:
    - `wp`: A pointer to a `struct window_pane` representing the pane to be closed. This pointer must not be null and must point to a valid pane that is part of an active window. If the pane is invalid or not part of the current layout, the behavior is undefined.
- **Output**: None
- **See also**: [`layout_close_pane`](layout.c.driver.md#layout_close_pane)  (Implementation)


---
### layout_spread_cell<!-- {{#callable_declaration:layout_spread_cell}} -->
Distributes the size of child cells within a layout cell.
- **Description**: This function is used to adjust the sizes of child layout cells within a parent layout cell, ensuring that they are spread evenly based on the available space. It should be called when there are multiple child cells to manage their layout effectively. The function checks the type of the parent layout (either left-right or top-bottom) and calculates the size available for distribution, taking into account any scrollbars or borders. If the number of child cells is less than or equal to one, or if the available size is insufficient, the function will return early without making any changes.
- **Inputs**:
    - `w`: A pointer to a `struct window`. Must not be null. This represents the window context in which the layout is being adjusted.
    - `parent`: A pointer to a `struct layout_cell`. Must not be null. This represents the parent layout cell containing the child cells that need to be resized.
- **Output**: Returns an integer indicating whether any changes were made to the sizes of the child cells (1 if changes were made, 0 if no changes were necessary).
- **See also**: [`layout_spread_cell`](layout.c.driver.md#layout_spread_cell)  (Implementation)


---
### layout_spread_out<!-- {{#callable_declaration:layout_spread_out}} -->
Spreads out the layout of a window pane.
- **Description**: This function is intended to be called when a window pane needs to adjust its layout to ensure that it is properly spread out within its parent layout. It should be invoked after the window pane has been initialized and is part of a layout. If the pane does not have a parent layout cell, the function will return immediately without making any changes. The function traverses up the layout hierarchy, attempting to spread out each parent cell until it either succeeds or reaches the top of the hierarchy.
- **Inputs**:
    - `wp`: A pointer to a `struct window_pane`. This parameter must not be null and should point to a valid window pane that is part of a layout. If the pane does not have a parent layout cell, the function will exit without performing any operations.
- **Output**: None
- **See also**: [`layout_spread_out`](layout.c.driver.md#layout_spread_out)  (Implementation)


---
### layout_dump<!-- {{#callable_declaration:layout_dump}} -->
Dumps the layout of a cell.
- **Description**: This function is used to generate a string representation of the layout starting from the specified root cell. It should be called when you need a textual representation of the layout for debugging or logging purposes. The function initializes a buffer to hold the layout data and appends the layout information to it. If the layout cannot be appended due to an error, the function will return `NULL`. The caller is responsible for freeing the returned string when it is no longer needed.
- **Inputs**:
    - `root`: A pointer to the root `layout_cell` structure from which the layout will be dumped. This parameter must not be null, and it is expected to point to a valid layout cell. If the provided pointer is null or invalid, the behavior of the function is undefined.
- **Output**: Returns a pointer to a dynamically allocated string containing the layout representation. If an error occurs during the layout generation, it returns `NULL`.
- **See also**: [`layout_dump`](layout-custom.c.driver.md#layout_dump)  (Implementation)


---
### layout_parse<!-- {{#callable_declaration:layout_parse}} -->
Parses a layout string and applies it to a window.
- **Description**: This function is used to parse a layout string that defines how panes are arranged within a window. It should be called when you need to set or change the layout of a window after it has been initialized. The layout string must conform to a specific format, and the function will validate this format before applying the layout. If the layout is invalid or if the window cannot accommodate the specified layout, an error message will be set in the `cause` parameter, and the function will return -1. It is important to ensure that the `window` structure is properly initialized before calling this function.
- **Inputs**:
    - `w`: A pointer to the `window` structure that will be modified. Must not be null.
    - `layout`: A string representing the layout configuration. It must be in a valid format; otherwise, an error will be reported.
    - `cause`: A pointer to a character pointer where error messages will be stored if the function fails. The caller retains ownership of the memory pointed to by this parameter.
- **Output**: Returns 0 on success, or -1 if an error occurs, in which case `cause` will point to an error message.
- **See also**: [`layout_parse`](layout-custom.c.driver.md#layout_parse)  (Implementation)


---
### layout_set_lookup<!-- {{#callable_declaration:layout_set_lookup}} -->
Looks up a layout set by name.
- **Description**: This function is used to find the index of a layout set based on its name. It should be called when you need to retrieve the index of a specific layout set for further operations. The input name must not be null and should point to a valid string. If the name matches exactly with a layout set, its index is returned. If there are multiple matches, -1 is returned to indicate ambiguity. If no matches are found, -1 is also returned.
- **Inputs**:
    - `name`: A pointer to a null-terminated string representing the name of the layout set to look up. Must not be null. If the name does not match any layout set, or if there are multiple matches, the function will return -1.
- **Output**: Returns the index of the layout set if found; otherwise, returns -1 if no match is found or if there is an ambiguous match.
- **See also**: [`layout_set_lookup`](layout-set.c.driver.md#layout_set_lookup)  (Implementation)


---
### layout_set_select<!-- {{#callable_declaration:layout_set_select}} -->
Sets the layout for a given window.
- **Description**: This function is used to set the layout of a specified window. It should be called when you want to change the layout of a window to a different predefined layout. The layout parameter must be a valid index corresponding to the available layout sets; if the provided index exceeds the available layouts, it will be clamped to the maximum valid index. The function will invoke the layout's arrange function if it is defined, passing the window structure to it. After setting the layout, the last layout index of the window is updated.
- **Inputs**:
    - `w`: A pointer to the `window` structure that represents the window whose layout is to be set. Must not be null.
    - `layout`: An unsigned integer representing the index of the layout to set. Valid values are from 0 to nitems(layout_sets) - 1. If the value exceeds this range, it will be clamped to the maximum valid index.
- **Output**: Returns the index of the layout that was set, which may be less than the input if it was clamped.
- **See also**: [`layout_set_select`](layout-set.c.driver.md#layout_set_select)  (Implementation)


---
### layout_set_next<!-- {{#callable_declaration:layout_set_next}} -->
Sets the next layout for a window.
- **Description**: This function is used to update the layout of a specified `window` by selecting the next layout in a predefined set of layouts. It should be called when a layout change is desired, typically after the window has been initialized. If the current layout is the last in the set, it wraps around to the first layout. The function also invokes the layout's arrange function if it is defined, allowing for any necessary updates to the window's display.
- **Inputs**:
    - `w`: A pointer to a `struct window`. This parameter must not be null and should point to a valid window structure. The function expects that the window has been properly initialized and has a valid `lastlayout` value.
- **Output**: Returns the index of the newly set layout, which is an unsigned integer. If the layout was successfully updated, this value will indicate the new layout index.
- **See also**: [`layout_set_next`](layout-set.c.driver.md#layout_set_next)  (Implementation)


---
### layout_set_previous<!-- {{#callable_declaration:layout_set_previous}} -->
Sets the previous layout for a window.
- **Description**: This function is used to change the layout of a window to the previous layout in the sequence. It should be called when you want to revert to the last used layout, typically in response to user input or a layout change event. The function handles edge cases, such as when there is no previous layout set, by wrapping around to the last layout in the list. It is important to ensure that the `struct window` pointer passed to this function is valid and properly initialized.
- **Inputs**:
    - `w`: A pointer to a `struct window`. This must not be null and should point to a valid window structure. The function expects that the window has been initialized and has a valid `lastlayout` value.
- **Output**: Returns the index of the new layout that has been set for the window. This index corresponds to the layout that was previously active.
- **See also**: [`layout_set_previous`](layout-set.c.driver.md#layout_set_previous)  (Implementation)


---
### mode_tree_count_tagged<!-- {{#callable_declaration:mode_tree_count_tagged}} -->
Counts the number of tagged items in a mode tree.
- **Description**: This function is used to determine how many items in a given mode tree are marked as tagged. It should be called with a valid `mode_tree_data` structure that has been properly initialized. The function iterates through the items in the mode tree and counts those that are tagged. If the provided `mode_tree_data` pointer is null or invalid, the behavior is undefined.
- **Inputs**:
    - `mtd`: A pointer to a `mode_tree_data` structure representing the mode tree. This pointer must not be null and should point to a valid structure that has been initialized. If the pointer is null, the function's behavior is undefined.
- **Output**: Returns an unsigned integer representing the count of tagged items in the mode tree. If there are no tagged items, the function will return 0.
- **See also**: [`mode_tree_count_tagged`](mode-tree.c.driver.md#mode_tree_count_tagged)  (Implementation)


---
### mode_tree_get_current<!-- {{#callable_declaration:mode_tree_get_current}} -->
Retrieves the current item data from the mode tree.
- **Description**: This function is used to access the data of the currently selected item in a mode tree. It should be called after the mode tree has been properly initialized and populated with items. If the mode tree is empty or if the current index is out of bounds, the behavior is undefined, so it is important to ensure that the mode tree contains items before calling this function.
- **Inputs**:
    - `mtd`: A pointer to a `struct mode_tree_data` that represents the mode tree. This pointer must not be null and should point to a valid mode tree structure that has been initialized and populated with items.
- **Output**: Returns a pointer to the data of the current item in the mode tree. If the current item is invalid or the mode tree is empty, the return value is undefined.
- **See also**: [`mode_tree_get_current`](mode-tree.c.driver.md#mode_tree_get_current)  (Implementation)


---
### mode_tree_get_current_name<!-- {{#callable_declaration:mode_tree_get_current_name}} -->
Retrieves the name of the current mode in the mode tree.
- **Description**: This function is used to obtain the name of the currently selected mode within a mode tree. It should be called when the mode tree has been properly initialized and a mode is currently selected. If the mode tree is empty or if the current index is out of bounds, the behavior is undefined, so it is important to ensure that the mode tree is populated and the current index is valid before calling this function.
- **Inputs**:
    - `mtd`: A pointer to a `struct mode_tree_data` that represents the mode tree. This pointer must not be null, and it should point to a valid mode tree structure that has been initialized and populated with modes.
- **Output**: Returns a pointer to a string containing the name of the current mode. The returned string is managed by the mode tree and should not be freed by the caller.
- **See also**: [`mode_tree_get_current_name`](mode-tree.c.driver.md#mode_tree_get_current_name)  (Implementation)


---
### mode_tree_expand_current<!-- {{#callable_declaration:mode_tree_expand_current}} -->
Expands the currently selected item in the mode tree.
- **Description**: This function should be called when the user wants to expand the currently selected item in the mode tree. It checks if the current item is already expanded; if not, it sets the expanded state to true and triggers a rebuild of the mode tree. This function assumes that the `mode_tree_data` structure has been properly initialized and that the `current` index points to a valid item within the `line_list`.
- **Inputs**:
    - `mtd`: A pointer to a `struct mode_tree_data`. This structure must not be null and should be properly initialized before calling this function. The `current` index within this structure must point to a valid item in the `line_list`.
- **Output**: None
- **See also**: [`mode_tree_expand_current`](mode-tree.c.driver.md#mode_tree_expand_current)  (Implementation)


---
### mode_tree_collapse_current<!-- {{#callable_declaration:mode_tree_collapse_current}} -->
Collapses the currently expanded item in the mode tree.
- **Description**: This function is used to collapse the currently expanded item in a mode tree, which is represented by the `mode_tree_data` structure. It should be called when the user wants to hide the details of the current item. The function checks if the current item is expanded before collapsing it. If the item is already collapsed, the function has no effect. It is important to ensure that the `mode_tree_data` structure is properly initialized before calling this function.
- **Inputs**:
    - `mtd`: A pointer to a `mode_tree_data` structure that represents the mode tree. This parameter must not be null and should point to a valid mode tree data structure. If the pointer is null or invalid, the behavior of the function is undefined.
- **Output**: The function does not return a value and does not mutate any inputs directly. However, it may modify the internal state of the `mode_tree_data` structure by collapsing the current item.
- **See also**: [`mode_tree_collapse_current`](mode-tree.c.driver.md#mode_tree_collapse_current)  (Implementation)


---
### mode_tree_expand<!-- {{#callable_declaration:mode_tree_expand}} -->
Expands a mode tree item.
- **Description**: This function is used to expand a specific item in a mode tree, identified by its `tag`. It should be called when you want to reveal additional details or options associated with that item. Before calling this function, ensure that the `mode_tree_data` structure has been properly initialized. If the specified `tag` does not correspond to an existing item, the function will simply return without making any changes. If the item is already expanded, no further action will be taken.
- **Inputs**:
    - `mtd`: A pointer to a `struct mode_tree_data` that contains the mode tree. Must not be null.
    - `tag`: A 64-bit unsigned integer representing the identifier of the item to expand. Valid values depend on the specific implementation of the mode tree.
- **Output**: None
- **See also**: [`mode_tree_expand`](mode-tree.c.driver.md#mode_tree_expand)  (Implementation)


---
### mode_tree_set_current<!-- {{#callable_declaration:mode_tree_set_current}} -->
Sets the current mode tree item based on the provided tag.
- **Description**: This function is used to set the current item in a mode tree, which is a data structure that organizes items in a hierarchical manner. It should be called when you need to change the current selection based on a specific tag. The function first attempts to find the item associated with the given tag; if found, it updates the current index and adjusts the offset accordingly. If the tag is not found, it ensures that the current index does not exceed the line size, clamping it if necessary. It is important to ensure that the `mode_tree_data` structure is properly initialized before calling this function.
- **Inputs**:
    - `mtd`: A pointer to a `mode_tree_data` structure that holds the state of the mode tree. Must not be null.
    - `tag`: A 64-bit unsigned integer representing the tag of the item to set as current. Valid values depend on the items present in the mode tree.
- **Output**: Returns 1 if the current item was successfully set based on the tag, or 0 if the tag was not found and the current index was clamped.
- **See also**: [`mode_tree_set_current`](mode-tree.c.driver.md#mode_tree_set_current)  (Implementation)


---
### mode_tree_each_tagged<!-- {{#callable_declaration:mode_tree_each_tagged}} -->
Iterates over tagged items in a mode tree.
- **Description**: This function is used to apply a callback function to each tagged item in a mode tree. It should be called when you want to process all items that have been marked as tagged. If no tagged items are found, and the 'current' parameter is set to true, the callback will be invoked on the currently selected item. The function assumes that the mode tree data structure has been properly initialized before calling this function.
- **Inputs**:
    - `mtd`: A pointer to a `struct mode_tree_data` that contains the mode tree to iterate over. Must not be null.
    - `cb`: A callback function of type `mode_tree_each_cb` that will be called for each tagged item. Must not be null.
    - `c`: A pointer to a `struct client` representing the client context. Must not be null.
    - `key`: A `key_code` representing the key associated with the callback. Valid values depend on the key definitions.
    - `current`: An integer flag indicating whether to invoke the callback on the current item if no tagged items are found. Valid values are 0 (false) or 1 (true).
- **Output**: None
- **See also**: [`mode_tree_each_tagged`](mode-tree.c.driver.md#mode_tree_each_tagged)  (Implementation)


---
### mode_tree_up<!-- {{#callable_declaration:mode_tree_up}} -->
Moves the current position up in the mode tree.
- **Description**: This function is used to navigate upwards in a mode tree structure. It should be called when the user wants to move to the previous item in the tree. If the current position is at the top (index 0), and the `wrap` parameter is set to a non-zero value, the function will wrap around to the last item in the tree. The function also adjusts the offset if the current position moves above the visible area.
- **Inputs**:
    - `mtd`: A pointer to a `struct mode_tree_data` that contains the current state of the mode tree. Must not be null.
    - `wrap`: An integer that indicates whether to wrap around to the last item when at the top of the tree. Valid values are 0 (no wrap) and 1 (wrap).
- **Output**: None
- **See also**: [`mode_tree_up`](mode-tree.c.driver.md#mode_tree_up)  (Implementation)


---
### mode_tree_down<!-- {{#callable_declaration:mode_tree_down}} -->
Moves the current position down in the mode tree.
- **Description**: This function is used to navigate downwards in a mode tree structure. It should be called when the user intends to move to the next item in the tree. If the current position is at the last item and the `wrap` parameter is set to true, the function will wrap around to the first item. If `wrap` is false, the function will not move down and will return 0. The function modifies the `current` index of the `mode_tree_data` structure and may also adjust the `offset` if the new current index exceeds the visible height of the tree.
- **Inputs**:
    - `mtd`: A pointer to a `mode_tree_data` structure that holds the current state of the mode tree. Must not be null.
    - `wrap`: An integer that indicates whether to wrap around to the first item when the end of the tree is reached. Valid values are 0 (no wrap) and 1 (wrap).
- **Output**: Returns 1 if the move was successful, or 0 if the move was not made due to reaching the end of the tree without wrapping.
- **See also**: [`mode_tree_down`](mode-tree.c.driver.md#mode_tree_down)  (Implementation)


---
### mode_tree_start<!-- {{#callable_declaration:mode_tree_start}} -->
Starts a mode tree.
- **Description**: This function initializes a mode tree for a specified `window_pane`, allowing for various callbacks to handle building, drawing, searching, and managing the mode tree. It should be called when setting up a new mode tree, and it requires a valid `window_pane` and `args` structure. The function also accepts several callback functions that define how the mode tree behaves in response to user interactions. The `sort_list` and `menu` parameters allow for customization of the mode tree's sorting and menu options. It is important to ensure that the provided callbacks are valid and that the `sort_list` matches the expected criteria.
- **Inputs**:
    - `wp`: A pointer to a `window_pane` structure. Must not be null.
    - `args`: A pointer to an `args` structure containing command-line arguments. Must not be null.
    - `buildcb`: A callback function for building the mode tree. Must not be null.
    - `drawcb`: A callback function for drawing the mode tree. Must not be null.
    - `searchcb`: A callback function for searching within the mode tree. Must not be null.
    - `menucb`: A callback function for handling menu interactions. Must not be null.
    - `heightcb`: A callback function for determining the height of the mode tree. Must not be null.
    - `keycb`: A callback function for handling key events. Must not be null.
    - `swapcb`: A callback function for swapping items in the mode tree. Must not be null.
    - `modedata`: A pointer to user-defined data that can be passed to the callbacks. Can be null.
    - `menu`: A pointer to a `menu_item` structure for menu options. Can be null.
    - `sort_list`: An array of strings defining the sorting criteria. Must not be null.
    - `sort_size`: The size of the `sort_list` array. Must be greater than 0.
    - `s`: A pointer to a pointer to a `screen` structure where the initialized screen will be stored. Must not be null.
- **Output**: Returns a pointer to a `mode_tree_data` structure representing the initialized mode tree. This structure can be used to manage the mode tree's state and behavior.
- **See also**: [`mode_tree_start`](mode-tree.c.driver.md#mode_tree_start)  (Implementation)


---
### mode_tree_zoom<!-- {{#callable_declaration:mode_tree_zoom}} -->
Zooms the mode tree if the appropriate argument is provided.
- **Description**: This function is intended to be called when a zoom action is requested for the mode tree. It checks if the 'Z' argument is present in the provided `args`. If it is, the function determines if the associated window pane is currently zoomed. If the pane is not zoomed, it attempts to zoom the window pane and triggers a redraw of the window if the zoom operation is successful. If the 'Z' argument is not present, it sets the zoomed state to -1, indicating no zoom action.
- **Inputs**:
    - `mtd`: A pointer to a `mode_tree_data` structure that contains the state and context for the mode tree. Must not be null.
    - `args`: A pointer to an `args` structure that contains the command-line arguments. Must not be null. The function checks for the presence of the 'Z' argument to determine if a zoom action should be performed.
- **Output**: None
- **See also**: [`mode_tree_zoom`](mode-tree.c.driver.md#mode_tree_zoom)  (Implementation)


---
### mode_tree_build<!-- {{#callable_declaration:mode_tree_build}} -->
Builds a mode tree.
- **Description**: This function is used to construct a mode tree based on the provided `mode_tree_data` structure. It should be called after the `mode_tree_data` has been properly initialized. The function processes the current state of the mode tree, including any existing children and saved items, and invokes a callback to build the tree based on specified criteria. It also handles cases where there are no matches found, and resets the tree's dimensions based on the current screen size. Be aware that this function may modify the state of the `mode_tree_data` structure, including its height and width.
- **Inputs**:
    - `mtd`: A pointer to a `mode_tree_data` structure that contains the necessary data for building the mode tree. This pointer must not be null and should point to a valid structure that has been initialized prior to calling this function.
- **Output**: This function does not return a value and does not mutate any inputs directly. It modifies the state of the `mode_tree_data` structure based on the building process.
- **See also**: [`mode_tree_build`](mode-tree.c.driver.md#mode_tree_build)  (Implementation)


---
### mode_tree_free<!-- {{#callable_declaration:mode_tree_free}} -->
Frees the resources associated with a mode tree.
- **Description**: This function should be called to release all resources associated with a `mode_tree_data` structure when it is no longer needed. It is important to ensure that the `mode_tree_data` has been properly initialized before calling this function. The function handles the cleanup of various components, including freeing memory allocated for search and filter strings, and marking the mode tree as dead. If the mode tree is currently zoomed, it will unzoom the associated window before proceeding with the cleanup.
- **Inputs**:
    - `mtd`: A pointer to a `mode_tree_data` structure that must not be null. This structure should have been previously initialized and allocated. The function will free all associated resources, and the caller should not use the `mode_tree_data` after this function is called.
- **Output**: None
- **See also**: [`mode_tree_free`](mode-tree.c.driver.md#mode_tree_free)  (Implementation)


---
### mode_tree_resize<!-- {{#callable_declaration:mode_tree_resize}} -->
Resizes the mode tree.
- **Description**: This function is used to resize the mode tree displayed in a terminal interface. It should be called when the dimensions of the terminal change, such as during a window resize event. The function updates the screen size and redraws the mode tree to reflect the new dimensions. It is important to ensure that the `mode_tree_data` structure is properly initialized before calling this function.
- **Inputs**:
    - `mtd`: A pointer to a `struct mode_tree_data` that contains the current state of the mode tree. Must not be null.
    - `sx`: An unsigned integer representing the new width of the mode tree. Must be greater than or equal to 1.
    - `sy`: An unsigned integer representing the new height of the mode tree. Must be greater than or equal to 1.
- **Output**: None
- **See also**: [`mode_tree_resize`](mode-tree.c.driver.md#mode_tree_resize)  (Implementation)


---
### mode_tree_add<!-- {{#callable_declaration:mode_tree_add}} -->
Adds a new item to the mode tree.
- **Description**: This function is used to add a new item to a mode tree structure, which is typically used for managing hierarchical data. It should be called with a valid `mode_tree_data` structure that has been initialized. The `parent` parameter can be set to `NULL` if the new item is to be added at the root level. The `itemdata` parameter allows for custom data to be associated with the new item, while `tag`, `name`, and `text` provide identifying and descriptive information. The `expanded` parameter controls whether the item is initially expanded or collapsed. If the `expanded` value is -1, the function will determine the expanded state based on previously saved settings. It is important to ensure that `name` and `text` are valid strings, as they will be duplicated within the new item.
- **Inputs**:
    - `mtd`: A pointer to a `mode_tree_data` structure that must be initialized before calling this function. Must not be null.
    - `parent`: A pointer to the parent `mode_tree_item`. Can be null if the item is to be added at the root level.
    - `itemdata`: A pointer to custom data associated with the new item. Can be null if no data is needed.
    - `tag`: A unique identifier for the item, represented as a `uint64_t`. Must be a valid non-negative value.
    - `name`: A string representing the name of the item. Must not be null and should be a valid string.
    - `text`: A string providing additional text for the item. Can be null if no text is needed.
    - `expanded`: An integer indicating the initial expanded state of the item. Use 1 for expanded, 0 for collapsed, or -1 to determine based on saved settings.
- **Output**: Returns a pointer to the newly created `mode_tree_item`. If the function fails to allocate memory, it may return null.
- **See also**: [`mode_tree_add`](mode-tree.c.driver.md#mode_tree_add)  (Implementation)


---
### mode_tree_draw_as_parent<!-- {{#callable_declaration:mode_tree_draw_as_parent}} -->
Sets the mode tree item to be drawn as a parent.
- **Description**: This function is used to modify the drawing behavior of a `mode_tree_item` by marking it to be rendered as a parent node. It should be called when you want to visually represent a node in a hierarchical structure as a parent, which may affect how it is displayed in the user interface. Ensure that the `mode_tree_item` pointer passed to this function is valid and points to an initialized item; otherwise, the behavior is undefined.
- **Inputs**:
    - `mti`: A pointer to a `mode_tree_item` structure that represents the item to be modified. This pointer must not be null and should point to a valid, initialized `mode_tree_item`. Passing a null pointer or an uninitialized item may lead to undefined behavior.
- **Output**: None
- **See also**: [`mode_tree_draw_as_parent`](mode-tree.c.driver.md#mode_tree_draw_as_parent)  (Implementation)


---
### mode_tree_no_tag<!-- {{#callable_declaration:mode_tree_no_tag}} -->
Sets the no_tag property of a mode tree item.
- **Description**: This function is used to mark a `mode_tree_item` as not having a tag. It should be called when you want to indicate that the item should be treated as if it does not have an associated tag. The function modifies the `no_tag` property of the provided `mode_tree_item` structure to 1, effectively setting it to true. Ensure that the `mode_tree_item` pointer passed to this function is valid and points to an initialized structure.
- **Inputs**:
    - `mti`: A pointer to a `mode_tree_item` structure. This pointer must not be null and should point to a valid, initialized `mode_tree_item`. The function does not take ownership of the pointer, and it is the caller's responsibility to ensure the validity of the pointer.
- **Output**: None
- **See also**: [`mode_tree_no_tag`](mode-tree.c.driver.md#mode_tree_no_tag)  (Implementation)


---
### mode_tree_align<!-- {{#callable_declaration:mode_tree_align}} -->
Sets the alignment for a mode tree item.
- **Description**: This function is used to specify the alignment of a `mode_tree_item`. It should be called when you need to adjust the alignment property of the item, typically after the item has been created. The alignment value is directly assigned to the `align` field of the `mode_tree_item` structure. Ensure that the `mode_tree_item` pointer passed to this function is valid and properly initialized.
- **Inputs**:
    - `mti`: A pointer to a `mode_tree_item` structure that must not be null. This structure should be properly initialized before calling the function.
    - `align`: An integer representing the alignment value to set. The valid range for this value is not specified, but it should be a reasonable integer that the application logic can handle.
- **Output**: None
- **See also**: [`mode_tree_align`](mode-tree.c.driver.md#mode_tree_align)  (Implementation)


---
### mode_tree_remove<!-- {{#callable_declaration:mode_tree_remove}} -->
Removes an item from the mode tree.
- **Description**: This function is used to remove a specified item from a mode tree. It should be called when the item is no longer needed, ensuring that the item is properly detached from its parent if it exists. If the item is the root of the tree, it will be removed from the main tree structure. The function also handles the deallocation of the item, so the caller does not need to manage its memory after this call.
- **Inputs**:
    - `mtd`: A pointer to the `mode_tree_data` structure representing the mode tree. Must not be null.
    - `mti`: A pointer to the `mode_tree_item` to be removed. Must not be null. If the item is not part of the tree, the behavior is undefined.
- **Output**: None
- **See also**: [`mode_tree_remove`](mode-tree.c.driver.md#mode_tree_remove)  (Implementation)


---
### mode_tree_draw<!-- {{#callable_declaration:mode_tree_draw}} -->
Draws the mode tree on the specified screen.
- **Description**: This function is used to render a mode tree structure onto a screen associated with a window pane. It should be called after the mode tree data has been properly initialized and populated. The function handles the drawing of each item in the mode tree, including their alignment and visual representation based on their state (expanded, collapsed, tagged, etc.). It also manages the cursor position and screen updates, ensuring that the display reflects the current state of the mode tree. If the mode tree is empty, the function will return immediately without performing any drawing.
- **Inputs**:
    - `mtd`: A pointer to a `struct mode_tree_data` that contains the information needed to draw the mode tree. This structure must be valid and initialized before calling the function. It must not be null.
- **Output**: None
- **See also**: [`mode_tree_draw`](mode-tree.c.driver.md#mode_tree_draw)  (Implementation)


---
### mode_tree_key<!-- {{#callable_declaration:mode_tree_key}} -->
Processes key and mouse events for a mode tree.
- **Description**: This function is intended to handle user input in the context of a mode tree, which is a structured representation of options or commands. It should be called when a key or mouse event occurs, allowing the user to navigate, select, or manipulate items within the mode tree. Preconditions include having a valid `mode_tree_data` structure and a `client` instance. The function modifies the `key` parameter based on the input event and may update the `xp` and `yp` parameters with mouse coordinates. If the input is invalid or out of bounds, the function will set the `key` to `KEYC_NONE`.
- **Inputs**:
    - `mtd`: Pointer to a `mode_tree_data` structure representing the current state of the mode tree. Must not be null.
    - `c`: Pointer to a `client` structure representing the user session. Must not be null.
    - `key`: Pointer to a `key_code` representing the key or mouse event. Must not be null. The function may modify this value based on the event.
    - `m`: Pointer to a `mouse_event` structure containing mouse event details. Can be null if the event is not mouse-related.
    - `xp`: Pointer to a `u_int` where the x-coordinate of the mouse event will be stored. Can be null if not needed.
    - `yp`: Pointer to a `u_int` where the y-coordinate of the mouse event will be stored. Can be null if not needed.
- **Output**: Returns 0 on success, 1 if the input indicates a termination command (like 'q' or Escape), and modifies the `key` parameter to reflect the result of the input processing.
- **See also**: [`mode_tree_key`](mode-tree.c.driver.md#mode_tree_key)  (Implementation)


---
### mode_tree_run_command<!-- {{#callable_declaration:mode_tree_run_command}} -->
Executes a command based on a template and a name.
- **Description**: This function is used to run a command that is generated from a template string and a name. It should be called when you need to execute a command that requires dynamic substitution of values in the template. The function expects that the `client` and `cmd_find_state` structures are properly initialized before calling. If the command generated from the template is empty or null, the function will not execute any command. If there is an error during command parsing, an error message will be set for the client.
- **Inputs**:
    - `c`: A pointer to a `client` structure representing the client that will execute the command. Must not be null.
    - `fs`: A pointer to a `cmd_find_state` structure that holds the state for command finding. Must not be null.
    - `template`: A string representing the command template. Must not be null and should be a valid format string.
    - `name`: A string that will be used to replace placeholders in the template. Must not be null.
- **Output**: Returns nothing. If the command is successfully parsed and executed, it will affect the state of the client. If there is an error during parsing, an error message will be set for the client.
- **See also**: [`mode_tree_run_command`](mode-tree.c.driver.md#mode_tree_run_command)  (Implementation)


---
### window_copy_scroll<!-- {{#callable_declaration:window_copy_scroll}} -->
Copies the scroll position in a window pane.
- **Description**: This function is used to copy the scroll position of a specified `window_pane`. It should be called when the window pane is in a mode that allows scrolling, such as copy mode. The function checks if the pane has an active mode before proceeding with the scroll operation. If the pane is not in a valid mode, the function will not perform any action.
- **Inputs**:
    - `wp`: A pointer to a `window_pane` structure representing the pane whose scroll position is to be copied. Must not be null.
    - `sl_mpos`: An integer representing the scroll position to set. Valid values depend on the pane's content and current scroll state.
    - `my`: An unsigned integer representing the current position in the pane. Must be within the bounds of the pane's content.
    - `scroll_exit`: An integer indicating the exit behavior after scrolling. The specific values and their meanings should be defined in the context of the application.
- **Output**: None
- **See also**: [`window_copy_scroll`](window-copy.c.driver.md#window_copy_scroll)  (Implementation)


---
### window_copy_pageup<!-- {{#callable_declaration:window_copy_pageup}} -->
Copies the content of the window pane up by a specified number of lines.
- **Description**: This function is used to scroll the content of a `window_pane` upwards by a specified number of lines, effectively allowing the user to view previous content. It should be called when the pane is in a suitable mode that supports scrolling. The `half_page` parameter determines how many lines to scroll; it is expected to be a positive integer. If the `window_pane` is not in a valid state for scrolling, the function may not perform any action.
- **Inputs**:
    - `wp`: A pointer to a `window_pane` structure representing the pane to be scrolled. Must not be null.
    - `half_page`: An integer indicating the number of lines to scroll up. Must be a positive integer.
- **Output**: None
- **See also**: [`window_copy_pageup`](window-copy.c.driver.md#window_copy_pageup)  (Implementation)


---
### window_copy_pagedown<!-- {{#callable_declaration:window_copy_pagedown}} -->
Copies the content of a window pane down by a specified amount.
- **Description**: This function is used to scroll the content of a specified `window_pane` downwards by a given number of lines or half pages. It is typically called when the user wants to navigate through the content displayed in the pane. The `half_page` parameter determines whether to scroll by a full page or half a page, while the `scroll_exit` parameter indicates whether to exit scroll mode after the operation. It is important to ensure that the `window_pane` is valid and properly initialized before calling this function.
- **Inputs**:
    - `wp`: A pointer to a `window_pane` structure representing the pane to be scrolled. Must not be null.
    - `half_page`: An integer indicating the number of lines to scroll down. Valid values are typically positive integers, where a value of 1 indicates scrolling down by half a page, and higher values indicate scrolling down by more lines.
    - `scroll_exit`: An integer that indicates whether to exit scroll mode after the operation. This is typically a boolean value (0 or 1), where 1 indicates that scroll mode should be exited.
- **Output**: None
- **See also**: [`window_copy_pagedown`](window-copy.c.driver.md#window_copy_pagedown)  (Implementation)


---
### window_copy_start_drag<!-- {{#callable_declaration:window_copy_start_drag}} -->
Starts a drag operation in copy mode.
- **Description**: This function is intended to initiate a drag operation in copy mode when the user interacts with the mouse. It should be called when a mouse event is detected, specifically when the user clicks and drags within a window pane that supports copy mode. Preconditions include that the `client` and `mouse_event` parameters must not be null, and the function should only be called when the window pane is in copy or view mode. If the mouse event does not correspond to a valid pane or if the coordinates are outside the selection range, the function will not perform any action.
- **Inputs**:
    - `c`: A pointer to the `client` structure representing the client that initiated the drag. Must not be null.
    - `m`: A pointer to the `mouse_event` structure containing details about the mouse event. Must not be null.
- **Output**: None
- **See also**: [`window_copy_start_drag`](window-copy.c.driver.md#window_copy_start_drag)  (Implementation)


---
### window_copy_get_word<!-- {{#callable_declaration:window_copy_get_word}} -->
Retrieves a word from the specified position in a window pane.
- **Description**: This function is used to extract a word from a specific position in a window pane's grid. It should be called when the window pane is in copy mode, and the coordinates provided must be valid within the bounds of the grid. The function calculates the correct position based on the provided offsets and returns a pointer to the word found at that location. If the coordinates are out of bounds, the behavior is undefined.
- **Inputs**:
    - `wp`: A pointer to a `struct window_pane`. This must not be null and should point to a valid window pane that is currently in copy mode.
    - `x`: An unsigned integer representing the x-coordinate in the grid from which to retrieve the word. This value must be within the width of the grid.
    - `y`: An unsigned integer representing the y-coordinate in the grid from which to retrieve the word. This value must be within the height of the grid.
- **Output**: Returns a pointer to a string containing the word found at the specified coordinates. The caller is responsible for managing the memory of the returned string.
- **See also**: [`window_copy_get_word`](window-copy.c.driver.md#window_copy_get_word)  (Implementation)


---
### window_copy_get_line<!-- {{#callable_declaration:window_copy_get_line}} -->
Retrieves a specific line from a window pane.
- **Description**: This function is used to obtain a line of text from a specified window pane at a given vertical position. It should be called when the window pane is in a copy mode, and the line index must be within the bounds of the pane's content. If the specified line index exceeds the available lines, the behavior is undefined.
- **Inputs**:
    - `wp`: A pointer to a `struct window_pane` representing the target window pane. Must not be null.
    - `y`: An unsigned integer representing the vertical line index to retrieve. Valid values are from 0 to the number of lines in the pane minus one.
- **Output**: Returns a pointer to a string containing the specified line of text. The caller is responsible for managing the memory of the returned string.
- **See also**: [`window_copy_get_line`](window-copy.c.driver.md#window_copy_get_line)  (Implementation)


---
### window_copy_get_current_offset<!-- {{#callable_declaration:window_copy_get_current_offset}} -->
Retrieves the current offset and size of the copy buffer.
- **Description**: This function is used to obtain the current offset and size of the copy buffer associated with a specified window pane. It should be called when the copy mode is active, and it will return the offset from the top of the screen to the current position in the copy buffer, as well as the total size of the buffer. If the window pane does not have any associated copy mode data, the function will return 0 and the output parameters will remain unchanged.
- **Inputs**:
    - `wp`: A pointer to a `struct window_pane` representing the window pane from which to retrieve the copy buffer information. Must not be null.
    - `offset`: A pointer to a `u_int` where the current offset will be stored. The caller retains ownership of this pointer.
    - `size`: A pointer to a `u_int` where the size of the copy buffer will be stored. The caller retains ownership of this pointer.
- **Output**: Returns 1 on success, indicating that the offset and size have been successfully retrieved. Returns 0 if there is no copy mode data associated with the window pane.
- **See also**: [`window_copy_get_current_offset`](window-copy.c.driver.md#window_copy_get_current_offset)  (Implementation)


---
### window_copy_get_hyperlink<!-- {{#callable_declaration:window_copy_get_hyperlink}} -->
Retrieves a hyperlink from the specified coordinates.
- **Description**: This function is used to obtain a hyperlink from a specific position within a `window_pane`. It should be called when the pane is in copy mode, and the coordinates provided must be valid within the pane's grid. If the coordinates are out of bounds, the behavior is undefined, and the function may return a null pointer.
- **Inputs**:
    - `wp`: A pointer to a `window_pane` structure. Must not be null.
    - `x`: The x-coordinate within the pane's grid. Must be within the grid's width.
    - `y`: The y-coordinate within the pane's grid. Must be within the grid's height.
- **Output**: Returns a pointer to a string containing the hyperlink if found, or null if no hyperlink exists at the specified coordinates.
- **See also**: [`window_copy_get_hyperlink`](window-copy.c.driver.md#window_copy_get_hyperlink)  (Implementation)


---
### check_window_name<!-- {{#callable_declaration:check_window_name}} -->
Checks and updates the name of a window based on its active pane.
- **Description**: This function should be called to refresh the name of a window when the active pane has changed, provided that automatic renaming is enabled in the window's options. It checks if the active pane has been modified and, if so, updates the window's name accordingly. If the name has changed, it triggers a redraw of the window borders and updates the status line. The function does not perform any action if the window is not active or if automatic renaming is disabled.
- **Inputs**:
    - `w`: A pointer to a `struct window`. Must not be null. The function expects this structure to represent a valid window with an active pane.
- **Output**: None
- **See also**: [`check_window_name`](names.c.driver.md#check_window_name)  (Implementation)


---
### default_window_name<!-- {{#callable_declaration:default_window_name}} -->
Returns the default name for a window.
- **Description**: This function retrieves the default name for a given `window` structure. It should be called when you need to obtain a name for a window that is currently active. If the `active` pane of the window is `NULL`, an empty string is returned. Otherwise, it attempts to create a command string from the active pane's arguments and parses it to generate the window name. If the command string is empty, it falls back to using the shell associated with the active pane.
- **Inputs**:
    - `w`: A pointer to a `struct window`. Must not be null. If the `active` field of the window is null, an empty string is returned.
- **Output**: Returns a pointer to a string containing the default window name. The caller is responsible for freeing the returned string.
- **See also**: [`default_window_name`](names.c.driver.md#default_window_name)  (Implementation)


---
### parse_window_name<!-- {{#callable_declaration:parse_window_name}} -->
Parses a window name from a given input string.
- **Description**: This function is used to extract and format a window name from a provided input string. It is particularly useful when the input may contain additional formatting characters, such as quotes or command prefixes. The function should be called with a valid input string that represents a window name. It handles various edge cases, such as leading spaces, command prefixes like 'exec', and trailing non-alphanumeric characters. The resulting name is dynamically allocated, and the caller is responsible for freeing the memory when it is no longer needed.
- **Inputs**:
    - `in`: A pointer to a null-terminated string containing the input window name. This string must not be null and should be properly formatted. If the input is invalid or does not conform to expected formats, the function will still attempt to return a valid window name, but the result may be altered or truncated.
- **Output**: Returns a pointer to a newly allocated string containing the parsed window name. The caller must free this string when it is no longer needed. If the input string is empty or invalid, the function may return an empty string.
- **See also**: [`parse_window_name`](names.c.driver.md#parse_window_name)  (Implementation)


---
### control_discard<!-- {{#callable_declaration:control_discard}} -->
Discards the control state associated with a client.
- **Description**: This function is intended to be called when a client no longer needs its control state, such as during cleanup or disconnection. It iterates through all control panes associated with the client and discards each one, effectively releasing any resources they may hold. After processing the panes, it disables reading from the client's associated event, ensuring that no further input is processed. It is important to ensure that this function is called only when the client is no longer active to avoid undefined behavior.
- **Inputs**:
    - `c`: A pointer to a `struct client` representing the client whose control state is to be discarded. This pointer must not be null, and the function assumes that the client is valid and has been properly initialized.
- **Output**: None
- **See also**: [`control_discard`](control.c.driver.md#control_discard)  (Implementation)


---
### control_start<!-- {{#callable_declaration:control_start}} -->
Starts the control mode for a client.
- **Description**: This function initializes the control mode for a given `client`. It must be called after the client has been created and is ready to handle control commands. The function sets the appropriate file descriptors to non-blocking mode and allocates memory for the control state. If the client is in control mode, it will close the output file descriptor and reinitialize it. The function also sets up event callbacks for reading and writing data, and it handles memory allocation failures gracefully.
- **Inputs**:
    - `c`: A pointer to a `client` structure. Must not be null. The function expects a valid client that has been initialized and is ready for control operations.
- **Output**: None
- **See also**: [`control_start`](control.c.driver.md#control_start)  (Implementation)


---
### control_ready<!-- {{#callable_declaration:control_ready}} -->
Enables reading on the control state of a client.
- **Description**: This function should be called when the control state of a client is ready to receive data. It enables the read event associated with the client's control state, allowing the client to process incoming data. It is important to ensure that the client and its control state are properly initialized before calling this function.
- **Inputs**:
    - `c`: A pointer to a `struct client`. This must not be null and should point to a valid client structure that has been initialized. If the pointer is null or the client is not properly initialized, the behavior is undefined.
- **Output**: None
- **See also**: [`control_ready`](control.c.driver.md#control_ready)  (Implementation)


---
### control_stop<!-- {{#callable_declaration:control_stop}} -->
Stops the control operations for a client.
- **Description**: This function is intended to be called when a client is no longer active or needs to stop its control operations. It safely releases resources associated with the client's control state, including freeing events and subscriptions. It is important to ensure that this function is called to prevent memory leaks and dangling pointers. The function should be invoked when the client is being destroyed or when control operations are no longer needed.
- **Inputs**:
    - `c`: A pointer to a `struct client`. This parameter must not be null and should point to a valid client structure. If the client is invalid or null, the behavior is undefined.
- **Output**: This function does not return a value and does not modify any inputs.
- **See also**: [`control_stop`](control.c.driver.md#control_stop)  (Implementation)


---
### control_set_pane_on<!-- {{#callable_declaration:control_set_pane_on}} -->
Sets the control pane for a given client and window pane.
- **Description**: This function is used to activate a control pane associated with a specific client and window pane. It should be called when you want to ensure that the control pane is visible and ready for interaction. The function checks if the control pane is currently off and, if so, it turns it on. It also updates the offsets of the control pane based on the provided window pane's offsets. It is important to ensure that the client and window pane are valid before calling this function.
- **Inputs**:
    - `c`: A pointer to a `struct client` representing the client whose control pane is to be set. Must not be null.
    - `wp`: A pointer to a `struct window_pane` representing the window pane associated with the control pane. Must not be null.
- **Output**: None
- **See also**: [`control_set_pane_on`](control.c.driver.md#control_set_pane_on)  (Implementation)


---
### control_set_pane_off<!-- {{#callable_declaration:control_set_pane_off}} -->
Sets a pane to be off.
- **Description**: This function is used to mark a specific `window_pane` as off within a `client`. It should be called when you want to disable or hide a pane from the user's view. The function expects that the `client` and `window_pane` have been properly initialized and are valid. If either pointer is null, the behavior is undefined.
- **Inputs**:
    - `c`: A pointer to a `client` structure representing the client that owns the pane. Must not be null.
    - `wp`: A pointer to a `window_pane` structure that is to be marked as off. Must not be null.
- **Output**: None
- **See also**: [`control_set_pane_off`](control.c.driver.md#control_set_pane_off)  (Implementation)


---
### control_continue_pane<!-- {{#callable_declaration:control_continue_pane}} -->
Resumes a paused control pane.
- **Description**: This function is used to resume a control pane that has been paused. It should be called when the control pane is in a paused state, which is indicated by the `CONTROL_PANE_PAUSED` flag. The function updates the control pane's offset and queued values based on the corresponding values from the provided window pane. It is important to ensure that the control pane is indeed paused before calling this function, as it will have no effect if the pane is not paused.
- **Inputs**:
    - `c`: A pointer to a `struct client` representing the client associated with the control pane. Must not be null.
    - `wp`: A pointer to a `struct window_pane` representing the window pane to be resumed. Must not be null.
- **Output**: None
- **See also**: [`control_continue_pane`](control.c.driver.md#control_continue_pane)  (Implementation)


---
### control_pause_pane<!-- {{#callable_declaration:control_pause_pane}} -->
Pauses the control pane for a specified window.
- **Description**: This function is used to pause the control pane associated with a specific window pane. It should be called when you want to temporarily halt the control pane's activity, typically during a user interaction or when the application is in a state where it should not process further input. The function checks if the control pane is already paused; if not, it sets the paused state and sends a pause command to the control pane. It is important to ensure that the control pane is properly initialized before calling this function.
- **Inputs**:
    - `c`: A pointer to the `client` structure representing the client associated with the control pane. Must not be null.
    - `wp`: A pointer to the `window_pane` structure representing the window pane to be paused. Must not be null.
- **Output**: None
- **See also**: [`control_pause_pane`](control.c.driver.md#control_pause_pane)  (Implementation)


---
### control_pane_offset<!-- {{#callable_declaration:control_pane_offset}} -->
Retrieves the offset of a control pane.
- **Description**: This function is used to obtain the offset of a control pane associated with a client and a specific window pane. It should be called when the client is ready to interact with the control pane. If the client has the flag `CLIENT_CONTROL_NOOUTPUT` set, or if the control pane is paused or turned off, the function will return `NULL` and set the offset to zero. Otherwise, it calculates the offset based on the current output buffer length and returns a pointer to the `window_pane_offset` structure.
- **Inputs**:
    - `c`: A pointer to the `client` structure. Must not be null.
    - `wp`: A pointer to the `window_pane` structure. Must not be null.
    - `off`: A pointer to an integer where the offset will be stored. The caller retains ownership and must ensure it is valid.
- **Output**: Returns a pointer to a `window_pane_offset` structure if successful, or `NULL` if the client is not allowed to output or if the control pane is paused or off.
- **See also**: [`control_pane_offset`](control.c.driver.md#control_pane_offset)  (Implementation)


---
### control_reset_offsets<!-- {{#callable_declaration:control_reset_offsets}} -->
Resets the offsets for the control state.
- **Description**: This function is intended to be called when you need to reset the offsets associated with a `client`'s control state. It clears all control panes associated with the client and initializes the pending list to an empty state. It is important to ensure that the `client` structure passed to this function has been properly initialized and is valid; otherwise, the behavior is undefined. After calling this function, the control state will have no active panes and a pending count of zero.
- **Inputs**:
    - `c`: A pointer to a `struct client`. This must not be null and should point to a valid client structure that has been initialized. Passing a null pointer or an uninitialized client may lead to undefined behavior.
- **Output**: None
- **See also**: [`control_reset_offsets`](control.c.driver.md#control_reset_offsets)  (Implementation)


---
### control_write_output<!-- {{#callable_declaration:control_write_output}} -->
Writes output data to a control pane.
- **Description**: This function is used to write output data to a specified control pane associated with a client. It should be called when there is new data to be sent to the control pane, typically after the client has been initialized and is ready to receive output. The function checks if the specified window pane is valid and if the client is not in an ignored state before proceeding to write the data. If the pane is ignored or if there is no new data to write, the function will not perform any operations. It is important to ensure that the client and window pane are valid and properly initialized before calling this function.
- **Inputs**:
    - `c`: A pointer to a `struct client` representing the client that owns the control pane. Must not be null.
    - `wp`: A pointer to a `struct window_pane` representing the window pane to which the output will be written. Must not be null.
- **Output**: The function does not return a value and does not mutate any inputs.
- **See also**: [`control_write_output`](control.c.driver.md#control_write_output)  (Implementation)


---
### control_all_done<!-- {{#callable_declaration:control_all_done}} -->
Checks if all control operations are complete.
- **Description**: This function is used to determine if all control operations associated with a given `client` have been completed. It should be called when you need to verify the completion status of control tasks, particularly after initiating control operations. The function checks if there are any remaining blocks in the control state; if there are, it returns 0, indicating that not all operations are done. If there are no blocks, it further checks if the output buffer of the write event is empty, returning 1 if it is, and 0 otherwise.
- **Inputs**:
    - `c`: A pointer to a `struct client`. This parameter must not be null and should point to a valid client structure that has been properly initialized. If the pointer is null or invalid, the behavior of the function is undefined.
- **Output**: Returns 1 if all control operations are complete (i.e., there are no blocks and the output buffer is empty), 0 otherwise.
- **See also**: [`control_all_done`](control.c.driver.md#control_all_done)  (Implementation)


---
### control_add_sub<!-- {{#callable_declaration:control_add_sub}} -->
Adds a control subscription.
- **Description**: This function is used to add a new control subscription for a client, which allows the client to receive updates based on the specified subscription type. It should be called when you want to register a new subscription, and it will replace any existing subscription with the same name. The function initializes a new subscription structure and sets up a timer for managing subscription updates. Preconditions include that the `client` structure must be valid and properly initialized. If the `name` or `format` parameters are null, the behavior is undefined.
- **Inputs**:
    - `c`: A pointer to the `client` structure representing the client for which the subscription is being added. Must not be null.
    - `name`: A string representing the name of the subscription. Must not be null.
    - `type`: An enumeration value of type `control_sub_type` indicating the type of subscription. Valid values are defined in the `control_sub_type` enum.
    - `id`: An integer identifier for the subscription. This can be any valid integer.
    - `format`: A string representing the format of the subscription. Must not be null.
- **Output**: None.
- **See also**: [`control_add_sub`](control.c.driver.md#control_add_sub)  (Implementation)


---
### control_remove_sub<!-- {{#callable_declaration:control_remove_sub}} -->
Removes a subscription from a client.
- **Description**: This function is used to remove a subscription identified by its name from the specified client. It should be called when a subscription is no longer needed. The `client` structure must be valid and properly initialized before calling this function. If the specified subscription does not exist, the function will simply do nothing. Additionally, if the removal of the subscription results in no remaining subscriptions, any associated timers will be deleted.
- **Inputs**:
    - `c`: A pointer to a `client` structure representing the client from which the subscription will be removed. Must not be null.
    - `name`: A pointer to a null-terminated string representing the name of the subscription to be removed. Must not be null.
- **Output**: Returns nothing (void). If the subscription is successfully removed, any associated resources will be freed.
- **See also**: [`control_remove_sub`](control.c.driver.md#control_remove_sub)  (Implementation)


---
### control_notify_pane_mode_changed<!-- {{#callable_declaration:control_notify_pane_mode_changed}} -->
Notifies clients that the pane mode has changed.
- **Description**: This function should be called whenever the mode of a pane changes, allowing all relevant clients to be informed of the change. It iterates through all connected clients and sends a notification message to those that are set to receive updates. It is important to ensure that this function is called in the appropriate context where pane mode changes are expected, as it relies on the state of the clients to determine who should be notified.
- **Inputs**:
    - `pane`: An integer representing the new mode of the pane. Valid values should correspond to defined pane modes. The function does not perform validation on this value, so it is the caller's responsibility to ensure it is within an acceptable range.
- **Output**: None
- **See also**: [`control_notify_pane_mode_changed`](control-notify.c.driver.md#control_notify_pane_mode_changed)  (Implementation)


---
### control_notify_window_layout_changed<!-- {{#callable_declaration:control_notify_window_layout_changed}} -->
Notifies clients of a layout change in a window.
- **Description**: This function should be called when the layout of a specified window changes, typically after a resize or rearrangement of panes. It iterates through all connected clients and sends a notification to those that are subscribed to receive updates about the specified window. The function checks if the window has a valid layout before notifying clients, ensuring that notifications are only sent when necessary. It is important to ensure that the window is properly initialized and has a layout before invoking this function.
- **Inputs**:
    - `w`: A pointer to a `struct window` representing the window whose layout has changed. This pointer must not be null and should point to a valid window structure that has been initialized and has a layout.
- **Output**: None
- **See also**: [`control_notify_window_layout_changed`](control-notify.c.driver.md#control_notify_window_layout_changed)  (Implementation)


---
### control_notify_window_pane_changed<!-- {{#callable_declaration:control_notify_window_pane_changed}} -->
Notifies clients of a change in the active pane of a window.
- **Description**: This function should be called whenever the active pane of a specified window changes. It iterates through all connected clients and sends a notification message to those that are subscribed to receive updates about pane changes. The notification includes the IDs of the window and the newly active pane. It is important to ensure that the window parameter is valid and that clients are properly set up to receive notifications.
- **Inputs**:
    - `w`: A pointer to a `struct window` representing the window whose active pane has changed. This pointer must not be null.
- **Output**: None
- **See also**: [`control_notify_window_pane_changed`](control-notify.c.driver.md#control_notify_window_pane_changed)  (Implementation)


---
### control_notify_window_unlinked<!-- {{#callable_declaration:control_notify_window_unlinked}} -->
Notifies clients that a window has been unlinked.
- **Description**: This function should be called when a `window` is unlinked from a `session`. It iterates through all connected clients and sends a notification to each client that is subscribed to receive control notifications. The notification indicates whether the window was closed or simply unlinked, based on whether the window is still linked to any session. It is important to ensure that this function is called in the appropriate context where the window's state has changed.
- **Inputs**:
    - `s`: A pointer to the `session` structure. This parameter is unused in the function, but it is included for compatibility with the function signature.
    - `w`: A pointer to the `window` structure that has been unlinked. This parameter must not be null and represents the window that is being notified as unlinked.
- **Output**: None
- **See also**: [`control_notify_window_unlinked`](control-notify.c.driver.md#control_notify_window_unlinked)  (Implementation)


---
### control_notify_window_linked<!-- {{#callable_declaration:control_notify_window_linked}} -->
Notifies clients about a linked window.
- **Description**: This function should be called to inform all connected clients about the status of a window when it is linked to a session. It iterates through all clients and sends a notification indicating whether the specified window is linked or unlinked from their respective sessions. It is important to ensure that this function is called in the appropriate context where the window's state has changed, and clients are expected to receive updates.
- **Inputs**:
    - `s`: A pointer to a `struct session` representing the session context. This parameter is unused in the function, but it is included for compatibility with the function signature.
    - `w`: A pointer to a `struct window` representing the window to notify about. This parameter must not be null and should point to a valid window structure.
- **Output**: None
- **See also**: [`control_notify_window_linked`](control-notify.c.driver.md#control_notify_window_linked)  (Implementation)


---
### control_notify_window_renamed<!-- {{#callable_declaration:control_notify_window_renamed}} -->
Notifies clients that a window has been renamed.
- **Description**: This function should be called whenever a window's name changes, allowing all connected clients to be informed of the change. It iterates through all clients and sends a notification message to those that are subscribed to receive updates about window events. The function does not return any value and does not modify the input window structure. It is important to ensure that the window is valid and that clients are properly initialized before calling this function.
- **Inputs**:
    - `w`: A pointer to a `struct window` representing the window that has been renamed. This pointer must not be null and should point to a valid window structure.
- **Output**: None
- **See also**: [`control_notify_window_renamed`](control-notify.c.driver.md#control_notify_window_renamed)  (Implementation)


---
### control_notify_client_session_changed<!-- {{#callable_declaration:control_notify_client_session_changed}} -->
Notifies clients of a session change for a specified client.
- **Description**: This function should be called when a client's session changes, and it will notify all other clients about this change. It is important to ensure that the `client` structure passed as an argument is valid and has a non-null session. If the session of the specified client is null, the function will return immediately without performing any actions. The notifications sent to other clients will include details about the session change, allowing them to update their state accordingly.
- **Inputs**:
    - `cc`: A pointer to a `client` structure representing the client whose session has changed. This pointer must not be null, and the `session` field within the `client` structure must also be non-null for the function to proceed with notifications.
- **Output**: The function does not return a value and does not modify any inputs.
- **See also**: [`control_notify_client_session_changed`](control-notify.c.driver.md#control_notify_client_session_changed)  (Implementation)


---
### control_notify_client_detached<!-- {{#callable_declaration:control_notify_client_detached}} -->
Notifies all clients that a specific client has been detached.
- **Description**: This function should be called when a client is detached from the server, allowing other clients to be informed of this event. It iterates through all connected clients and sends a notification message to those that are subscribed to receive such notifications. It is important to ensure that this function is called in the appropriate context where client detachment is handled.
- **Inputs**:
    - `cc`: A pointer to a `struct client` representing the client that has been detached. This pointer must not be null, and the function does not take ownership of the `cc` pointer.
- **Output**: None
- **See also**: [`control_notify_client_detached`](control-notify.c.driver.md#control_notify_client_detached)  (Implementation)


---
### control_notify_session_renamed<!-- {{#callable_declaration:control_notify_session_renamed}} -->
Notifies clients of a session rename.
- **Description**: This function should be called when a session is renamed to inform all connected clients about the change. It iterates through the list of clients and sends a notification message to those that are set to receive such notifications. It is important to ensure that the session structure passed as an argument is valid and properly initialized before calling this function.
- **Inputs**:
    - `s`: A pointer to a `struct session` representing the session that has been renamed. This pointer must not be null and should point to a valid session structure.
- **Output**: None
- **See also**: [`control_notify_session_renamed`](control-notify.c.driver.md#control_notify_session_renamed)  (Implementation)


---
### control_notify_session_created<!-- {{#callable_declaration:control_notify_session_created}} -->
Notifies clients of a newly created session.
- **Description**: This function should be called when a new session is created to inform all connected clients that the session has changed. It iterates through the list of clients and sends a notification message to those that are subscribed to receive such updates. It is important to ensure that this function is called in the appropriate context where session creation is handled, as it relies on the existence of active clients that have opted to receive notifications.
- **Inputs**:
    - `s`: A pointer to a `struct session` representing the newly created session. This parameter must not be null, and the function does not take ownership of it.
- **Output**: None
- **See also**: [`control_notify_session_created`](control-notify.c.driver.md#control_notify_session_created)  (Implementation)


---
### control_notify_session_closed<!-- {{#callable_declaration:control_notify_session_closed}} -->
Notifies clients of a closed session.
- **Description**: This function should be called when a session is closed to inform all connected clients about the change. It iterates through the list of clients and sends a notification message to those that are subscribed to receive updates about session changes. It is important to ensure that this function is called in the appropriate context where session management is handled, as it relies on the existence of active client connections.
- **Inputs**:
    - `s`: A pointer to a `struct session` representing the session that has been closed. This parameter must not be null, and the function does not take ownership of the session structure.
- **Output**: None
- **See also**: [`control_notify_session_closed`](control-notify.c.driver.md#control_notify_session_closed)  (Implementation)


---
### control_notify_session_window_changed<!-- {{#callable_declaration:control_notify_session_window_changed}} -->
Notifies clients of a session window change.
- **Description**: This function should be called whenever the window associated with a session changes, such as during resizing or layout adjustments. It iterates through all connected clients and sends a notification message to those that are subscribed to receive updates about session window changes. It is important to ensure that the session pointer passed to the function is valid and points to an existing session.
- **Inputs**:
    - `s`: A pointer to a `struct session` representing the session whose window has changed. This pointer must not be null and should point to a valid session object.
- **Output**: None
- **See also**: [`control_notify_session_window_changed`](control-notify.c.driver.md#control_notify_session_window_changed)  (Implementation)


---
### control_notify_paste_buffer_changed<!-- {{#callable_declaration:control_notify_paste_buffer_changed}} -->
Notifies clients that the paste buffer has changed.
- **Description**: This function should be called whenever the contents of the paste buffer change, allowing connected clients to be informed of the update. It is important to ensure that this function is invoked in the appropriate context where clients are expected to receive notifications. The function iterates through all connected clients and sends a notification only to those that are set to receive such updates.
- **Inputs**:
    - `name`: A string representing the name of the paste buffer that has changed. This parameter must not be null and should point to a valid null-terminated string. If an invalid value is provided (e.g., a null pointer), the behavior is undefined.
- **Output**: None
- **See also**: [`control_notify_paste_buffer_changed`](control-notify.c.driver.md#control_notify_paste_buffer_changed)  (Implementation)


---
### control_notify_paste_buffer_deleted<!-- {{#callable_declaration:control_notify_paste_buffer_deleted}} -->
Notifies clients that a paste buffer has been deleted.
- **Description**: This function should be called when a paste buffer is deleted to inform all connected clients that the specific paste buffer is no longer available. It is important to ensure that this function is invoked in the appropriate context where clients are expected to be notified, such as after a paste buffer deletion operation. There are no side effects on the state of the paste buffer itself, but clients that receive this notification may need to update their UI or internal state accordingly.
- **Inputs**:
    - `name`: A pointer to a null-terminated string representing the name of the paste buffer that has been deleted. This parameter must not be null.
- **Output**: None
- **See also**: [`control_notify_paste_buffer_deleted`](control-notify.c.driver.md#control_notify_paste_buffer_deleted)  (Implementation)


---
### session_cmp<!-- {{#callable_declaration:session_cmp}} -->
Compares two session structures.
- **Description**: This function is used to compare two `session` structures based on their names. It is typically called when sorting or ordering sessions, ensuring that the comparison is based on the string values of the session names. Both `session` pointers must be valid and non-null; otherwise, the behavior is undefined.
- **Inputs**:
    - `s1`: A pointer to the first `session` structure to compare. Must not be null.
    - `s2`: A pointer to the second `session` structure to compare. Must not be null.
- **Output**: Returns an integer less than, equal to, or greater than zero if the name of `s1` is found, respectively, to be less than, to match, or be greater than the name of `s2`.
- **See also**: [`session_cmp`](session.c.driver.md#session_cmp)  (Implementation)


---
### session_group_cmp<!-- {{#callable_declaration:session_group_cmp}} -->
Compares two session groups by their names.
- **Description**: This function is used to compare two `session_group` structures based on their `name` fields. It is typically called when sorting or ordering session groups. The comparison is case-sensitive and returns a negative value if the first group's name is less than the second's, a positive value if greater, and zero if they are equal. It is important to ensure that both `session_group` pointers are valid and not null before calling this function to avoid undefined behavior.
- **Inputs**:
    - `s1`: A pointer to the first `session_group` structure to compare. Must not be null.
    - `s2`: A pointer to the second `session_group` structure to compare. Must not be null.
- **Output**: Returns an integer value indicating the result of the comparison: negative if `s1` is less than `s2`, positive if `s1` is greater than `s2`, and zero if they are equal.
- **See also**: [`session_group_cmp`](session.c.driver.md#session_group_cmp)  (Implementation)


---
### session_alive<!-- {{#callable_declaration:session_alive}} -->
Checks if a session is currently alive.
- **Description**: This function is used to determine if a specified session is still active within the system. It should be called when you need to verify the existence of a session before performing operations that depend on its validity. The function iterates through the list of active sessions and returns a non-zero value if the specified session is found, indicating that it is alive. If the session is not found, it returns zero. It is important to ensure that the session pointer passed to this function is valid and points to a session structure.
- **Inputs**:
    - `s`: A pointer to a `struct session` that represents the session to check. This pointer must not be null and should point to a valid session structure. If the pointer is null or invalid, the behavior of the function is undefined.
- **Output**: Returns 1 if the session is alive (found in the list of active sessions), or 0 if it is not.
- **See also**: [`session_alive`](session.c.driver.md#session_alive)  (Implementation)


---
### session_find<!-- {{#callable_declaration:session_find}} -->
Finds a session by its name.
- **Description**: This function is used to retrieve a `session` structure based on the provided session name. It should be called when you need to access a specific session, typically after ensuring that the session management system is initialized. If the session with the specified name does not exist, the function will return `NULL`.
- **Inputs**:
    - `name`: A pointer to a null-terminated string representing the name of the session to find. This string must not be null and should be a valid session name. If an invalid name is provided, the function will return `NULL`.
- **Output**: Returns a pointer to the `session` structure if found; otherwise, returns `NULL`.
- **See also**: [`session_find`](session.c.driver.md#session_find)  (Implementation)


---
### session_find_by_id_str<!-- {{#callable_declaration:session_find_by_id_str}} -->
Finds a session by its ID string.
- **Description**: This function is used to retrieve a `session` structure based on a string representation of its ID. The input string must start with a dollar sign ('$'), followed by a numeric value representing the session ID. If the string does not conform to this format, or if the numeric value is invalid, the function will return `NULL`. It is important to ensure that the input string is properly formatted to avoid unexpected results.
- **Inputs**:
    - `s`: A pointer to a null-terminated string representing the session ID. The string must start with a '$' followed by a numeric value. Must not be null. If the string does not start with '$' or if the numeric value is invalid, the function will return NULL.
- **Output**: Returns a pointer to a `session` structure if found; otherwise, returns NULL.
- **See also**: [`session_find_by_id_str`](session.c.driver.md#session_find_by_id_str)  (Implementation)


---
### session_find_by_id<!-- {{#callable_declaration:session_find_by_id}} -->
Finds a session by its ID.
- **Description**: This function is used to retrieve a `session` structure based on its unique identifier. It should be called when you need to access a specific session, typically after ensuring that sessions have been initialized. If the session with the specified ID does not exist, the function will return `NULL`, indicating that no matching session was found.
- **Inputs**:
    - `id`: The unique identifier of the session to find. It must be a non-negative integer. If an invalid ID is provided (e.g., negative), the function will simply return `NULL`.
- **Output**: Returns a pointer to the `session` structure if found; otherwise, it returns `NULL`.
- **See also**: [`session_find_by_id`](session.c.driver.md#session_find_by_id)  (Implementation)


---
### session_create<!-- {{#callable_declaration:session_create}} -->
Creates a new session.
- **Description**: This function is used to create a new session with specified parameters such as a prefix, name, current working directory, environment variables, options, and terminal settings. It must be called with valid parameters; the `cwd` must be a valid directory path, and `env` and `oo` can be null if not needed. If `name` is null, a unique name will be generated using the provided `prefix` and an incrementing session ID. The function will allocate memory for the session structure, and it is the caller's responsibility to free this memory when the session is no longer needed.
- **Inputs**:
    - `prefix`: A string that serves as a prefix for the session name. Can be null.
    - `name`: The desired name for the session. If null, a unique name will be generated.
    - `cwd`: The current working directory for the session. Must be a valid directory path.
    - `env`: A pointer to an `environ` structure containing environment variables. Can be null.
    - `oo`: A pointer to an `options` structure for session options. Can be null.
    - `tio`: A pointer to a `termios` structure for terminal settings. Can be null.
- **Output**: Returns a pointer to the newly created `session` structure.
- **See also**: [`session_create`](session.c.driver.md#session_create)  (Implementation)


---
### session_destroy<!-- {{#callable_declaration:session_destroy}} -->
Destroys a session and cleans up associated resources.
- **Description**: This function should be called to terminate a session when it is no longer needed. It is important to ensure that the session is valid and has been initialized before calling this function. If the session is currently active, it will be notified of its closure. The function also handles the cleanup of resources associated with the session, including freeing memory and removing references to windows and panes. It is crucial to avoid calling this function on a null session pointer or an uninitialized session, as this may lead to undefined behavior.
- **Inputs**:
    - `s`: A pointer to the `session` structure representing the session to be destroyed. Must not be null and must point to a valid session.
    - `notify`: An integer flag indicating whether to notify the session of its closure. Valid values are 0 (no notification) and 1 (send notification).
    - `from`: A string providing context for the session destruction, such as the reason for closure. Must not be null.
- **Output**: None
- **See also**: [`session_destroy`](session.c.driver.md#session_destroy)  (Implementation)


---
### session_add_ref<!-- {{#callable_declaration:session_add_ref}} -->
Increments the reference count of a session.
- **Description**: This function is used to increase the reference count of a `session` structure, which is useful for managing the lifecycle of sessions in a multi-threaded environment. It should be called whenever a new reference to the session is created, ensuring that the session remains valid as long as there are active references. The `from` parameter is used for logging purposes to indicate the source of the reference increment. It is important to ensure that the `session` pointer passed to this function is valid and not null.
- **Inputs**:
    - `s`: A pointer to the `session` structure whose reference count is to be incremented. Must not be null.
    - `from`: A string indicating the source of the reference increment. This is used for logging and can be any valid string.
- **Output**: None
- **See also**: [`session_add_ref`](session.c.driver.md#session_add_ref)  (Implementation)


---
### session_remove_ref<!-- {{#callable_declaration:session_remove_ref}} -->
Decrements the reference count of a session.
- **Description**: This function is used to decrease the reference count of a `session` object, which is typically called when a reference to the session is no longer needed. It is important to call this function when you are done with a session to ensure proper resource management. If the reference count reaches zero, the session will be scheduled for freeing, which means that it will be cleaned up and its resources released. This function should be called only after the session has been properly initialized and is in use.
- **Inputs**:
    - `s`: A pointer to the `session` structure whose reference count is to be decremented. Must not be null.
    - `from`: A string indicating the source of the reference removal. This is used for logging purposes and can be any valid string. Must not be null.
- **Output**: None
- **See also**: [`session_remove_ref`](session.c.driver.md#session_remove_ref)  (Implementation)


---
### session_check_name<!-- {{#callable_declaration:session_check_name}} -->
Checks and sanitizes a session name.
- **Description**: This function is used to validate and sanitize a session name before it is used in the application. It should be called with a non-empty string representing the session name. If the provided name is empty, the function will return `NULL`. The function replaces any occurrences of ':' or '.' in the name with '_' to ensure that the name is safe for use. After processing, it returns a newly allocated string that represents the sanitized name, which the caller is responsible for freeing.
- **Inputs**:
    - `name`: A pointer to a null-terminated string representing the session name. This string must not be empty; if it is, the function will return NULL. The caller retains ownership of the input string.
- **Output**: Returns a pointer to a newly allocated string containing the sanitized session name. If the input name is empty, it returns NULL. The caller is responsible for freeing the returned string.
- **See also**: [`session_check_name`](session.c.driver.md#session_check_name)  (Implementation)


---
### session_update_activity<!-- {{#callable_declaration:session_update_activity}} -->
Updates the activity time of a session.
- **Description**: This function should be called to update the activity timestamp of a `session` whenever there is user interaction or activity detected. It can be invoked with a specific `timeval` structure to set a custom activity time, or if `from` is NULL, it will use the current time. It is important to ensure that this function is called in the context of an active session, as it manages the session's lock timer based on the activity. If the session is attached, it will also set a lock timer based on the configured 'lock-after-time' option.
- **Inputs**:
    - `s`: A pointer to a `session` structure representing the session to update. Must not be null.
    - `from`: A pointer to a `timeval` structure that specifies the time to set as the activity time. If NULL, the current time will be used. This parameter can be null.
- **Output**: None
- **See also**: [`session_update_activity`](session.c.driver.md#session_update_activity)  (Implementation)


---
### session_next_session<!-- {{#callable_declaration:session_next_session}} -->
Returns the next session in the session list.
- **Description**: This function retrieves the next active session following the specified session in a session list. It should be called only when the session is confirmed to be alive. If the provided session is not alive or if there are no sessions available, the function will return `NULL`. If the specified session is the last in the list, it wraps around and returns the first session.
- **Inputs**:
    - `s`: A pointer to a `struct session` representing the current session. This parameter must not be null and must point to an active session.
- **Output**: Returns a pointer to the next `struct session` in the list, or `NULL` if there is no next session or if the provided session is not alive.
- **See also**: [`session_next_session`](session.c.driver.md#session_next_session)  (Implementation)


---
### session_previous_session<!-- {{#callable_declaration:session_previous_session}} -->
Retrieves the previous session in the session list.
- **Description**: This function is used to obtain the session that precedes the specified session in the session list. It should be called only when the specified session is alive; otherwise, it will return NULL. If the specified session is the first in the list, the function will wrap around and return the last session in the list. If the session is not alive or if the session list is empty, the function will return NULL.
- **Inputs**:
    - `s`: A pointer to a `struct session` that represents the current session. This parameter must not be NULL and must point to an alive session; otherwise, the function will return NULL.
- **Output**: Returns a pointer to the previous `struct session` in the session list, or NULL if there is no previous session or if the input session is not alive.
- **See also**: [`session_previous_session`](session.c.driver.md#session_previous_session)  (Implementation)


---
### session_attach<!-- {{#callable_declaration:session_attach}} -->
Attaches a window to a session.
- **Description**: This function is used to attach a `window` to a `session` at a specified index. It should be called when you want to link a window to a session, allowing the session to manage the window. The function will fail if the specified index is already in use, in which case it will provide an error message through the `cause` parameter. It is important to ensure that the session and window are properly initialized before calling this function.
- **Inputs**:
    - `s`: A pointer to the `session` structure that the window will be attached to. Must not be null.
    - `w`: A pointer to the `window` structure that is to be attached. Must not be null.
    - `idx`: An integer representing the index at which to attach the window. This index must not be currently in use by another window.
    - `cause`: A pointer to a character pointer where an error message can be stored if the function fails. The caller retains ownership of the memory pointed to by this parameter.
- **Output**: Returns a pointer to the `winlink` structure representing the newly attached window if successful, or NULL if the attachment fails due to the index being in use.
- **See also**: [`session_attach`](session.c.driver.md#session_attach)  (Implementation)


---
### session_detach<!-- {{#callable_declaration:session_detach}} -->
Detaches a window from a session.
- **Description**: This function is used to detach a specified `winlink` from a `session`. It should be called when you want to unlink a window from the current session, typically when the window is no longer needed or is being closed. Before calling this function, ensure that the `session` and `winlink` are valid and that the `winlink` is currently attached to the `session`. If the `winlink` being detached is the current window, the function will automatically switch to the next available window in the session. After detaching, the function will notify the session of the change and synchronize the session group. If the session has no remaining windows after the detachment, the function will return 1; otherwise, it will return 0.
- **Inputs**:
    - `s`: A pointer to the `session` structure from which the window will be detached. Must not be null.
    - `wl`: A pointer to the `winlink` structure representing the window to be detached. Must not be null and must be currently linked to the session.
- **Output**: Returns 1 if the session has no remaining windows after the detachment, otherwise returns 0.
- **See also**: [`session_detach`](session.c.driver.md#session_detach)  (Implementation)


---
### session_has<!-- {{#callable_declaration:session_has}} -->
Checks if a session is associated with a window.
- **Description**: This function is used to determine if a specific `session` is linked to a given `window`. It should be called when you need to verify the relationship between a session and a window, such as when managing window states or session activities. The function iterates through the list of winlinks associated with the window and checks if any of them point to the specified session. It is important to ensure that both the `session` and `window` pointers are valid before calling this function.
- **Inputs**:
    - `s`: A pointer to a `session` structure. Must not be null.
    - `w`: A pointer to a `window` structure. Must not be null.
- **Output**: Returns 1 if the session is linked to the window, otherwise returns 0.
- **See also**: [`session_has`](session.c.driver.md#session_has)  (Implementation)


---
### session_is_linked<!-- {{#callable_declaration:session_is_linked}} -->
Checks if a session is linked to a window.
- **Description**: This function determines whether a given `session` is linked to a specified `window`. It should be called when you need to verify the relationship between a session and a window, particularly in scenarios where window management or session handling is involved. The function returns a non-zero value if the session is linked to the window, and zero otherwise. It is important to ensure that both the `session` and `window` pointers are valid before calling this function to avoid undefined behavior.
- **Inputs**:
    - `s`: A pointer to a `session` structure. Must not be null.
    - `w`: A pointer to a `window` structure. Must not be null.
- **Output**: Returns a non-zero value if the session is linked to the window, and zero if it is not.
- **See also**: [`session_is_linked`](session.c.driver.md#session_is_linked)  (Implementation)


---
### session_next<!-- {{#callable_declaration:session_next}} -->
Advances to the next window in a session.
- **Description**: This function is used to navigate to the next window within a given session. It should be called when there is an active session and a current window. If the `alert` parameter is set, it will also check for alerts on the next window. If there are no more windows to navigate to, it will wrap around to the first window in the session. The function returns -1 if there is no current window or if the navigation fails due to alerts.
- **Inputs**:
    - `s`: A pointer to a `struct session` representing the session to navigate within. Must not be null.
    - `alert`: An integer indicating whether to check for alerts on the next window. Valid values are 0 (no alert check) or 1 (check for alerts).
- **Output**: Returns the result of setting the current window, or -1 if navigation fails.
- **See also**: [`session_next`](session.c.driver.md#session_next)  (Implementation)


---
### session_previous<!-- {{#callable_declaration:session_previous}} -->
Sets the current window to the previous one.
- **Description**: This function is used to navigate to the previous window in a session. It should be called when there is a valid current window; otherwise, it will return an error. If the `alert` parameter is set, it will check for alerts associated with the previous window. If there are no previous windows available, it will wrap around to the last window in the session. The function modifies the current window of the session to the selected previous window.
- **Inputs**:
    - `s`: A pointer to a `struct session`. This must not be null and should point to a valid session object.
    - `alert`: An integer flag indicating whether to check for alerts. Valid values are 0 (no alert check) and 1 (check for alerts). This parameter is optional and can be set to 0 if alert checking is not needed.
- **Output**: Returns the identifier of the newly set current window, or -1 if an error occurs, such as when there is no current window.
- **See also**: [`session_previous`](session.c.driver.md#session_previous)  (Implementation)


---
### session_select<!-- {{#callable_declaration:session_select}} -->
Selects a window in a session.
- **Description**: This function is used to change the currently active window in a given session. It should be called when you want to switch to a different window based on its index. The index must be valid and correspond to an existing window in the session; otherwise, the function may not behave as expected. It is important to ensure that the session is properly initialized before calling this function.
- **Inputs**:
    - `s`: A pointer to a `struct session` representing the session in which the window selection is to occur. This pointer must not be null and must point to a valid session.
    - `idx`: An integer representing the index of the window to select. This index must be within the valid range of window indices for the session; otherwise, the behavior is undefined.
- **Output**: Returns an integer indicating the success or failure of the operation. A return value of 0 typically indicates success, while a negative value may indicate an error, such as an invalid index.
- **See also**: [`session_select`](session.c.driver.md#session_select)  (Implementation)


---
### session_last<!-- {{#callable_declaration:session_last}} -->
Returns the last accessed window in a session.
- **Description**: This function is used to retrieve the last accessed window from a given session. It should be called when you need to switch back to the most recently used window. The function checks if there is a last window available; if not, it returns -1. If the last window is the same as the currently active window, it returns 1. Otherwise, it attempts to set the last window as the current window.
- **Inputs**:
    - `s`: A pointer to a `struct session` representing the session from which to retrieve the last accessed window. This pointer must not be null.
- **Output**: Returns an integer: -1 if there is no last window, 1 if the last window is already the current window, or the result of setting the last window as the current window.
- **See also**: [`session_last`](session.c.driver.md#session_last)  (Implementation)


---
### session_set_current<!-- {{#callable_declaration:session_set_current}} -->
Sets the current window in a session.
- **Description**: This function is used to change the currently active window in a session. It should be called when you want to switch focus to a different window. The function will return an error if the provided window link is `NULL`. If the new window is the same as the current one, it will return 1 without making any changes. If the window is successfully changed, it will update the focus and notify the session of the change.
- **Inputs**:
    - `s`: A pointer to the `session` structure representing the session in which the window is being changed. Must not be null.
    - `wl`: A pointer to the `winlink` structure representing the new window to be set as current. Must not be null.
- **Output**: Returns 0 on success, 1 if the new window is the same as the current one, and -1 if the provided window link is null.
- **See also**: [`session_set_current`](session.c.driver.md#session_set_current)  (Implementation)


---
### session_group_contains<!-- {{#callable_declaration:session_group_contains}} -->
Checks if a `session` is contained within a `session_group`.
- **Description**: This function is used to determine if a specific `session` is part of any `session_group`. It should be called when you need to verify the association of a `session` with its corresponding group. The function will return a pointer to the `session_group` that contains the specified `session`, or `NULL` if the `session` is not found in any group.
- **Inputs**:
    - `target`: A pointer to the `session` that needs to be checked. This parameter must not be null. If the provided pointer is null, the behavior of the function is undefined.
- **Output**: Returns a pointer to the `session_group` containing the specified `session`, or `NULL` if the `session` is not part of any group.
- **See also**: [`session_group_contains`](session.c.driver.md#session_group_contains)  (Implementation)


---
### session_group_find<!-- {{#callable_declaration:session_group_find}} -->
Finds a session group by its name.
- **Description**: This function is used to retrieve a `session_group` structure based on the provided name. It should be called with a valid name string that identifies the session group. If the name does not correspond to any existing session group, the function will return `NULL`. It is important to ensure that the name is not `NULL` before calling this function, as passing a `NULL` value may lead to undefined behavior.
- **Inputs**:
    - `name`: A pointer to a null-terminated string representing the name of the session group to find. This string must not be null.
- **Output**: Returns a pointer to the `session_group` structure if found; otherwise, returns `NULL`.
- **See also**: [`session_group_find`](session.c.driver.md#session_group_find)  (Implementation)


---
### session_group_new<!-- {{#callable_declaration:session_group_new}} -->
Creates a new session group.
- **Description**: This function is used to create a new `session_group` with the specified name. It should be called when a new session group is needed, and it will return an existing group if one with the same name already exists. The name must be a valid string and cannot be null. If the name is already in use, the function will return a pointer to the existing group instead of creating a new one.
- **Inputs**:
    - `name`: A pointer to a null-terminated string representing the name of the session group. Must not be null. If a session group with the same name already exists, the function will return that existing group.
- **Output**: Returns a pointer to the newly created or existing `session_group`.
- **See also**: [`session_group_new`](session.c.driver.md#session_group_new)  (Implementation)


---
### session_group_add<!-- {{#callable_declaration:session_group_add}} -->
Adds a session to a session group.
- **Description**: This function is used to add a `session` to a specified `session_group`. It should be called when you want to include a session in a group, ensuring that the session is not already part of another group. If the session is already contained in a group, it will not be added again, preventing duplication. This function does not return any value.
- **Inputs**:
    - `sg`: A pointer to the `session_group` structure where the session will be added. Must not be null.
    - `s`: A pointer to the `session` structure that is to be added to the group. Must not be null.
- **Output**: None
- **See also**: [`session_group_add`](session.c.driver.md#session_group_add)  (Implementation)


---
### session_group_synchronize_to<!-- {{#callable_declaration:session_group_synchronize_to}} -->
Synchronizes the session state with other sessions in the same group.
- **Description**: This function should be called when a session needs to synchronize its state with other sessions in the same group. It is important to ensure that the session is part of a session group before calling this function, as it will not perform any action if the session is not found in a group. The function iterates through the sessions in the group and triggers synchronization with the first session it encounters that is not the calling session.
- **Inputs**:
    - `s`: A pointer to a `struct session` representing the session to synchronize. Must not be null. If the session is not part of a session group, the function will return without performing any action.
- **Output**: None
- **See also**: [`session_group_synchronize_to`](session.c.driver.md#session_group_synchronize_to)  (Implementation)


---
### session_group_synchronize_from<!-- {{#callable_declaration:session_group_synchronize_from}} -->
Synchronizes the target session with all sessions in its group.
- **Description**: This function should be called when you want to ensure that the target session is synchronized with other sessions in the same group. It is important to note that this function does not perform any action if the target session is not part of a session group. The synchronization process involves iterating through all sessions in the group and applying the necessary updates to each session, except for the target session itself.
- **Inputs**:
    - `target`: A pointer to a `struct session` that represents the target session to be synchronized. This pointer must not be null and must point to a valid session. If the target session is not part of a session group, the function will return without performing any synchronization.
- **Output**: The function does not return a value and does not modify the target session directly. Instead, it may affect the state of other sessions in the same group by synchronizing them with the target session.
- **See also**: [`session_group_synchronize_from`](session.c.driver.md#session_group_synchronize_from)  (Implementation)


---
### session_group_count<!-- {{#callable_declaration:session_group_count}} -->
Counts the number of sessions in a session group.
- **Description**: This function is used to retrieve the total count of sessions contained within a specified session group. It is important to ensure that the session group is properly initialized before calling this function. The function iterates through the sessions linked in the session group and counts them, returning the total number. If the session group is empty, the function will return zero.
- **Inputs**:
    - `sg`: A pointer to a `struct session_group` that represents the session group to be counted. This pointer must not be null, and the session group should be properly initialized. If the pointer is null, the behavior is undefined.
- **Output**: Returns an unsigned integer representing the number of sessions in the specified session group. If the group is empty, it returns zero.
- **See also**: [`session_group_count`](session.c.driver.md#session_group_count)  (Implementation)


---
### session_group_attached_count<!-- {{#callable_declaration:session_group_attached_count}} -->
Counts the number of attached sessions in a session group.
- **Description**: This function is used to retrieve the count of sessions that are currently attached within a specified session group. It should be called when you need to know how many sessions are actively connected to the group, which can be useful for monitoring or managing session states. The input parameter must be a valid pointer to a `session_group` structure, which should have been properly initialized and populated with session data. If the provided session group pointer is null, the behavior is undefined.
- **Inputs**:
    - `sg`: A pointer to a `session_group` structure that contains the sessions to be counted. Must not be null.
- **Output**: Returns an unsigned integer representing the count of attached sessions in the specified session group.
- **See also**: [`session_group_attached_count`](session.c.driver.md#session_group_attached_count)  (Implementation)


---
### session_renumber_windows<!-- {{#callable_declaration:session_renumber_windows}} -->
Renumbers the windows in a session.
- **Description**: This function is used to renumber the windows associated with a given session. It should be called when the window indices need to be reset, typically after a session has been modified. The renumbering starts from a base index defined in the session's options, and it updates the current window and last window references accordingly. It is important to ensure that the session is properly initialized before calling this function.
- **Inputs**:
    - `s`: A pointer to a `session` structure representing the session whose windows are to be renumbered. This pointer must not be null.
- **Output**: None
- **See also**: [`session_renumber_windows`](session.c.driver.md#session_renumber_windows)  (Implementation)


---
### session_theme_changed<!-- {{#callable_declaration:session_theme_changed}} -->
Marks the session's theme as changed.
- **Description**: This function should be called when the theme of a session changes, allowing all associated window panes to be updated accordingly. It is important to ensure that the session pointer is not null before invoking this function, as it will not perform any operations if the session is null. The function will iterate through all window panes associated with the session and set a flag indicating that the theme has changed, which may trigger visual updates in the user interface.
- **Inputs**:
    - `s`: A pointer to a `struct session`. This parameter must not be null; if it is null, the function will not perform any operations.
- **Output**: None
- **See also**: [`session_theme_changed`](session.c.driver.md#session_theme_changed)  (Implementation)


---
### utf8_fromwc<!-- {{#callable_declaration:utf8_fromwc}} -->
Converts a wide character to UTF-8.
- **Description**: This function is used to convert a wide character (`wchar_t`) into its UTF-8 representation and store it in a provided `utf8_data` structure. It should be called when you need to encode wide characters for UTF-8 output, typically after ensuring that the `utf8_data` structure has been properly initialized. If the conversion fails, the function will return an error state, and the `utf8_data` structure will not be modified. It is important to check the return value to handle any potential errors appropriately.
- **Inputs**:
    - `wc`: The wide character to convert. It can be any valid `wchar_t` value. If the character cannot be converted, the function will return an error state.
    - `ud`: A pointer to a `struct utf8_data` where the UTF-8 representation will be stored. This structure must be initialized by the caller and should not be null. The function will populate the `data`, `size`, and `width` fields of this structure upon successful conversion.
- **Output**: Returns an `enum utf8_state` indicating the result of the conversion: `UTF8_DONE` if the conversion was successful, `UTF8_ERROR` if there was an error during conversion.
- **See also**: [`utf8_fromwc`](utf8.c.driver.md#utf8_fromwc)  (Implementation)


---
### utf8_update_width_cache<!-- {{#callable_declaration:utf8_update_width_cache}} -->
Updates the UTF-8 width cache.
- **Description**: This function is responsible for refreshing the internal cache that stores the widths of UTF-8 characters. It should be called when the character width information may have changed, such as after modifying the options related to codepoint widths. The function first clears any existing cached widths and then populates the cache with default widths and any user-defined widths specified in the options. It is important to ensure that this function is called in a context where the options are already initialized.
- **Inputs**:
    - `None`: This function does not take any parameters.
- **Output**: This function does not return a value and does not modify any inputs.
- **See also**: [`utf8_update_width_cache`](utf8.c.driver.md#utf8_update_width_cache)  (Implementation)


---
### utf8_build_one<!-- {{#callable_declaration:utf8_build_one}} -->
Builds a single UTF-8 character.
- **Description**: This function is used to create a single UTF-8 character representation from a given byte. It is typically called when encoding a character to ensure it is formatted correctly for UTF-8. The input character must be a valid byte (0-255). The function does not perform any validation on the input; therefore, it is the caller's responsibility to ensure that the input is within the valid range. The resulting value can be used directly in contexts that require UTF-8 encoded characters.
- **Inputs**:
    - `ch`: A byte representing a character to be encoded in UTF-8. Valid values are in the range of 0 to 255. The caller retains ownership of this value, and it must not be null.
- **Output**: Returns a `u_int` value that represents the UTF-8 encoded character, combining the size and width information with the input character.
- **See also**: [`utf8_build_one`](utf8.c.driver.md#utf8_build_one)  (Implementation)


---
### utf8_from_data<!-- {{#callable_declaration:utf8_from_data}} -->
Converts UTF-8 data to a UTF-8 character.
- **Description**: This function is used to convert a given `utf8_data` structure into a single `utf8_char`. It should be called when you have a valid `utf8_data` structure that contains UTF-8 encoded data. The function checks the width and size of the data; if the width is greater than 2 or the size exceeds the defined `UTF8_SIZE`, it will return an error state. If the width is zero, it sets the output character to indicate an invalid state. The caller must ensure that the `utf8_data` structure is properly initialized before calling this function.
- **Inputs**:
    - `ud`: A pointer to a `struct utf8_data` that contains the UTF-8 encoded data. This structure must be properly initialized and should not be null. The `width` and `size` fields must be within valid ranges, otherwise, the function will handle the error internally.
    - `uc`: A pointer to a `utf8_char` where the resulting character will be stored. The caller retains ownership of this pointer, and it must not be null.
- **Output**: Returns an `enum utf8_state` indicating the result of the conversion. It can return `UTF8_DONE` if the conversion is successful or `UTF8_ERROR` if there was an issue with the input data.
- **See also**: [`utf8_from_data`](utf8.c.driver.md#utf8_from_data)  (Implementation)


---
### utf8_to_data<!-- {{#callable_declaration:utf8_to_data}} -->
Converts a UTF-8 character to its expanded data representation.
- **Description**: This function is used to convert a single UTF-8 character, represented as `utf8_char`, into an expanded format stored in a `struct utf8_data`. It should be called when you need to interpret or manipulate UTF-8 characters, particularly in applications that require handling of character widths and sizes. The `struct utf8_data` must be properly allocated and passed to the function. The function initializes the `utf8_data` structure, setting its size and width based on the input character. If the character is not valid or cannot be represented, the data field will be filled with spaces.
- **Inputs**:
    - `uc`: A UTF-8 character represented as `utf8_char`. This input must be a valid UTF-8 character. The function does not perform validation on the character itself, but it assumes that the caller provides a valid UTF-8 character.
    - `ud`: A pointer to a `struct utf8_data` where the expanded character data will be stored. This structure must be allocated by the caller and must not be null.
- **Output**: The function does not return a value. Instead, it populates the `struct utf8_data` pointed to by `ud` with the size, width, and data representation of the UTF-8 character.
- **See also**: [`utf8_to_data`](utf8.c.driver.md#utf8_to_data)  (Implementation)


---
### utf8_set<!-- {{#callable_declaration:utf8_set}} -->
Sets a UTF-8 character in the provided data structure.
- **Description**: This function initializes the `utf8_data` structure pointed to by the `ud` parameter with default values and sets the first byte of the `data` array to the specified UTF-8 character `ch`. It should be called when you need to prepare a `utf8_data` structure for use, ensuring that it starts in a clean state. The function does not check for the validity of the character `ch`, so it is the caller's responsibility to ensure that it is a valid UTF-8 character.
- **Inputs**:
    - `ud`: A pointer to a `struct utf8_data` that will be initialized. Must not be null.
    - `ch`: A UTF-8 character represented as an unsigned char. Valid values are any valid UTF-8 character. The function does not validate the character.
- **Output**: None
- **See also**: [`utf8_set`](utf8.c.driver.md#utf8_set)  (Implementation)


---
### utf8_copy<!-- {{#callable_declaration:utf8_copy}} -->
Copies UTF-8 data from one structure to another.
- **Description**: This function is used to copy the contents of one `struct utf8_data` instance to another. It is important to ensure that the destination structure is properly allocated and initialized before calling this function. The function will copy the entire structure, including the size and width fields, and will zero out any remaining space in the data array to ensure there are no leftover values. It is expected that the `to` and `from` pointers are valid and not null.
- **Inputs**:
    - `to`: A pointer to the destination `struct utf8_data` where the data will be copied. Must not be null and should point to a valid memory location.
    - `from`: A pointer to the source `struct utf8_data` from which the data will be copied. Must not be null and should point to a valid memory location.
- **Output**: None
- **See also**: [`utf8_copy`](utf8.c.driver.md#utf8_copy)  (Implementation)


---
### utf8_open<!-- {{#callable_declaration:utf8_open}} -->
Initializes a UTF-8 data structure.
- **Description**: This function is used to initialize a `struct utf8_data` instance for processing a UTF-8 character. It should be called before any UTF-8 character is appended to the data structure. The function determines the expected size of the UTF-8 character based on the provided character `ch`. If `ch` is not a valid starting byte for a UTF-8 character, the function will return an error state. The function also sets the initial state of the `utf8_data` structure, preparing it for further operations.
- **Inputs**:
    - `ud`: A pointer to a `struct utf8_data` that will be initialized. Must not be null.
    - `ch`: A character byte to initialize the UTF-8 data. Valid values are in the range of 0xC2 to 0xF4. If the value is outside this range, the function will return an error state.
- **Output**: Returns an `enum utf8_state` indicating the result of the initialization: `UTF8_MORE` if more bytes are expected, `UTF8_DONE` if the character is complete, or `UTF8_ERROR` if the input is invalid.
- **See also**: [`utf8_open`](utf8.c.driver.md#utf8_open)  (Implementation)


---
### utf8_append<!-- {{#callable_declaration:utf8_append}} -->
Appends a UTF-8 character to the data structure.
- **Description**: This function is used to append a single UTF-8 character, represented by the parameter `ch`, to a `struct utf8_data`. It should be called when constructing a UTF-8 character sequence. The function checks for overflow conditions and ensures that the character is valid within the context of UTF-8 encoding. If the character is appended successfully and the expected size is reached, it will determine the width of the character. The function should not be called if the `struct utf8_data` has already reached its maximum size.
- **Inputs**:
    - `ud`: A pointer to a `struct utf8_data` that holds the UTF-8 character data. Must not be null and should be properly initialized before use.
    - `ch`: A `u_char` representing the UTF-8 character to append. Valid values are any valid UTF-8 byte. If the character is invalid (e.g., a continuation byte when not expected), the function will handle it by marking the width as invalid.
- **Output**: Returns an `enum utf8_state` indicating the result of the operation: `UTF8_MORE` if more bytes are needed to complete the character, `UTF8_DONE` if the character was successfully appended, or `UTF8_ERROR` if an error occurred during the process.
- **See also**: [`utf8_append`](utf8.c.driver.md#utf8_append)  (Implementation)


---
### utf8_isvalid<!-- {{#callable_declaration:utf8_isvalid}} -->
Checks if a UTF-8 string is valid.
- **Description**: This function is used to validate a UTF-8 encoded string. It should be called with a null-terminated string as input. The function iterates through the string, checking each character to ensure it conforms to UTF-8 encoding rules. If any invalid character is found, the function returns 0. If the entire string is valid, it returns 1. It is important to ensure that the input string is not null; passing a null pointer will lead to undefined behavior.
- **Inputs**:
    - `s`: A pointer to a null-terminated string containing the UTF-8 data to be validated. Must not be null. If the string contains any invalid UTF-8 sequences, the function will return 0.
- **Output**: Returns 1 if the string is valid UTF-8, or 0 if it is not.
- **See also**: [`utf8_isvalid`](utf8.c.driver.md#utf8_isvalid)  (Implementation)


---
### utf8_strvis<!-- {{#callable_declaration:utf8_strvis}} -->
Converts a UTF-8 string to a visual representation.
- **Description**: This function is used to convert a UTF-8 encoded string into a visual representation, which can be useful for displaying special characters in a way that is safe for terminal output. It should be called with a valid destination buffer that has enough space to hold the resulting string. The function processes the input string up to the specified length, handling any special cases defined by the provided flag. If the input string contains invalid UTF-8 sequences, they will be replaced with a visual representation. The function must be called with a non-null destination buffer.
- **Inputs**:
    - `dst`: A pointer to the destination buffer where the visual representation will be stored. Must not be null and should have enough space to hold the output.
    - `src`: A pointer to the source UTF-8 encoded string. Must not be null.
    - `len`: The maximum number of bytes to process from the source string. Must be greater than zero.
    - `flag`: An integer that specifies how to handle certain characters. Valid flags are defined in the documentation. The behavior is undefined if an invalid flag is provided.
- **Output**: Returns the number of bytes written to the destination buffer.
- **See also**: [`utf8_strvis`](utf8.c.driver.md#utf8_strvis)  (Implementation)


---
### utf8_stravis<!-- {{#callable_declaration:utf8_stravis}} -->
Converts a UTF-8 string to a visual representation.
- **Description**: This function is used to convert a UTF-8 encoded string into a visually representable format, which can be useful for displaying text in a user interface. It should be called with a valid UTF-8 string as input. The `dst` parameter will point to the newly allocated buffer containing the converted string, which the caller is responsible for freeing. The function may return a length of zero if the input string is empty or if an error occurs during conversion.
- **Inputs**:
    - `dst`: A pointer to a `char*` where the converted string will be stored. Must not be null. The caller retains ownership of the memory pointed to by this pointer after the function returns.
    - `src`: A pointer to the source UTF-8 string to be converted. Must not be null and should be a valid UTF-8 encoded string.
    - `flag`: An integer flag that modifies the behavior of the conversion. Valid values depend on the specific implementation and should be documented separately.
- **Output**: Returns the length of the converted string. If the conversion fails, a negative value may be returned, indicating an error.
- **See also**: [`utf8_stravis`](utf8.c.driver.md#utf8_stravis)  (Implementation)


---
### utf8_stravisx<!-- {{#callable_declaration:utf8_stravisx}} -->
Converts a UTF-8 string to a visual representation.
- **Description**: This function is used to convert a UTF-8 encoded string into a visually representable format, which can be useful for displaying or processing text in a user interface. It should be called with a valid source string and its length, and the destination pointer will be updated to point to the newly allocated visual representation. The function handles memory allocation for the output, so the caller is responsible for freeing the allocated memory when it is no longer needed. It is important to ensure that the `src` parameter is not null and that `srclen` accurately reflects the length of the source string.
- **Inputs**:
    - `dst`: A pointer to a `char*` where the function will store the address of the allocated visual representation. Must not be null.
    - `src`: A pointer to the source UTF-8 string to be converted. Must not be null.
    - `srclen`: The length of the source string in bytes. Must be greater than zero.
    - `flag`: An integer flag that modifies the behavior of the conversion. Valid values depend on the specific implementation and should be documented separately.
- **Output**: Returns the length of the visual representation string in bytes. If the conversion fails, a negative value may be returned, indicating an error.
- **See also**: [`utf8_stravisx`](utf8.c.driver.md#utf8_stravisx)  (Implementation)


---
### utf8_sanitize<!-- {{#callable_declaration:utf8_sanitize}} -->
Sanitizes a UTF-8 string.
- **Description**: This function is used to sanitize a UTF-8 encoded string by replacing invalid or non-printable characters with underscores. It should be called when there is a need to ensure that a string is safe for display or processing in environments that may not handle invalid UTF-8 sequences correctly. The input string must be null-terminated. The function allocates memory for the output string, which the caller is responsible for freeing. If the input string is null, the behavior is undefined.
- **Inputs**:
    - `src`: A pointer to the source UTF-8 string to be sanitized. This string must be null-terminated. It must not be null; passing a null pointer will lead to undefined behavior.
- **Output**: Returns a pointer to a newly allocated string containing the sanitized version of the input. The caller is responsible for freeing this memory. If the input string is empty, the function will return a pointer to an empty string.
- **See also**: [`utf8_sanitize`](utf8.c.driver.md#utf8_sanitize)  (Implementation)


---
### utf8_strlen<!-- {{#callable_declaration:utf8_strlen}} -->
Calculates the length of a UTF-8 string.
- **Description**: This function is used to determine the number of UTF-8 characters in a given string represented by an array of `struct utf8_data`. It should be called with a valid pointer to an array of `struct utf8_data` elements, where the last element must have a `size` field set to 0 to indicate the end of the string. If the input pointer is null or the array does not end with a valid terminator, the behavior is undefined.
- **Inputs**:
    - `s`: A pointer to an array of `struct utf8_data` elements. Must not be null. The array must be terminated with an element where `size` is 0.
- **Output**: Returns the number of UTF-8 characters in the input array.
- **See also**: [`utf8_strlen`](utf8.c.driver.md#utf8_strlen)  (Implementation)


---
### utf8_strwidth<!-- {{#callable_declaration:utf8_strwidth}} -->
Calculates the width of a UTF-8 string.
- **Description**: This function computes the visual width of a UTF-8 encoded string represented as an array of `struct utf8_data`. It is useful for determining how much space a string will occupy when rendered in a terminal or graphical interface. The function iterates through the provided array until it encounters a `struct utf8_data` with a size of zero, or until it reaches the specified limit `n`. If `n` is set to -1, the entire array is processed. The width is accumulated based on the `width` field of each `struct utf8_data`. It is important to ensure that the input array is properly initialized and that the `width` values are set correctly for accurate results.
- **Inputs**:
    - `s`: A pointer to an array of `struct utf8_data` representing the UTF-8 string. This array must be null-terminated, meaning the last element should have a size of zero. The caller retains ownership of this data.
    - `n`: An integer that specifies the maximum number of elements to process from the array. It can be set to -1 to process the entire array. If `n` is less than -1, the function will treat it as invalid input and may not behave as expected.
- **Output**: Returns an unsigned integer representing the total visual width of the UTF-8 string. The width is calculated based on the `width` field of each `struct utf8_data` in the array.
- **See also**: [`utf8_strwidth`](utf8.c.driver.md#utf8_strwidth)  (Implementation)


---
### utf8_fromcstr<!-- {{#callable_declaration:utf8_fromcstr}} -->
Converts a C-style string to a UTF-8 data structure.
- **Description**: This function is used to convert a null-terminated C string into a dynamically allocated array of `utf8_data` structures, which represent UTF-8 encoded characters. It should be called when there is a need to handle UTF-8 strings in a format that is compatible with the `utf8_data` structure. The input string must be valid UTF-8; if it contains invalid sequences, the function will attempt to handle them gracefully, but the resulting `utf8_data` may not represent the original string accurately. The caller is responsible for freeing the allocated memory for the resulting array.
- **Inputs**:
    - `src`: A pointer to a null-terminated C string that is to be converted. Must not be null. If the string contains invalid UTF-8 sequences, the function will attempt to handle them, but the output may not be reliable.
- **Output**: Returns a pointer to a dynamically allocated array of `utf8_data` structures representing the converted UTF-8 characters. The last element of the array has its size set to 0. The caller must free this memory when it is no longer needed.
- **See also**: [`utf8_fromcstr`](utf8.c.driver.md#utf8_fromcstr)  (Implementation)


---
### utf8_tocstr<!-- {{#callable_declaration:utf8_tocstr}} -->
Converts UTF-8 encoded data to a C-style string.
- **Description**: This function is used to convert a sequence of UTF-8 encoded characters, represented by an array of `struct utf8_data`, into a null-terminated C-style string. It is important to ensure that the input data is valid and properly initialized before calling this function. The function will allocate memory for the resulting string, which the caller is responsible for freeing. If the input data is empty, the function will return a pointer to an empty string. The caller should not pass a null pointer as the source.
- **Inputs**:
    - `src`: A pointer to an array of `struct utf8_data` that contains the UTF-8 encoded characters. This array must be properly initialized and must not be null. The function will read from this array until it encounters a `struct utf8_data` with a size of zero.
- **Output**: Returns a pointer to a newly allocated null-terminated string containing the converted UTF-8 data. The caller is responsible for freeing this memory when it is no longer needed.
- **See also**: [`utf8_tocstr`](utf8.c.driver.md#utf8_tocstr)  (Implementation)


---
### utf8_cstrwidth<!-- {{#callable_declaration:utf8_cstrwidth}} -->
Calculates the display width of a UTF-8 encoded string.
- **Description**: This function is used to determine the visual width of a UTF-8 encoded string, which may contain multi-byte characters. It should be called with a valid UTF-8 string, and it will return the total width in characters, taking into account the width of each character as it would be displayed on a terminal. The function handles invalid UTF-8 sequences gracefully by ignoring them, and it counts only printable characters, excluding control characters and the DEL character.
- **Inputs**:
    - `s`: A pointer to a null-terminated UTF-8 encoded string. Must not be null. The function will process the string until it reaches the null terminator.
- **Output**: Returns an unsigned integer representing the total display width of the string. If the input string is empty, the return value will be 0.
- **See also**: [`utf8_cstrwidth`](utf8.c.driver.md#utf8_cstrwidth)  (Implementation)


---
### utf8_padcstr<!-- {{#callable_declaration:utf8_padcstr}} -->
Pads a UTF-8 string to a specified width.
- **Description**: This function is used to ensure that a given UTF-8 string is padded with spaces to meet a specified width. It is particularly useful when displaying text in a fixed-width format. The function should be called with a valid UTF-8 string and a width greater than zero. If the string's width is already equal to or greater than the specified width, a duplicate of the original string is returned without modification. If the string is shorter than the specified width, it will be padded with spaces on the right until it reaches the desired length. The caller is responsible for freeing the returned string.
- **Inputs**:
    - `s`: A pointer to a null-terminated UTF-8 string. Must not be null. If the string is invalid or not properly encoded in UTF-8, the behavior is undefined.
    - `width`: An unsigned integer representing the desired width of the output string. Must be greater than zero. If the value is zero or negative, the function will not perform as expected.
- **Output**: Returns a pointer to a newly allocated string that is padded to the specified width. If the original string is already wide enough, a duplicate of the original string is returned. The caller must free the returned string when it is no longer needed.
- **See also**: [`utf8_padcstr`](utf8.c.driver.md#utf8_padcstr)  (Implementation)


---
### utf8_rpadcstr<!-- {{#callable_declaration:utf8_rpadcstr}} -->
Right-pads a UTF-8 string with spaces to a specified width.
- **Description**: This function is used to right-pad a given UTF-8 encoded string with spaces until it reaches the specified width. It is particularly useful when formatting output to ensure that strings align properly in a display. The function should be called with a valid UTF-8 string and a positive width value. If the string's width is already greater than or equal to the specified width, a duplicate of the original string is returned without modification. The caller is responsible for freeing the memory allocated for the returned string.
- **Inputs**:
    - `s`: A pointer to a null-terminated UTF-8 encoded string. Must not be null. The function will return a duplicate of this string if its width is greater than or equal to the specified width.
    - `width`: An unsigned integer representing the desired width of the output string. Must be a positive value. If the width is less than or equal to the width of the input string, the original string is returned.
- **Output**: Returns a pointer to a newly allocated string that is right-padded with spaces to the specified width. If the input string is already wide enough, a duplicate of the input string is returned. The caller must free the returned string when it is no longer needed.
- **See also**: [`utf8_rpadcstr`](utf8.c.driver.md#utf8_rpadcstr)  (Implementation)


---
### utf8_cstrhas<!-- {{#callable_declaration:utf8_cstrhas}} -->
Checks if a UTF-8 string contains a specific UTF-8 character.
- **Description**: This function is used to determine if a given UTF-8 encoded string contains a specific UTF-8 character, represented by a `struct utf8_data`. It should be called with a valid UTF-8 string and a non-null `utf8_data` structure. The function will return 1 if the character is found in the string, and 0 otherwise. It is important to ensure that the input string is properly encoded in UTF-8, as invalid encoding may lead to unexpected results.
- **Inputs**:
    - `s`: A pointer to a null-terminated UTF-8 encoded string. Must not be null.
    - `ud`: A pointer to a `struct utf8_data` that represents the UTF-8 character to search for. Must not be null.
- **Output**: Returns 1 if the character is found in the string, otherwise returns 0.
- **See also**: [`utf8_cstrhas`](utf8.c.driver.md#utf8_cstrhas)  (Implementation)


---
### utf8_has_zwj<!-- {{#callable_declaration:utf8_has_zwj}} -->
Checks if the UTF-8 data contains a Zero Width Joiner (ZWJ).
- **Description**: This function is used to determine if the provided UTF-8 data contains a Zero Width Joiner (ZWJ) character, which is represented by the byte sequence 0xE2 0x80 0x8D. It should be called with a valid `utf8_data` structure that has been properly initialized. If the size of the data is less than 3 bytes, the function will return 0, indicating that a ZWJ cannot be present. Otherwise, it checks the last three bytes of the data for the ZWJ sequence.
- **Inputs**:
    - `ud`: A pointer to a `struct utf8_data` that contains the UTF-8 encoded data. This structure must be initialized and its size must be at least 3 bytes to perform the check. If the pointer is null or the size is less than 3, the function will return 0.
- **Output**: Returns 1 if the last three bytes of the data match the ZWJ sequence, otherwise returns 0.
- **See also**: [`utf8_has_zwj`](utf8-combined.c.driver.md#utf8_has_zwj)  (Implementation)


---
### utf8_is_zwj<!-- {{#callable_declaration:utf8_is_zwj}} -->
Checks if the given UTF-8 data represents a zero-width joiner (ZWJ).
- **Description**: This function is used to determine if a given UTF-8 character, represented by a `struct utf8_data`, is a zero-width joiner (ZWJ). It should be called with a valid `utf8_data` structure that has been properly initialized. The function checks the size of the data; if it is not exactly 3 bytes, it will return 0, indicating that the data does not represent a ZWJ. If the size is correct, it compares the data against the specific byte sequence that represents a ZWJ. This function does not modify the input data.
- **Inputs**:
    - `ud`: A pointer to a `struct utf8_data` that contains the UTF-8 character data to be checked. The `size` field of this structure must be exactly 3 for the function to proceed with the check. If `ud` is null or if the size is not 3, the function will return 0.
- **Output**: Returns 1 if the input data represents a zero-width joiner (ZWJ), and 0 otherwise.
- **See also**: [`utf8_is_zwj`](utf8-combined.c.driver.md#utf8_is_zwj)  (Implementation)


---
### utf8_is_vs<!-- {{#callable_declaration:utf8_is_vs}} -->
Checks if the given UTF-8 data represents a variation selector.
- **Description**: This function is used to determine if the provided UTF-8 data corresponds to a variation selector character, which is a specific type of Unicode character used to modify the appearance of a preceding character. It should be called with a valid `struct utf8_data` that has been properly initialized. The function expects the `size` field of the `utf8_data` structure to be exactly 3, as variation selectors are represented by a specific 3-byte sequence. If the size is not 3, the function will return 0, indicating that the data does not represent a variation selector.
- **Inputs**:
    - `ud`: A pointer to a `struct utf8_data` that contains the UTF-8 character data to be checked. The `size` field must be exactly 3 for the function to proceed with the check. If `ud` is null or if the size is not 3, the function will return 0.
- **Output**: Returns 1 if the UTF-8 data represents a variation selector, and 0 otherwise.
- **See also**: [`utf8_is_vs`](utf8-combined.c.driver.md#utf8_is_vs)  (Implementation)


---
### utf8_is_modifier<!-- {{#callable_declaration:utf8_is_modifier}} -->
Determines if a UTF-8 character is a modifier.
- **Description**: This function checks if the provided UTF-8 character, represented by the `utf8_data` structure, is a modifier character. It should be called with a valid `utf8_data` pointer that has been properly initialized. If the character is a recognized modifier, the function returns a non-zero value; otherwise, it returns zero. It is important to ensure that the `utf8_data` structure is correctly populated before calling this function, as invalid or uninitialized data may lead to unexpected results.
- **Inputs**:
    - `ud`: A pointer to a `utf8_data` structure representing the UTF-8 character to be checked. This pointer must not be null and should point to a valid `utf8_data` instance that has been initialized with a UTF-8 character. If the data is invalid or improperly initialized, the function will return zero.
- **Output**: Returns a non-zero value if the character is a modifier, and zero otherwise.
- **See also**: [`utf8_is_modifier`](utf8-combined.c.driver.md#utf8_is_modifier)  (Implementation)


---
### log_add_level<!-- {{#callable_declaration:log_add_level}} -->
Increments the logging level.
- **Description**: This function is used to increase the current logging level, which may affect the verbosity of log messages generated by the application. It should be called when a higher level of detail in logging is desired, typically during debugging or development phases. There are no specific preconditions for calling this function, but it is important to ensure that the logging system has been initialized before invoking it. The function does not return any value.
- **Inputs**:
    - None
- **Output**: None
- **See also**: [`log_add_level`](log.c.driver.md#log_add_level)  (Implementation)


---
### log_get_level<!-- {{#callable_declaration:log_get_level}} -->
Retrieves the current logging level.
- **Description**: This function is used to obtain the current logging level set for the application. It can be called at any time to check the logging level, which may be useful for debugging or logging purposes. There are no specific preconditions for calling this function, and it does not modify any state or data.
- **Inputs**:
    - None
- **Output**: Returns an integer representing the current logging level.
- **See also**: [`log_get_level`](log.c.driver.md#log_get_level)  (Implementation)


---
### log_open<!-- {{#callable_declaration:log_open}} -->
Opens a log file for writing.
- **Description**: This function is used to open a log file with a specified name, appending log entries to it. It should be called when logging is enabled, which is determined by the global `log_level` variable. If logging is disabled (i.e., `log_level` is 0), the function will return immediately without performing any actions. If the log file cannot be opened, the function will also return without any error indication. It is important to ensure that this function is called after any necessary initialization of the logging system.
- **Inputs**:
    - `name`: A pointer to a null-terminated string representing the name of the log file. This parameter must not be null. The function will format the log file name using this string and the process ID. If the provided name is invalid or if memory allocation fails, the function will handle it gracefully without crashing.
- **Output**: The function does not return a value and does not mutate any inputs.
- **See also**: [`log_open`](log.c.driver.md#log_open)  (Implementation)


---
### log_toggle<!-- {{#callable_declaration:log_toggle}} -->
Toggles the logging state.
- **Description**: This function is used to toggle the logging state of the application. When called, if logging is currently disabled (indicated by a log level of 0), it enables logging, opens a log file with the specified name, and logs a debug message indicating that logging has been opened. If logging is already enabled, it logs a debug message indicating that logging has been closed and then disables logging. It is important to call this function in the appropriate context where logging is required, and it should not be called repeatedly without a clear understanding of the logging state.
- **Inputs**:
    - `name`: A string representing the name of the log file to be opened. This parameter must not be null and should point to a valid string. If an invalid string is provided, the function may not behave as expected.
- **Output**: None
- **See also**: [`log_toggle`](log.c.driver.md#log_toggle)  (Implementation)


---
### log_close<!-- {{#callable_declaration:log_close}} -->
Closes the logging system.
- **Description**: This function is used to safely close the logging system, ensuring that any open log files are properly closed and resources are released. It should be called when logging is no longer needed, such as during application shutdown. There are no parameters to pass, and the function does not return a value.
- **Inputs**:
    - None
- **Output**: None
- **See also**: [`log_close`](log.c.driver.md#log_close)  (Implementation)


---
### menu_create<!-- {{#callable_declaration:menu_create}} -->
Creates a new menu structure.
- **Description**: This function is used to create a new `menu` structure with a specified title. It allocates memory for the menu and initializes its title and width based on the provided title string. It is important to ensure that the `title` parameter is a valid, non-null string, as it will be duplicated for internal storage. The function should be called when a new menu is needed, and the caller is responsible for freeing the allocated menu structure when it is no longer needed.
- **Inputs**:
    - `title`: A pointer to a null-terminated string that represents the title of the menu. Must not be null. The function duplicates this string for internal use.
- **Output**: Returns a pointer to the newly created `menu` structure. If memory allocation fails, the behavior is undefined.
- **See also**: [`menu_create`](menu.c.driver.md#menu_create)  (Implementation)


---
### menu_add_items<!-- {{#callable_declaration:menu_add_items}} -->
Adds items to a menu.
- **Description**: This function is used to populate a `menu` with a list of `menu_item` structures. It should be called when you want to dynamically add items to a menu, typically after the menu has been created. The function iterates through the provided array of `menu_item` structures until it encounters a `menu_item` with a `name` set to `NULL`, which indicates the end of the list. It is important to ensure that the `items` parameter is not null and that the `menu` has been properly initialized before calling this function.
- **Inputs**:
    - `menu`: A pointer to the `menu` structure where items will be added. Must not be null and should be initialized before use.
    - `items`: A pointer to an array of `menu_item` structures. The array must be terminated with a `menu_item` that has its `name` set to NULL. Must not be null.
    - `qitem`: A pointer to a `cmdq_item` structure that represents the command queue item associated with the menu operation. This can be null if not needed.
    - `c`: A pointer to a `client` structure representing the client associated with the menu. This can be null if not needed.
    - `fs`: A pointer to a `cmd_find_state` structure that holds the state for command finding. This can be null if not needed.
- **Output**: None
- **See also**: [`menu_add_items`](menu.c.driver.md#menu_add_items)  (Implementation)


---
### menu_add_item<!-- {{#callable_declaration:menu_add_item}} -->
Adds an item to a menu.
- **Description**: This function is used to add a new item to a menu structure. It should be called when you want to include a new command or option in the menu. If the `item` parameter is NULL or if its `name` is empty, the function will not add a new item if the menu is empty or if the last item in the menu has no name. The function also handles formatting the item name based on the terminal width and may trim the name if it exceeds the available space. It is important to ensure that the `menu` structure is properly initialized before calling this function.
- **Inputs**:
    - `menu`: A pointer to the `menu` structure where the item will be added. Must not be null.
    - `item`: A pointer to the `menu_item` structure that contains the details of the item to be added. Must not be null.
    - `qitem`: A pointer to a `cmdq_item` structure that represents the command queue item associated with the menu item. Can be null.
    - `c`: A pointer to the `client` structure representing the client context. Must not be null.
    - `fs`: A pointer to a `cmd_find_state` structure that holds the state for command finding. Can be null.
- **Output**: The function does not return a value and does not mutate any inputs directly. It modifies the `menu` structure by adding a new item.
- **See also**: [`menu_add_item`](menu.c.driver.md#menu_add_item)  (Implementation)


---
### menu_free<!-- {{#callable_declaration:menu_free}} -->
Frees the resources associated with a `menu`.
- **Description**: This function should be called to release all memory allocated for a `menu` structure, including its title and items. It is essential to call this function when the `menu` is no longer needed to prevent memory leaks. The caller must ensure that the `menu` pointer is valid and not null before invoking this function.
- **Inputs**:
    - `menu`: A pointer to a `menu` structure that needs to be freed. Must not be null. The function will free all associated resources, including the title and items of the menu.
- **Output**: None
- **See also**: [`menu_free`](menu.c.driver.md#menu_free)  (Implementation)


---
### menu_prepare<!-- {{#callable_declaration:menu_prepare}} -->
Prepares a menu for display.
- **Description**: This function is used to prepare a menu for display in a terminal interface. It should be called after ensuring that the terminal has been initialized and is ready to display content. The function takes various parameters to customize the menu's appearance and behavior, including its position, styles, and the initial choice. If the specified dimensions for the menu exceed the terminal's size, the function will adjust the position to fit within the terminal. The function may return `NULL` if the menu cannot be displayed due to size constraints.
- **Inputs**:
    - `menu`: Pointer to a `struct menu` that defines the items to be displayed. Must not be null.
    - `flags`: Integer flags that modify the behavior of the menu. Valid values depend on the implementation.
    - `starting_choice`: Integer indicating the index of the initially selected item. Must be within the range of available menu items.
    - `item`: Pointer to a `struct cmdq_item` that may be associated with the menu. Can be null.
    - `px`: Unsigned integer specifying the x-coordinate for the menu's position. Must be within the terminal's width.
    - `py`: Unsigned integer specifying the y-coordinate for the menu's position. Must be within the terminal's height.
    - `c`: Pointer to a `struct client` representing the client context. Must not be null.
    - `lines`: Enumeration value indicating the type of box lines to use for the menu border. Can be set to `BOX_LINES_DEFAULT`.
    - `style`: String representing the style to be applied to the menu. Can be null.
    - `selected_style`: String representing the style for the selected item. Can be null.
    - `border_style`: String representing the style for the menu border. Can be null.
    - `fs`: Pointer to a `struct cmd_find_state` that may be used for context. Can be null.
    - `cb`: Callback function of type `menu_choice_cb` that will be called when a choice is made. Must not be null.
    - `data`: Pointer to user-defined data that will be passed to the callback. Can be null.
- **Output**: Returns a pointer to a `struct menu_data` that contains the prepared menu information. If the menu cannot be prepared due to size constraints, it returns `NULL`.
- **See also**: [`menu_prepare`](menu.c.driver.md#menu_prepare)  (Implementation)


---
### menu_display<!-- {{#callable_declaration:menu_display}} -->
Displays a menu overlay.
- **Description**: This function is used to display a menu overlay on the specified client. It must be called after the menu has been prepared and the client is ready to receive overlays. The function takes various parameters to customize the menu's appearance and behavior, including styles for the menu and selected items. If the menu preparation fails, the function will return -1, indicating an error; otherwise, it will return 0 to indicate success.
- **Inputs**:
    - `menu`: Pointer to a `struct menu` that contains the items to be displayed. Must not be null.
    - `flags`: Integer flags that modify the behavior of the menu display. Valid values depend on the implementation.
    - `starting_choice`: Integer indicating the index of the starting choice in the menu. Must be within the range of available menu items.
    - `item`: Pointer to a `struct cmdq_item` that represents the command queue item associated with the menu. Can be null.
    - `px`: Unsigned integer representing the x-coordinate in pixels where the menu should be displayed. Must be non-negative.
    - `py`: Unsigned integer representing the y-coordinate in pixels where the menu should be displayed. Must be non-negative.
    - `c`: Pointer to a `struct client` that represents the client on which the menu will be displayed. Must not be null.
    - `lines`: Enumeration value of type `enum box_lines` that specifies the style of the box lines around the menu. Must be a valid value from the enumeration.
    - `style`: Pointer to a string that specifies the style for the menu items. Can be null.
    - `selected_style`: Pointer to a string that specifies the style for the selected menu item. Can be null.
    - `border_style`: Pointer to a string that specifies the style for the border of the menu. Can be null.
    - `fs`: Pointer to a `struct cmd_find_state` that represents the state for finding commands. Can be null.
    - `cb`: Callback function of type `menu_choice_cb` that will be called when a menu choice is made. Must not be null.
    - `data`: Pointer to user-defined data that will be passed to the callback function. Can be null.
- **Output**: Returns 0 on success, or -1 if an error occurs during menu preparation.
- **See also**: [`menu_display`](menu.c.driver.md#menu_display)  (Implementation)


---
### menu_mode_cb<!-- {{#callable_declaration:menu_mode_cb}} -->
Handles the menu mode callback.
- **Description**: This function is intended to be used in the context of a menu interface, where it updates the cursor position based on the current menu choice. It should be called when the menu is being displayed or updated. The function modifies the values pointed to by `cx` and `cy` to reflect the new cursor position, which is determined by the `menu_data` structure passed in as `data`. If the `choice` in `menu_data` is -1, the cursor's y-coordinate will be set to the value of `py`. Otherwise, it will be set to `py + 1 + choice`. It is important to ensure that the `data` parameter is valid and points to a properly initialized `menu_data` structure.
- **Inputs**:
    - `c`: A pointer to a `client` structure. This parameter is unused in the current implementation.
    - `data`: A pointer to a `menu_data` structure that contains the menu state. Must not be null and should point to a valid `menu_data` instance.
    - `cx`: A pointer to a `u_int` variable where the x-coordinate of the cursor will be stored. The function will write the updated x-coordinate to this variable.
    - `cy`: A pointer to a `u_int` variable where the y-coordinate of the cursor will be stored. The function will write the updated y-coordinate to this variable.
- **Output**: Returns a pointer to a `screen` structure associated with the menu, which can be used for further operations on the menu display.
- **See also**: [`menu_mode_cb`](menu.c.driver.md#menu_mode_cb)  (Implementation)


---
### menu_check_cb<!-- {{#callable_declaration:menu_check_cb}} -->
Checks the overlay ranges for a menu.
- **Description**: This function is intended to be called when checking the overlay ranges for a menu display. It requires that the `menu_data` structure is properly initialized and that the overlay ranges are valid. The function computes the overlay ranges based on the provided pixel coordinates and the dimensions of the menu. It is important to ensure that the `data` parameter is not null and that the `overlay_ranges` structure is properly allocated to avoid undefined behavior.
- **Inputs**:
    - `c`: A pointer to a `client` structure. This parameter is unused in the function but is included for callback compatibility. It can be null.
    - `data`: A pointer to a `menu_data` structure that contains information about the menu. Must not be null.
    - `px`: An unsigned integer representing the x-coordinate of the pixel position. Valid values are non-negative integers.
    - `py`: An unsigned integer representing the y-coordinate of the pixel position. Valid values are non-negative integers.
    - `nx`: An unsigned integer representing the width of the overlay. Valid values are non-negative integers.
    - `r`: A pointer to an `overlay_ranges` structure that will be populated with the computed overlay ranges. Must not be null.
- **Output**: None
- **See also**: [`menu_check_cb`](menu.c.driver.md#menu_check_cb)  (Implementation)


---
### menu_draw_cb<!-- {{#callable_declaration:menu_draw_cb}} -->
Draws the menu on the screen.
- **Description**: This function is used to render a menu on the screen for a specified client. It should be called when the menu needs to be displayed, typically after the client has been initialized and is ready to receive output. The function clears the screen and draws the menu with optional borders and styles. It is important to ensure that the `client` and `menu_data` structures are properly initialized before calling this function, as passing invalid or uninitialized data may lead to undefined behavior.
- **Inputs**:
    - `c`: A pointer to a `client` structure representing the client for which the menu is being drawn. Must not be null.
    - `data`: A pointer to a `menu_data` structure containing the menu information, including the menu items and their styles. Must not be null.
    - `rctx`: A pointer to a `screen_redraw_ctx` structure, which is unused in this function. Can be passed as null.
- **Output**: None
- **See also**: [`menu_draw_cb`](menu.c.driver.md#menu_draw_cb)  (Implementation)


---
### menu_free_cb<!-- {{#callable_declaration:menu_free_cb}} -->
Frees resources associated with a menu.
- **Description**: This function is intended to be called when a menu is no longer needed, allowing for proper cleanup of associated resources. It should be invoked when the menu is being dismissed or destroyed. The function checks if there are any items or callbacks associated with the menu data and invokes them accordingly before freeing the menu data structure itself. It is important to ensure that this function is called to prevent memory leaks.
- **Inputs**:
    - `c`: A pointer to a `client` structure, which is unused in this function. It can be NULL.
    - `data`: A pointer to a `menu_data` structure that contains the menu's data. This pointer must not be NULL, as it is expected to contain valid data for cleanup.
- **Output**: None
- **See also**: [`menu_free_cb`](menu.c.driver.md#menu_free_cb)  (Implementation)


---
### menu_key_cb<!-- {{#callable_declaration:menu_key_cb}} -->
Handles key and mouse events for a menu.
- **Description**: This function is intended to process key and mouse events for a menu interface. It should be called whenever a key event occurs, and it will update the menu selection based on the input. The function expects that the menu has been properly initialized and displayed before it is called. It can handle both keyboard and mouse inputs, and it will modify the menu's current selection based on the user's actions. If the input is invalid or does not correspond to any action, the function will return without making changes.
- **Inputs**:
    - `c`: A pointer to a `struct client` representing the client that is interacting with the menu. Must not be null.
    - `data`: A pointer to a `struct menu_data` that contains the menu's state and data. Must not be null.
    - `event`: A pointer to a `struct key_event` that contains the key or mouse event to be processed. Must not be null.
- **Output**: Returns an integer indicating the result of the event handling. A return value of 0 indicates that the event was processed successfully, while a return value of 1 indicates that the event was not processed (e.g., it was ignored or resulted in no action).
- **See also**: [`menu_key_cb`](menu.c.driver.md#menu_key_cb)  (Implementation)


---
### popup_display<!-- {{#callable_declaration:popup_display}} -->
Displays a popup window.
- **Description**: This function is used to create and display a popup window with specified dimensions and content. It should be called when a popup is needed, such as for notifications or user input. The function requires that the client and session are properly initialized and that the dimensions specified for the popup are valid. If the dimensions are too small or exceed the terminal size, the function will return an error. The popup can also execute a shell command and handle its output, making it suitable for interactive tasks.
- **Inputs**:
    - `flags`: Flags to customize the popup behavior. Valid values depend on the implementation and should be checked in the documentation.
    - `lines`: Specifies the type of border lines for the popup. It can be one of the predefined box line styles.
    - `item`: A pointer to a `cmdq_item` structure that represents the command queue item associated with the popup. Must not be null.
    - `px`: The x-coordinate for the popup's position. Must be a non-negative integer.
    - `py`: The y-coordinate for the popup's position. Must be a non-negative integer.
    - `sx`: The width of the popup in pixels. Must be at least 1 for no border or at least 3 for a bordered popup.
    - `sy`: The height of the popup in pixels. Must be at least 1 for no border or at least 3 for a bordered popup.
    - `env`: A pointer to an `environ` structure representing the environment variables. Caller retains ownership.
    - `shellcmd`: A string representing the shell command to execute within the popup. Can be null if no command is needed.
    - `argc`: The number of arguments for the shell command. Should be non-negative.
    - `argv`: An array of strings representing the arguments for the shell command. Can be null if no command is needed.
    - `cwd`: The current working directory for the shell command. Can be null.
    - `title`: The title of the popup window. Can be null.
    - `c`: A pointer to a `client` structure representing the client associated with the popup. Must not be null.
    - `s`: A pointer to a `session` structure representing the session associated with the popup. Can be null.
    - `style`: A string representing the style of the popup. Can be null.
    - `border_style`: A string representing the style of the popup border. Can be null.
    - `cb`: A callback function to be called when the popup closes. Can be null.
    - `arg`: An argument to be passed to the callback function. Can be null.
- **Output**: Returns 0 on success, or -1 if an error occurs, such as invalid dimensions or if the client or session is not properly initialized.
- **See also**: [`popup_display`](popup.c.driver.md#popup_display)  (Implementation)


---
### style_parse<!-- {{#callable_declaration:style_parse}} -->
Parses a style string and updates the style structure.
- **Description**: This function is used to parse a style string and apply the parsed styles to the provided `style` structure. It should be called with a valid `style` structure and a non-null input string. The input string can contain various style directives, and the function will modify the `style` structure accordingly. If the input string is empty, the function will return 0 without making any changes. If an error occurs during parsing, the original style is restored from the saved state, and the function returns -1.
- **Inputs**:
    - `sy`: A pointer to a `style` structure that will be modified. Must not be null.
    - `base`: A pointer to a `grid_cell` structure that provides default values for the style. Must not be null.
    - `in`: A pointer to a null-terminated string containing the style directives. Must not be null.
- **Output**: Returns 0 on success, or -1 if an error occurs during parsing.
- **See also**: [`style_parse`](style.c.driver.md#style_parse)  (Implementation)


---
### style_tostring<!-- {{#callable_declaration:style_tostring}} -->
Converts a `style` structure to a string representation.
- **Description**: This function is used to obtain a human-readable string representation of a `style` structure, which includes various style attributes such as list status, range type, alignment, and color settings. It should be called after the `style` structure has been properly initialized. If the `style` structure contains no attributes set, the function will return the string 'default'. The output string is statically allocated and will be overwritten on subsequent calls.
- **Inputs**:
    - `sy`: A pointer to a `style` structure that contains the style attributes to be converted. Must not be null.
- **Output**: Returns a pointer to a string representation of the `style` attributes. If no attributes are set, returns the string 'default'.
- **See also**: [`style_tostring`](style.c.driver.md#style_tostring)  (Implementation)


---
### style_add<!-- {{#callable_declaration:style_add}} -->
Adds a style to a grid cell.
- **Description**: This function is used to apply a style to a specified grid cell, which is represented by the `gc` parameter. It should be called after the necessary options have been set up in the `oo` parameter, and the style name is provided as the `name` parameter. If the `ft` parameter is NULL, a default format tree will be created. The function modifies the foreground and background colors, underline style, and attributes of the grid cell based on the specified style. If the style cannot be found, a default style will be applied. It is important to ensure that the `gc` and `oo` parameters are valid and properly initialized before calling this function.
- **Inputs**:
    - `gc`: A pointer to a `struct grid_cell` that represents the grid cell to which the style will be applied. Must not be null.
    - `oo`: A pointer to a `struct options` that contains the style options. Must not be null.
    - `name`: A string representing the name of the style to be applied. Must not be null.
    - `ft`: A pointer to a `struct format_tree` that defines the format. Can be null, in which case a default format tree will be created.
- **Output**: None
- **See also**: [`style_add`](style.c.driver.md#style_add)  (Implementation)


---
### style_apply<!-- {{#callable_declaration:style_apply}} -->
Applies a style to a grid cell.
- **Description**: This function is used to apply a specific style to a `grid_cell` structure. It should be called when you want to set the visual attributes of a grid cell based on the provided options and style name. The function initializes the `grid_cell` with default values before applying the specified style. It is important to ensure that the `grid_cell` and `options` structures are properly allocated and initialized before calling this function. If the provided `name` or `format_tree` is invalid, the behavior is undefined.
- **Inputs**:
    - `gc`: A pointer to a `grid_cell` structure that will be modified. Must not be null and should be properly allocated.
    - `oo`: A pointer to an `options` structure containing style options. Must not be null and should be properly initialized.
    - `name`: A string representing the name of the style to apply. Must not be null.
    - `ft`: A pointer to a `format_tree` structure that may contain additional formatting information. Can be null if no additional formatting is needed.
- **Output**: None
- **See also**: [`style_apply`](style.c.driver.md#style_apply)  (Implementation)


---
### style_set<!-- {{#callable_declaration:style_set}} -->
Sets the style based on the provided grid cell.
- **Description**: This function initializes a `style` structure with default values and updates its grid cell attribute using the provided `grid_cell`. It should be called when you need to configure a style for a specific grid cell, ensuring that the style is reset to default before applying new attributes. The function does not perform any validation on the input parameters, so it is the caller's responsibility to ensure that the `style` pointer is valid and that the `grid_cell` pointer is not null.
- **Inputs**:
    - `sy`: A pointer to a `style` structure that will be initialized. Must not be null.
    - `gc`: A pointer to a `grid_cell` structure whose attributes will be copied into the style. Must not be null.
- **Output**: None
- **See also**: [`style_set`](style.c.driver.md#style_set)  (Implementation)


---
### style_copy<!-- {{#callable_declaration:style_copy}} -->
Copies the style from one structure to another.
- **Description**: This function is used to duplicate the properties of a `style` structure from a source to a destination. It is important to ensure that both the source and destination pointers are valid and point to allocated `style` structures before calling this function. If either pointer is null, the behavior is undefined, and it may lead to a crash or memory corruption.
- **Inputs**:
    - `dst`: A pointer to the destination `style` structure where the properties will be copied. Must not be null.
    - `src`: A pointer to the source `style` structure from which properties will be copied. Must not be null.
- **Output**: None
- **See also**: [`style_copy`](style.c.driver.md#style_copy)  (Implementation)


---
### style_set_scrollbar_style_from_option<!-- {{#callable_declaration:style_set_scrollbar_style_from_option}} -->
Sets the scrollbar style based on options.
- **Description**: This function configures the scrollbar style for a given pane based on the specified options. It should be called when initializing or updating the pane's appearance. If the specified style option is not valid or not found, default values for width, padding, and character will be applied. The function ensures that the width is at least 1 and the padding is non-negative, applying defaults where necessary.
- **Inputs**:
    - `sb_style`: A pointer to a `struct style` that will be modified to set the scrollbar style. Must not be null.
    - `oo`: A pointer to a `struct options` containing the style options. Must not be null.
- **Output**: None
- **See also**: [`style_set_scrollbar_style_from_option`](style.c.driver.md#style_set_scrollbar_style_from_option)  (Implementation)


---
### spawn_window<!-- {{#callable_declaration:spawn_window}} -->
Creates a new window or respawns an existing one.
- **Description**: This function is used to create a new window in a session or respawn an existing window. It should be called within the context of a valid `spawn_context` that has been properly initialized. If the `SPAWN_RESPAWN` flag is set, the function will attempt to respawn an existing window, destroying all panes except one if necessary. If the specified index for the new window is already in use and the `SPAWN_KILL` flag is not set, an error will be returned. The function also handles the automatic naming of the window and can switch to the new window if the `SPAWN_DETACHED` flag is not set. It is important to ensure that the `cause` parameter is provided to capture any error messages that may arise during the window creation process.
- **Inputs**:
    - `sc`: A pointer to a `spawn_context` structure that contains the necessary context for spawning the window. This must not be null and should be properly initialized before calling the function.
    - `cause`: A pointer to a character pointer that will be used to store error messages if the function fails. The caller retains ownership of the memory pointed to by this parameter, and it must be initialized to null or a valid string buffer.
- **Output**: Returns a pointer to a `winlink` structure representing the newly created or respawned window. If an error occurs, it returns NULL and sets the `cause` parameter with an appropriate error message.
- **See also**: [`spawn_window`](spawn.c.driver.md#spawn_window)  (Implementation)


---
### spawn_pane<!-- {{#callable_declaration:spawn_pane}} -->
Creates a new pane in a window.
- **Description**: This function is used to spawn a new pane within a specified window, either by creating a new process or by respawning an existing one. It should be called with a valid `spawn_context` that contains the necessary information for the new pane, including the command to execute and the working directory. If the `SPAWN_RESPAWN` flag is set, the function will attempt to reuse an existing pane, provided it is not currently active unless the `SPAWN_KILL` flag is also set. The function will return a pointer to the newly created or reused `window_pane`, or NULL if an error occurs, in which case an error message can be retrieved through the `cause` parameter.
- **Inputs**:
    - `sc`: A pointer to a `spawn_context` structure that contains the context for spawning the pane. This must not be null and should be properly initialized with the command, arguments, and other relevant data.
    - `cause`: A pointer to a character pointer where an error message can be stored if the function fails. The caller is responsible for managing the memory of this string, which may be allocated by the function.
- **Output**: Returns a pointer to the newly created or reused `window_pane` structure. If an error occurs, it returns NULL and sets the `cause` parameter with an appropriate error message.
- **See also**: [`spawn_pane`](spawn.c.driver.md#spawn_pane)  (Implementation)


---
### regsub<!-- {{#callable_declaration:regsub}} -->
Performs a regular expression substitution in a given text.
- **Description**: This function is used to replace occurrences of a specified pattern in a given text with a replacement string. It is particularly useful for text processing tasks where regular expressions are needed to identify patterns. The function must be called with a valid regular expression pattern and a non-null text string. If the text is empty, an empty string is returned. If the pattern compilation fails, the function returns NULL. The flags parameter allows for additional options during the regex compilation, such as case sensitivity.
- **Inputs**:
    - `pattern`: A string representing the regular expression pattern to search for. Must not be null.
    - `with`: A string that will replace each match of the pattern. Must not be null.
    - `text`: The input text in which to perform the substitution. Must not be null.
    - `flags`: An integer representing options for regex compilation. Valid values depend on the regex library used.
- **Output**: Returns a newly allocated string containing the modified text with substitutions made. If no substitutions are made, the original text is returned. If an error occurs during regex compilation, NULL is returned.
- **See also**: [`regsub`](regsub.c.driver.md#regsub)  (Implementation)


---
### image_free_all<!-- {{#callable_declaration:image_free_all}} -->
Frees all images associated with a screen.
- **Description**: This function is used to release all resources associated with images in a given `screen`. It should be called when the images are no longer needed, typically during cleanup or when switching contexts. The function checks if there are any images to free and will return a non-zero value if a redraw is necessary, indicating that the screen may need to be updated after the images are freed.
- **Inputs**:
    - `s`: A pointer to a `screen` structure that contains the images to be freed. This pointer must not be null, and the function assumes that the `screen` has been properly initialized before this function is called.
- **Output**: Returns an integer value: a non-zero value indicates that a redraw is necessary, while zero indicates that no redraw is needed.
- **See also**: [`image_free_all`](image.c.driver.md#image_free_all)  (Implementation)


---
### image_store<!-- {{#callable_declaration:image_store}} -->
Stores a sixel image in the specified screen.
- **Description**: This function is used to store a `sixel_image` in a `screen` structure, associating it with the current cursor position. It should be called when you want to display a sixel image on the screen. The function allocates memory for the image structure and initializes its properties based on the provided screen and image data. It is important to ensure that the `screen` and `sixel_image` pointers are valid and properly initialized before calling this function.
- **Inputs**:
    - `s`: A pointer to a `screen` structure where the image will be stored. Must not be null.
    - `si`: A pointer to a `sixel_image` structure containing the image data. Must not be null.
- **Output**: Returns a pointer to the newly created `image` structure that contains the stored image data.
- **See also**: [`image_store`](image.c.driver.md#image_store)  (Implementation)


---
### image_check_line<!-- {{#callable_declaration:image_check_line}} -->
Checks if any images overlap a specified line.
- **Description**: This function is used to determine if any images on the specified `screen` overlap with a given line defined by the parameters `py` (the starting y-coordinate) and `ny` (the height of the line). It should be called when you need to manage image rendering based on their position relative to the specified line. If any images are found to overlap, they will be freed, and the function will return a non-zero value indicating that a redraw is necessary. It is important to ensure that the `screen` pointer is valid and properly initialized before calling this function.
- **Inputs**:
    - `s`: A pointer to a `screen` structure that contains the images to check. Must not be null.
    - `py`: The y-coordinate of the starting point of the line to check for overlaps. Valid values are non-negative integers.
    - `ny`: The height of the line to check for overlaps. Must be a non-negative integer.
- **Output**: Returns an integer value: 0 if no images were freed (no overlaps found), or a non-zero value if one or more images were freed, indicating that a redraw is needed.
- **See also**: [`image_check_line`](image.c.driver.md#image_check_line)  (Implementation)


---
### image_check_area<!-- {{#callable_declaration:image_check_area}} -->
Checks and frees overlapping images in a specified area.
- **Description**: This function is used to check if any images overlap with a specified rectangular area defined by the parameters. It should be called when you need to manage image resources on a `screen` structure, particularly when the area defined by the parameters may contain images that need to be freed. The function will free any overlapping images and return a flag indicating whether a redraw is necessary. It is important to ensure that the `screen` pointer is valid and properly initialized before calling this function.
- **Inputs**:
    - `s`: A pointer to a `screen` structure that contains the images to check. Must not be null.
    - `px`: The x-coordinate of the top-left corner of the area to check. Must be a non-negative integer.
    - `py`: The y-coordinate of the top-left corner of the area to check. Must be a non-negative integer.
    - `nx`: The width of the area to check. Must be a positive integer.
    - `ny`: The height of the area to check. Must be a positive integer.
- **Output**: Returns an integer value: 1 if any images were freed and a redraw is needed, or 0 if no images were freed.
- **See also**: [`image_check_area`](image.c.driver.md#image_check_area)  (Implementation)


---
### image_scroll_up<!-- {{#callable_declaration:image_scroll_up}} -->
Scrolls the images on the screen up by a specified number of lines.
- **Description**: This function is used to scroll the images displayed on a `screen` up by a specified number of lines. It should be called when there are images that need to be adjusted in their vertical position, typically after a user action that requires the images to be moved up. The function will modify the position of each image based on the specified number of lines, and it may free images that are completely scrolled out of view. It is important to ensure that the `screen` structure is properly initialized before calling this function.
- **Inputs**:
    - `s`: A pointer to a `screen` structure that contains the images to be scrolled. Must not be null.
    - `lines`: An unsigned integer representing the number of lines to scroll up. Must be greater than zero.
- **Output**: Returns an integer indicating whether any images were redrawn as a result of the scrolling operation. A non-zero value indicates that at least one image was modified.
- **See also**: [`image_scroll_up`](image.c.driver.md#image_scroll_up)  (Implementation)


---
### sixel_parse<!-- {{#callable_declaration:sixel_parse}} -->
Parses a sixel image from a buffer.
- **Description**: This function is used to parse a sixel image from a given buffer, which contains the image data in sixel format. It should be called with a valid buffer containing sixel data, and the length of that data. The function expects the first character of the buffer to be 'q', indicating the start of a valid sixel image. If the buffer is empty or does not start with 'q', the function will return `NULL`. The function also requires the dimensions of the image in pixels, specified by `xpixel` and `ypixel`. If the parsing is successful, it returns a pointer to a `sixel_image` structure; otherwise, it returns `NULL` and frees any allocated resources. It is important to ensure that the provided buffer is not `NULL` and that the length is greater than zero to avoid undefined behavior.
- **Inputs**:
    - `buf`: A pointer to the buffer containing the sixel image data. Must not be null and should contain valid sixel data starting with 'q'.
    - `len`: The length of the buffer in bytes. Must be greater than zero. If zero or one, the function will return NULL.
    - `p2`: An unsigned integer representing the P2 parameter for the sixel image. The valid range is implementation-defined.
    - `xpixel`: An unsigned integer specifying the width of the image in pixels. Must be a positive value.
    - `ypixel`: An unsigned integer specifying the height of the image in pixels. Must be a positive value.
- **Output**: Returns a pointer to a `sixel_image` structure if parsing is successful; otherwise, returns NULL if the input is invalid or parsing fails.
- **See also**: [`sixel_parse`](image-sixel.c.driver.md#sixel_parse)  (Implementation)


---
### sixel_free<!-- {{#callable_declaration:sixel_free}} -->
Frees the resources associated with a `sixel_image`.
- **Description**: This function should be called to release the memory allocated for a `sixel_image` structure and its associated resources. It is essential to invoke this function when the image is no longer needed to prevent memory leaks. The caller must ensure that the pointer to the `sixel_image` is valid and not null before calling this function.
- **Inputs**:
    - `si`: A pointer to a `sixel_image` structure that holds the image data. This pointer must not be null. The function will free all associated memory, including the image lines and colors.
- **Output**: None
- **See also**: [`sixel_free`](image-sixel.c.driver.md#sixel_free)  (Implementation)


---
### sixel_log<!-- {{#callable_declaration:sixel_log}} -->
Logs the details of a sixel image.
- **Description**: This function is used to log the properties of a `sixel_image`, including its dimensions and color information. It should be called when there is a need to debug or inspect the contents of a sixel image. The function does not modify the image but outputs its details to a debug log. Ensure that the `sixel_image` pointer passed to the function is valid and points to a properly initialized image.
- **Inputs**:
    - `si`: A pointer to a `sixel_image` structure that contains the image data to be logged. This pointer must not be null and should point to a valid `sixel_image` instance.
- **Output**: None
- **See also**: [`sixel_log`](image-sixel.c.driver.md#sixel_log)  (Implementation)


---
### sixel_size_in_cells<!-- {{#callable_declaration:sixel_size_in_cells}} -->
Calculates the size of a sixel image in cells.
- **Description**: This function is used to determine the size of a `sixel_image` in terms of the number of cells it occupies. It should be called after the `sixel_image` has been properly initialized. The function computes the width and height in cells based on the pixel dimensions of the image and the specified pixel sizes. It is important to ensure that the `sixel_image` pointer is valid and points to a properly initialized structure before calling this function.
- **Inputs**:
    - `si`: A pointer to a `sixel_image` structure that contains the image data. Must not be null and should be properly initialized.
    - `x`: A pointer to a `u_int` variable where the width in cells will be stored. The caller retains ownership of this variable, and it must not be null.
    - `y`: A pointer to a `u_int` variable where the height in cells will be stored. The caller retains ownership of this variable, and it must not be null.
- **Output**: The function does not return a value. Instead, it populates the `x` and `y` pointers with the calculated width and height in cells, respectively.
- **See also**: [`sixel_size_in_cells`](image-sixel.c.driver.md#sixel_size_in_cells)  (Implementation)


---
### sixel_scale<!-- {{#callable_declaration:sixel_scale}} -->
Scales a sixel image to a specified size.
- **Description**: This function is used to scale a `sixel_image` to a new size defined by the `xpixel` and `ypixel` parameters. It extracts a rectangular section of the original image starting from the coordinates (`ox`, `oy`) and of size (`sx`, `sy`), and maps it to the new dimensions. The function must be called with valid coordinates and sizes; if the specified origin or size exceeds the bounds of the original image, the function will adjust the size accordingly or return `NULL` if the origin is out of bounds. The `colours` parameter determines whether to copy the colour palette from the original image.
- **Inputs**:
    - `si`: Pointer to the original `sixel_image`. Must not be null.
    - `xpixel`: The width in pixels of the scaled image. If set to 0, the original width is used.
    - `ypixel`: The height in pixels of the scaled image. If set to 0, the original height is used.
    - `ox`: The x-coordinate of the origin in the original image. Must be less than the width of the image.
    - `oy`: The y-coordinate of the origin in the original image. Must be less than the height of the image.
    - `sx`: The width of the section to extract from the original image. Must be positive.
    - `sy`: The height of the section to extract from the original image. Must be positive.
    - `colours`: Flag indicating whether to copy the colour palette from the original image. Non-zero to copy.
- **Output**: Returns a pointer to a new `sixel_image` that represents the scaled version of the original image. If the scaling operation fails, it returns `NULL`.
- **See also**: [`sixel_scale`](image-sixel.c.driver.md#sixel_scale)  (Implementation)


---
### sixel_print<!-- {{#callable_declaration:sixel_print}} -->
Generates a sixel image representation.
- **Description**: This function is used to create a sixel image representation from a given `sixel_image` structure. It can be called with either a specific color map or the default colors from the image itself. The function should be invoked after ensuring that the `sixel_image` structure is properly initialized and contains valid data. If the `map` parameter is NULL, the function will use the colors from the `sixel_image` structure. The function handles cases where there are no colors available by returning NULL. The output buffer is dynamically allocated, and the caller is responsible for freeing it after use.
- **Inputs**:
    - `si`: A pointer to a `sixel_image` structure that contains the image data. Must not be NULL.
    - `map`: An optional pointer to a `sixel_image` structure that defines a color map. If NULL, the colors from `si` will be used. Can be NULL.
    - `size`: A pointer to a size_t variable where the size of the generated image data will be stored. Can be NULL.
- **Output**: Returns a pointer to a dynamically allocated string containing the sixel image representation. If there are no colors available, it returns NULL.
- **See also**: [`sixel_print`](image-sixel.c.driver.md#sixel_print)  (Implementation)


---
### sixel_to_screen<!-- {{#callable_declaration:sixel_to_screen}} -->
Converts a `sixel_image` to a `screen` structure.
- **Description**: This function is used to create a `screen` representation from a `sixel_image`. It should be called when you need to display a sixel image on the screen. The function allocates memory for the `screen` structure and initializes it based on the dimensions of the provided `sixel_image`. It is important to ensure that the `sixel_image` is valid and properly initialized before calling this function. The function handles the case where the dimensions of the image are either 1x1 or larger, filling the screen accordingly. The caller is responsible for freeing the allocated `screen` structure when it is no longer needed.
- **Inputs**:
    - `si`: A pointer to a `sixel_image` structure that contains the image data. This pointer must not be null and should point to a valid `sixel_image`. If the provided pointer is null or points to an invalid image, the behavior of the function is undefined.
- **Output**: Returns a pointer to a newly allocated `screen` structure that represents the converted sixel image. The caller is responsible for managing the memory of this `screen` structure.
- **See also**: [`sixel_to_screen`](image-sixel.c.driver.md#sixel_to_screen)  (Implementation)


---
### server_acl_init<!-- {{#callable_declaration:server_acl_init}} -->
Initializes the server access control list.
- **Description**: This function should be called during the initialization phase of the server to set up the access control list (ACL) for users. It checks if the current user is the root user; if not, it allows access for the user with UID 0 (root) and the current user's UID. This ensures that the server can manage user permissions appropriately from the start.
- **Inputs**:
    - None
- **Output**: None
- **See also**: [`server_acl_init`](server-acl.c.driver.md#server_acl_init)  (Implementation)


---
### server_acl_user_find<!-- {{#callable_declaration:server_acl_user_find}} -->
Finds a user in the server ACL by UID.
- **Description**: This function is used to retrieve a pointer to a `server_acl_user` structure associated with a specific user ID (UID). It should be called when you need to check or manipulate the access control list (ACL) for a user. The function will return a pointer to the user structure if the user is found; otherwise, it will return NULL. It is important to ensure that the UID provided is valid and corresponds to a user that has been previously added to the ACL.
- **Inputs**:
    - `uid`: The user ID to search for. It must be a valid UID that has been previously registered in the ACL. If the UID does not correspond to any user in the ACL, the function will return NULL.
- **Output**: Returns a pointer to a `server_acl_user` structure if the user is found; otherwise, returns NULL.
- **See also**: [`server_acl_user_find`](server-acl.c.driver.md#server_acl_user_find)  (Implementation)


---
### server_acl_display<!-- {{#callable_declaration:server_acl_display}} -->
Displays the access control list of users.
- **Description**: This function is used to display the access control list (ACL) of users who have permissions on the server. It iterates through the list of users and prints their usernames along with their access rights, indicating whether they have read-only or write permissions. It is important to call this function in a context where the command queue item is valid and ready to receive output. The function handles users with a UID of 0 by skipping them, and if a user's UID cannot be resolved to a username, it will display 'unknown' instead.
- **Inputs**:
    - `item`: A pointer to a `struct cmdq_item` that represents the command queue item where the output will be printed. This pointer must not be null.
- **Output**: The function does not return a value and does not modify any inputs.
- **See also**: [`server_acl_display`](server-acl.c.driver.md#server_acl_display)  (Implementation)


---
### server_acl_user_allow<!-- {{#callable_declaration:server_acl_user_allow}} -->
Allows a user with the specified UID to access the server.
- **Description**: This function should be called to grant access to a user identified by their UID. It is typically used in scenarios where user permissions need to be managed dynamically. The function will check if the user already exists in the access control list; if not, it will create a new entry for the user. It is important to ensure that this function is called in a context where user management is appropriate, as it modifies the server's access control list.
- **Inputs**:
    - `uid`: The user ID of the user to be granted access. This should be a valid UID that corresponds to a user on the system. The function will not perform any checks to validate the UID; if an invalid UID is provided, it may lead to undefined behavior.
- **Output**: None
- **See also**: [`server_acl_user_allow`](server-acl.c.driver.md#server_acl_user_allow)  (Implementation)


---
### server_acl_user_deny<!-- {{#callable_declaration:server_acl_user_deny}} -->
Denies access to a user by UID.
- **Description**: This function is used to deny access to a user identified by their UID. It should be called when you want to revoke permissions for a specific user in the server's access control list. The function will search for the user in the access control list and, if found, will remove the user from the list and free any associated resources. It is important to ensure that this function is called in a context where the server's access control list is properly initialized.
- **Inputs**:
    - `uid`: The user ID of the user to be denied access. This should be a valid UID that corresponds to a user in the system. The function does not perform validation on the UID; if the UID does not correspond to an existing user in the access control list, no action will be taken.
- **Output**: None
- **See also**: [`server_acl_user_deny`](server-acl.c.driver.md#server_acl_user_deny)  (Implementation)


---
### server_acl_user_allow_write<!-- {{#callable_declaration:server_acl_user_allow_write}} -->
Allows a user to write by modifying their access control settings.
- **Description**: This function should be called to grant write permissions to a user identified by their user ID (`uid`). It modifies the user's access control flags to allow writing, and also updates the flags of any connected clients that belong to the same user. It is important to ensure that this function is called in a context where user permissions are being managed, and it should not be called if the user does not exist in the access control list.
- **Inputs**:
    - `uid`: The user ID of the user to be granted write access. This value must be a valid user ID. If the user does not exist in the access control list, the function will simply return without making any changes.
- **Output**: None
- **See also**: [`server_acl_user_allow_write`](server-acl.c.driver.md#server_acl_user_allow_write)  (Implementation)


---
### server_acl_user_deny_write<!-- {{#callable_declaration:server_acl_user_deny_write}} -->
Denies write access for a user.
- **Description**: This function is used to deny write access to a user identified by their user ID (`uid`). It should be called when you want to restrict a user's ability to write data, effectively making their access read-only. The function first checks if the user exists; if not, it does nothing. If the user is found, it sets the user's flags to read-only and updates the flags of any connected clients that match the user's ID, ensuring they also receive the same restriction.
- **Inputs**:
    - `uid`: The user ID of the user for whom write access is to be denied. This value must be a valid user ID. If the user does not exist, the function will simply return without making any changes.
- **Output**: None
- **See also**: [`server_acl_user_deny_write`](server-acl.c.driver.md#server_acl_user_deny_write)  (Implementation)


---
### server_acl_join<!-- {{#callable_declaration:server_acl_join}} -->
Joins a client to the server ACL.
- **Description**: This function is used to associate a `client` with the server's access control list (ACL). It should be called when a client attempts to join the server, typically after the client has been initialized. The function retrieves the user ID of the client and checks if the user is allowed to join based on the server's ACL. If the user is found and has read-only permissions, the client is marked as read-only. If the user ID cannot be retrieved or the user is not found in the ACL, the function will return 0, indicating failure.
- **Inputs**:
    - `c`: A pointer to a `client` structure representing the client attempting to join. Must not be null.
- **Output**: Returns 1 on success, indicating the client has successfully joined the ACL, or 0 on failure.
- **See also**: [`server_acl_join`](server-acl.c.driver.md#server_acl_join)  (Implementation)


---
### server_acl_get_uid<!-- {{#callable_declaration:server_acl_get_uid}} -->
Retrieves the user ID from a server ACL user structure.
- **Description**: This function is used to obtain the user ID associated with a given `server_acl_user` structure. It should be called when you need to access the user ID for permission checks or other user-related operations. The input parameter must be a valid pointer to a `server_acl_user` structure that has been properly initialized. If the provided pointer is null, the behavior is undefined.
- **Inputs**:
    - `user`: A pointer to a `server_acl_user` structure from which the user ID will be retrieved. This pointer must not be null and must point to a valid `server_acl_user` instance.
- **Output**: Returns the user ID (`uid_t`) associated with the specified `server_acl_user`. If the input pointer is invalid, the behavior is undefined.
- **See also**: [`server_acl_get_uid`](server-acl.c.driver.md#server_acl_get_uid)  (Implementation)


---
### hyperlinks_put<!-- {{#callable_declaration:hyperlinks_put}} -->
Stores a hyperlink with an associated URI and internal ID.
- **Description**: This function is used to add a hyperlink to a `hyperlinks` structure, which can be used to manage and retrieve hyperlinks efficiently. It should be called when you want to register a new hyperlink or update an existing one. If the `internal_id_in` parameter is `NULL`, it is treated as an empty string, allowing for anonymous URIs. The function ensures that each unique URI is stored only once, and if a duplicate is detected, it returns the existing entry's identifier. Be aware that if the maximum number of hyperlinks is reached, the oldest hyperlink will be removed to make space for the new one.
- **Inputs**:
    - `hl`: A pointer to a `hyperlinks` structure where the hyperlink will be stored. Must not be null.
    - `uri_in`: A string representing the URI to be stored. Must not be null and should be a valid URI format.
    - `internal_id_in`: A string representing the internal identifier for the hyperlink. Can be null, in which case it is treated as an empty string.
- **Output**: Returns a unique identifier for the stored hyperlink. If the hyperlink already exists, it returns the identifier of the existing entry.
- **See also**: [`hyperlinks_put`](hyperlinks.c.driver.md#hyperlinks_put)  (Implementation)


---
### hyperlinks_get<!-- {{#callable_declaration:hyperlinks_get}} -->
Retrieves hyperlink information based on the inner identifier.
- **Description**: This function is used to obtain the URI and associated internal and external IDs for a hyperlink identified by the `inner` parameter. It should be called after initializing the `hyperlinks` structure. If the specified `inner` identifier does not correspond to any hyperlink, the function will return 0 and the output parameters will remain unchanged. If the `inner` identifier is valid, the function populates the output parameters with the corresponding values. The output parameters can be set to NULL if the caller does not require that information.
- **Inputs**:
    - `hl`: A pointer to a `hyperlinks` structure that contains the hyperlinks data. Must not be null.
    - `inner`: An unsigned integer representing the inner identifier of the hyperlink to retrieve. Must be a valid identifier.
    - `uri_out`: A pointer to a pointer where the URI of the hyperlink will be stored. Can be NULL if the URI is not needed.
    - `internal_id_out`: A pointer to a pointer where the internal ID of the hyperlink will be stored. Can be NULL if the internal ID is not needed.
    - `external_id_out`: A pointer to a pointer where the external ID of the hyperlink will be stored. Can be NULL if the external ID is not needed.
- **Output**: Returns 1 if the hyperlink was found and the output parameters were populated; otherwise, returns 0.
- **See also**: [`hyperlinks_get`](hyperlinks.c.driver.md#hyperlinks_get)  (Implementation)


---
### hyperlinks_init<!-- {{#callable_declaration:hyperlinks_init}} -->
Initializes a new `hyperlinks` structure.
- **Description**: This function is used to create and initialize a new `hyperlinks` structure, which is essential for managing hyperlink data within the application. It should be called before any operations that require hyperlink management. The function allocates memory for the structure and sets its initial state, ensuring that it is ready for use. It is important to note that the caller is responsible for freeing the allocated memory when it is no longer needed.
- **Inputs**:
    - None
- **Output**: Returns a pointer to the newly initialized `hyperlinks` structure. If memory allocation fails, the behavior is undefined.
- **See also**: [`hyperlinks_init`](hyperlinks.c.driver.md#hyperlinks_init)  (Implementation)


---
### hyperlinks_copy<!-- {{#callable_declaration:hyperlinks_copy}} -->
Creates a copy of the specified `hyperlinks` structure.
- **Description**: This function is used to create a new reference to an existing `hyperlinks` structure, effectively incrementing its reference count. It should be called when you need to share the `hyperlinks` structure across different parts of your application without modifying the original instance. The caller must ensure that the `hyperlinks` structure is valid and properly initialized before calling this function. If the input is null, the behavior is undefined.
- **Inputs**:
    - `hl`: A pointer to the `hyperlinks` structure to be copied. Must not be null and must point to a valid `hyperlinks` instance.
- **Output**: Returns a pointer to the same `hyperlinks` structure passed as input, with its reference count incremented.
- **See also**: [`hyperlinks_copy`](hyperlinks.c.driver.md#hyperlinks_copy)  (Implementation)


---
### hyperlinks_reset<!-- {{#callable_declaration:hyperlinks_reset}} -->
Resets the hyperlinks structure.
- **Description**: This function is used to clear all hyperlinks stored in the provided `hyperlinks` structure. It should be called when you want to remove all existing hyperlinks, typically before reinitializing or repopulating the structure with new data. The function does not return any value and does not modify the input structure itself, but it will affect the state of the hyperlinks contained within it.
- **Inputs**:
    - `hl`: A pointer to a `hyperlinks` structure that contains the hyperlinks to be reset. This pointer must not be null, and the structure must be properly initialized before calling this function. If the pointer is null, the behavior is undefined.
- **Output**: None
- **See also**: [`hyperlinks_reset`](hyperlinks.c.driver.md#hyperlinks_reset)  (Implementation)


---
### hyperlinks_free<!-- {{#callable_declaration:hyperlinks_free}} -->
Frees a `hyperlinks` structure.
- **Description**: This function is used to decrement the reference count of a `hyperlinks` structure. When the reference count reaches zero, it resets the structure and frees the allocated memory. It is important to call this function when you are done using a `hyperlinks` instance to prevent memory leaks. Ensure that the `hyperlinks` pointer passed to this function is valid and was previously initialized. Calling this function with a null pointer or an uninitialized `hyperlinks` structure may lead to undefined behavior.
- **Inputs**:
    - `hl`: A pointer to a `hyperlinks` structure. This pointer must not be null and should point to a valid `hyperlinks` instance that has been initialized. The function will decrement the reference count of this structure, and if it reaches zero, the structure will be reset and freed.
- **Output**: This function does not return a value. If the reference count of the `hyperlinks` structure reaches zero, the structure is reset and its memory is freed.
- **See also**: [`hyperlinks_free`](hyperlinks.c.driver.md#hyperlinks_free)  (Implementation)


